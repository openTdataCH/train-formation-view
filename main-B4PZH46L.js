import{$ as we,$a as Je,$b as ke,A as $t,Aa as lo,Ab as Vt,Ac as Ql,B as xs,Ba as Ym,Bb as ye,Bc as Jl,C as Me,Ca as he,Cb as _h,Cc as _b,D as dh,Da as Rs,Db as Ve,E as Lm,Ea as Xi,Eb as Yl,F as pn,Fa as Is,Fb as ql,Fc as Qi,G as $n,Ga as qm,Gb as v,Gc as ai,H as As,Ha as Sr,Hb as y,I as uh,Ia as Km,Ib as $,Ic as on,J as Ht,Ja as oi,Jb as Tt,Jc as vn,K as so,Ka as Zi,Kb as Rt,Kc as li,L as qi,La as Os,Lb as cb,M as tn,Ma as Xm,Mb as pt,N as Ki,Na as Ms,Nb as _n,O as hh,Oa as Zm,Ob as Kl,P as Nm,Pa as gn,Pb as Tn,Q as ph,Qa as Fs,Qb as xt,R as Vm,Ra as Cr,Rb as se,S as Bm,Sa as co,Sb as Xl,T as jm,Ta as Qm,Tb as x,U as fh,Ua as Jm,Ub as et,V as jl,Va as eb,Vb as Fe,W as Pt,Wa as tb,Wb as Dr,X as St,Xa as nb,Xb as db,Y as Be,Ya as ib,Yb as zt,Z as Um,Za as rb,Zb as Ye,_ as Ge,_a as mn,_b as Ae,a as U,aa as Di,ab as ob,ac as si,b as Te,ba as M,bb as f,bc as j,c as sh,ca as pe,cb as uo,cc as Se,d as ot,da as $m,db as bn,dc as Bt,e as ct,ea as Y,eb as Xt,ec as Zl,f as Mm,fa as gh,fb as Lt,fc as ub,g as Ci,ga as oe,gb as X,gc as hb,h as ah,ha as u,hb as Hl,hc as pb,i as lh,ia as ao,ib as Nt,ic as Ct,j as te,ja as Hm,jb as zl,jc as fb,k as Pe,ka as zm,kb as sb,kc as wt,l as Un,la as nn,lb as Wl,lc as jt,m as Ft,ma as kn,mb as ce,mc as vh,n as ne,na as Qe,nb as fe,nc as Hn,o as wi,oa as Le,ob as _e,oc as Ps,p as Ds,pa as Ne,pb as Gl,pc as yh,q as Fm,qa as Ul,qb as kt,qc as gb,r as J,ra as fn,rb as H,rc as mb,s as hn,sa as ks,sb as mh,sc as Er,t as en,ta as dt,tb as ho,tc as qe,u as ch,ua as Ts,ub as ab,uc as Sh,v as Nl,va as Wm,vb as bh,vc as bb,w as Es,wa as Gm,wb as lb,wc as Ce,x as Vl,xa as $l,xb as wr,xc as Ei,y as Bl,ya as Q,yb as ue,yc as rn,z as Pm,za as me,zb as C,zc as po}from"./chunk-A4H4KF3O.js";var le=new Y("");var Sb=null;function Rn(){return Sb}function Ch(t){Sb??=t}var Ls=class{},Ns=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(Cb),providedIn:"platform"})}return t})(),wh=new Y(""),Cb=(()=>{class t extends Ns{_location;_history;_doc=u(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(e){let i=Rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ec(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function vb(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function zn(t){return t&&t[0]!=="?"?`?${t}`:t}var Wn=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(nc),providedIn:"root"})}return t})(),tc=new Y(""),nc=(()=>{class t extends Wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??u(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ec(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+zn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+zn(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+zn(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(oe(Ns),oe(tc,8))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ci=(()=>{class t{_subject=new te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=Cw(vb(yb(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+zn(i))}normalize(e){return t.stripTrailingSlash(Sw(this._basePath,yb(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=zn;static joinWithSlash=ec;static stripTrailingSlash=vb;static \u0275fac=function(i){return new(i||t)(oe(Wn))};static \u0275prov=M({token:t,factory:()=>yw(),providedIn:"root"})}return t})();function yw(){return new ci(oe(Wn))}function Sw(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function yb(t){return t.replace(/\/index.html$/,"")}function Cw(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Rh=(()=>{class t extends Wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=ec(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+zn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+zn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(oe(Ns),oe(tc,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var Wt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Wt||{}),Ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ke||{}),sn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(sn||{}),Ai={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ab(t){return Tn(t)[xt.LocaleId]}function kb(t,n,e){let i=Tn(t),r=[i[xt.DayPeriodsFormat],i[xt.DayPeriodsStandalone]],o=In(r,n);return In(o,e)}function Tb(t,n,e){let i=Tn(t),r=[i[xt.DaysFormat],i[xt.DaysStandalone]],o=In(r,n);return In(o,e)}function Rb(t,n,e){let i=Tn(t),r=[i[xt.MonthsFormat],i[xt.MonthsStandalone]],o=In(r,n);return In(o,e)}function Ib(t,n){let i=Tn(t)[xt.Eras];return In(i,n)}function Vs(t,n){let e=Tn(t);return In(e[xt.DateFormat],n)}function Bs(t,n){let e=Tn(t);return In(e[xt.TimeFormat],n)}function js(t,n){let i=Tn(t)[xt.DateTimeFormat];return In(i,n)}function Us(t,n){let e=Tn(t),i=e[xt.NumberSymbols][n];if(typeof i>"u"){if(n===Ai.CurrencyDecimal)return e[xt.NumberSymbols][Ai.Decimal];if(n===Ai.CurrencyGroup)return e[xt.NumberSymbols][Ai.Group]}return i}function Ob(t){if(!t[xt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[xt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mb(t){let n=Tn(t);return Ob(n),(n[xt.ExtraData][2]||[]).map(i=>typeof i=="string"?Dh(i):[Dh(i[0]),Dh(i[1])])}function Fb(t,n,e){let i=Tn(t);Ob(i);let r=[i[xt.ExtraData][0],i[xt.ExtraData][1]],o=In(r,n)||[];return In(o,e)||[]}function In(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Dh(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var ww=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ic={},Dw=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Yn(t,n,e,i){let r=Mw(t);n=xi(e,n)||n;let s=[],a;for(;n;)if(a=Dw.exec(n),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;n=d}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=Lb(i,l),r=Ow(r,i));let c="";return s.forEach(d=>{let h=Rw(d);c+=h?h(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function lc(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function xi(t,n){let e=Ab(t);if(ic[e]??={},ic[e][n])return ic[e][n];let i="";switch(n){case"shortDate":i=Vs(t,sn.Short);break;case"mediumDate":i=Vs(t,sn.Medium);break;case"longDate":i=Vs(t,sn.Long);break;case"fullDate":i=Vs(t,sn.Full);break;case"shortTime":i=Bs(t,sn.Short);break;case"mediumTime":i=Bs(t,sn.Medium);break;case"longTime":i=Bs(t,sn.Long);break;case"fullTime":i=Bs(t,sn.Full);break;case"short":let r=xi(t,"shortTime"),o=xi(t,"shortDate");i=rc(js(t,sn.Short),[r,o]);break;case"medium":let s=xi(t,"mediumTime"),a=xi(t,"mediumDate");i=rc(js(t,sn.Medium),[s,a]);break;case"long":let l=xi(t,"longTime"),c=xi(t,"longDate");i=rc(js(t,sn.Long),[l,c]);break;case"full":let d=xi(t,"fullTime"),h=xi(t,"fullDate");i=rc(js(t,sn.Full),[d,h]);break}return i&&(ic[e][n]=i),i}function rc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function Gn(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Ew(t,n){return Gn(t,3).substring(0,n)}function At(t,n,e=0,i=!1,r=!1){return function(o,s){let a=xw(t,o);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return Ew(a,n);let l=Us(s,Ai.MinusSign);return Gn(a,n,l,i,r)}}function xw(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function st(t,n,e=Wt.Format,i=!1){return function(r,o){return Aw(r,o,t,n,e,i)}}function Aw(t,n,e,i,r,o){switch(e){case 2:return Rb(n,r,i)[t.getMonth()];case 1:return Tb(n,r,i)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=Mb(n),d=Fb(n,r,i),h=c.findIndex(m=>{if(Array.isArray(m)){let[_,p]=m,g=s>=_.hours&&a>=_.minutes,S=s<p.hours||s===p.hours&&a<p.minutes;if(_.hours<p.hours){if(g&&S)return!0}else if(g||S)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return kb(n,r,i)[s<12?0:1];case 3:return Ib(n,i)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function oc(t){return function(n,e,i){let r=-1*i,o=Us(e,Ai.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+Gn(s,2,o)+Gn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Gn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var kw=0,ac=4;function Tw(t){let n=lc(t,kw,1).getDay();return lc(t,0,1+(n<=ac?ac:ac+7)-n)}function Pb(t){let n=t.getDay(),e=n===0?-3:ac-n;return lc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Eh(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=Pb(e),s=Tw(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Gn(r,t,Us(i,Ai.MinusSign))}}function sc(t,n=!1){return function(e,i){let o=Pb(e).getFullYear();return Gn(o,t,Us(i,Ai.MinusSign),n)}}var xh={};function Rw(t){if(xh[t])return xh[t];let n;switch(t){case"G":case"GG":case"GGG":n=st(3,Ke.Abbreviated);break;case"GGGG":n=st(3,Ke.Wide);break;case"GGGGG":n=st(3,Ke.Narrow);break;case"y":n=At(0,1,0,!1,!0);break;case"yy":n=At(0,2,0,!0,!0);break;case"yyy":n=At(0,3,0,!1,!0);break;case"yyyy":n=At(0,4,0,!1,!0);break;case"Y":n=sc(1);break;case"YY":n=sc(2,!0);break;case"YYY":n=sc(3);break;case"YYYY":n=sc(4);break;case"M":case"L":n=At(1,1,1);break;case"MM":case"LL":n=At(1,2,1);break;case"MMM":n=st(2,Ke.Abbreviated);break;case"MMMM":n=st(2,Ke.Wide);break;case"MMMMM":n=st(2,Ke.Narrow);break;case"LLL":n=st(2,Ke.Abbreviated,Wt.Standalone);break;case"LLLL":n=st(2,Ke.Wide,Wt.Standalone);break;case"LLLLL":n=st(2,Ke.Narrow,Wt.Standalone);break;case"w":n=Eh(1);break;case"ww":n=Eh(2);break;case"W":n=Eh(1,!0);break;case"d":n=At(2,1);break;case"dd":n=At(2,2);break;case"c":case"cc":n=At(7,1);break;case"ccc":n=st(1,Ke.Abbreviated,Wt.Standalone);break;case"cccc":n=st(1,Ke.Wide,Wt.Standalone);break;case"ccccc":n=st(1,Ke.Narrow,Wt.Standalone);break;case"cccccc":n=st(1,Ke.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":n=st(1,Ke.Abbreviated);break;case"EEEE":n=st(1,Ke.Wide);break;case"EEEEE":n=st(1,Ke.Narrow);break;case"EEEEEE":n=st(1,Ke.Short);break;case"a":case"aa":case"aaa":n=st(0,Ke.Abbreviated);break;case"aaaa":n=st(0,Ke.Wide);break;case"aaaaa":n=st(0,Ke.Narrow);break;case"b":case"bb":case"bbb":n=st(0,Ke.Abbreviated,Wt.Standalone,!0);break;case"bbbb":n=st(0,Ke.Wide,Wt.Standalone,!0);break;case"bbbbb":n=st(0,Ke.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":n=st(0,Ke.Abbreviated,Wt.Format,!0);break;case"BBBB":n=st(0,Ke.Wide,Wt.Format,!0);break;case"BBBBB":n=st(0,Ke.Narrow,Wt.Format,!0);break;case"h":n=At(3,1,-12);break;case"hh":n=At(3,2,-12);break;case"H":n=At(3,1);break;case"HH":n=At(3,2);break;case"m":n=At(4,1);break;case"mm":n=At(4,2);break;case"s":n=At(5,1);break;case"ss":n=At(5,2);break;case"S":n=At(6,1);break;case"SS":n=At(6,2);break;case"SSS":n=At(6,3);break;case"Z":case"ZZ":case"ZZZ":n=oc(0);break;case"ZZZZZ":n=oc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=oc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=oc(2);break;default:return null}return xh[t]=n,n}function Lb(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Iw(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function Ow(t,n,e){let r=t.getTimezoneOffset(),o=Lb(n,r);return Iw(t,-1*(o-r))}function Mw(t){if(wb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return lc(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(ww))return Fw(i)}let n=new Date(t);if(!wb(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function Fw(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function wb(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ah=/\s+/,Db=[],ki=(()=>{class t{_ngEl;_renderer;initialClasses=Db;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(Ah):Db}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Ah):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Ah).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(X(he),X(Lt))};static \u0275dir=_e({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var cc=class{$implicit;ngForOf;index;count;constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ji=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new cc(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Eb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Eb(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||t)(X(Nt),X(bn),X(Sh))};static \u0275dir=_e({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Eb(t,n){t.context.$implicit=n.item}var xr=(()=>{class t{_viewContainer;_context=new dc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xb(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xb(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||t)(X(Nt),X(bn))};static \u0275dir=_e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),dc=class{$implicit=null;ngIf=null};function xb(t,n){if(t&&!t.createEmbeddedView)throw new we(2020,!1)}var Ih=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||t)(X(Nt))};static \u0275dir=_e({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Qe]})}return t})();function Oh(t,n){return new we(2100,!1)}var kh=class{createSubscription(n,e){return rn(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){rn(()=>n.unsubscribe())}},Th=class{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}},Pw=new Th,Lw=new kh,Zt=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(ho(e))return Pw;if(ab(e))return Lw;throw Oh(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(X(qe,16))};static \u0275pipe=Gl({name:"async",type:t,pure:!1})}return t})();var Nw=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Mh=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw Oh(t,e);return e.replace(Nw,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Gl({name:"titlecase",type:t,pure:!0})}return t})();var Vw="mediumDate",Nb=new Y(""),Vb=new Y(""),$s=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??Vw,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Yn(e,s,o||this.locale,a)}catch(s){throw Oh(t,s.message)}}static \u0275fac=function(i){return new(i||t)(X(Er,16),X(Nb,24),X(Vb,24))};static \u0275pipe=Gl({name:"date",type:t,pure:!0})}return t})();var On=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();function Hs(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var uc="browser",Bb="server";function Fh(t){return t===uc}function hc(t){return t===Bb}var Ar=class{};var jb=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>new Ph(u(le),window)})}return t})(),Ph=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=jw(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function jw(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var gc=new Y(""),Bh=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new we(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(oe(gc),oe(me))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),zs=class{_doc;constructor(n){this._doc=n}manager},pc="ng-app-id";function Ub(t){for(let n of t)n.remove()}function $b(t,n){let e=n.createElement("style");return e.textContent=t,e}function Uw(t,n,e,i){let r=t.head?.querySelectorAll(`style[${pc}="${n}"],link[${pc}="${n}"]`);if(r)for(let o of r)o.removeAttribute(pc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Nh(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var jh=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=hc(o),Uw(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,$b);i?.forEach(r=>this.addUsage(r,this.external,Nh))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(Ub(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ub(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,$b(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Nh(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(pc,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(oe(le),oe(Sr),oe(Os,8),oe(oi))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var zb="%COMP%",$w=`_nghost-${zb}`,Hw=`_ngcontent-${zb}`,zw=!0,Ww=new Y("",{providedIn:"root",factory:()=>zw});function Gw(t){return Hw.replace(Uh,t)}function Yw(t){return $w.replace(Uh,t)}function Wb(t,n){return n.map(e=>e.replace(Uh,t))}var Ys=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,a,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=hc(a),this.defaultRenderer=new Ws(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fs.ShadowDom&&(i=Te(U({},i),{encapsulation:Fs.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof fc?r.applyToHost(e):r instanceof Gs&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case Fs.Emulated:o=new fc(l,c,i,this.appId,d,s,a,h,m);break;case Fs.ShadowDom:return new Vh(l,c,e,i,s,a,this.nonce,h,m);default:o=new Gs(l,c,i,d,s,a,h,m);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(oe(Bh),oe(jh),oe(Sr),oe(Ww),oe(le),oe(oi),oe(me),oe(Os),oe(Xm,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Ws=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,r,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Lh[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Hb(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Hb(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new we(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Lh[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Lh[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(uo.DashCase|uo.Important)?n.style.setProperty(e,i,r&uo.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&uo.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,r){if(typeof n=="string"&&(n=Rn().getGlobalEventTarget(this.doc,n),!n))throw new we(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,r)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Hb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vh=class extends Ws{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,i,r,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Wb(r.id,d);for(let m of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=m,this.shadowRoot.appendChild(_)}let h=r.getExternalStyles?.();if(h)for(let m of h){let _=Nh(m,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gs=class extends Ws{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,r,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?Wb(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},fc=class extends Gs{contentAttr;hostAttr;constructor(n,e,i,r,o,s,a,l,c){let d=r+"-"+i.id;super(n,e,i,o,s,a,l,c,d),this.contentAttr=Gw(d),this.hostAttr=Yw(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}};var mc=class t extends Ls{supportsDOMEvents=!0;static makeCurrent(){Ch(new t)}onAndCancel(n,e,i,r){return n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=Kw();return e==null?null:Xw(e)}resetBaseElement(){qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Hs(document.cookie,n)}},qs=null;function Kw(){return qs=qs||document.querySelector("base"),qs?qs.getAttribute("href"):null}function Xw(t){return new URL(t,document.baseURI).pathname}var Zw=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Yb=(()=>{class t extends zs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(oe(le))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Gb=["alt","control","meta","shift"],Qw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qb=(()=>{class t extends zs{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Gb.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=Qw[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Gb.forEach(s=>{if(s!==r){let a=Jw[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||t)(oe(le))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function $h(t,n){return bb(U({rootComponent:t},eD(n)))}function eD(t){return{appProviders:[...oD,...t?.providers??[]],platformProviders:rD}}function tD(){mc.makeCurrent()}function nD(){return new lo}function iD(){return qm(document),document}var rD=[{provide:oi,useValue:uc},{provide:Km,useValue:tD,multi:!0},{provide:le,useFactory:iD}];var oD=[{provide:zm,useValue:"root"},{provide:lo,useFactory:nD},{provide:gc,useClass:Yb,multi:!0,deps:[le]},{provide:gc,useClass:qb,multi:!0,deps:[le]},Ys,jh,Bh,{provide:Xt,useExisting:Ys},{provide:Ar,useClass:Zw},[]];var mo=class{},Ks=class{},er=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var _c=class{encodeKey(n){return Kb(n)}encodeValue(n){return Kb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function sD(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var aD=/%(\d[a-f0-9])/gi,lD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kb(t){return encodeURIComponent(t).replace(aD,(n,e)=>lD[e]??n)}function bc(t){return`${t}`}var qn=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new _c,n.fromString){if(n.fromObject)throw new we(2805,!1);this.map=sD(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(bc):[bc(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(bc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(bc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var vc=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function cD(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Zb(t){return typeof Blob<"u"&&t instanceof Blob}function Qb(t){return typeof FormData<"u"&&t instanceof FormData}function dD(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jb="Content-Type",e_="Accept",t_="X-Request-URL",n_="text/plain",i_="application/json",uD=`${i_}, ${n_}, */*`,go=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,i,r){this.url=e,this.method=n.toUpperCase();let o;if(cD(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new er,this.context??=new vc,!this.params)this.params=new qn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xb(this.body)||Zb(this.body)||Qb(this.body)||dD(this.body)?this.body:this.body instanceof qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Qb(this.body)?null:Zb(this.body)?this.body.type||null:Xb(this.body)?null:typeof this.body=="string"?n_:this.body instanceof qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?i_:null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,d=n.params||this.params,h=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((m,_)=>m.set(_,n.setHeaders[_]),c)),n.setParams&&(d=Object.keys(n.setParams).reduce((m,_)=>m.set(_,n.setParams[_]),d)),new t(e,i,s,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},kr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(kr||{}),bo=class{headers;status;statusText;url;ok;type;constructor(n,e=200,i="OK"){this.headers=n.headers||new er,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},yc=class t extends bo{constructor(n={}){super(n)}type=kr.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Xs=class t extends bo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=kr.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Zs=class extends bo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},hD=200,pD=204;function Hh(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var tr=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof go)o=e;else{let l;r.headers instanceof er?l=r.headers:l=new er(r.headers);let c;r.params&&(r.params instanceof qn?c=r.params:c=new qn({fromObject:r.params})),o=new go(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=ne(o).pipe($n(l=>this.handler.handle(l)));if(e instanceof go||r.observe==="events")return s;let a=s.pipe(Me(l=>l instanceof Xs));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new we(2806,!1);return l.body}));case"blob":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new we(2807,!1);return l.body}));case"text":return a.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new we(2808,!1);return l.body}));case"json":default:return a.pipe(J(l=>l.body))}case"response":return a;default:throw new we(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new qn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Hh(r,i))}post(e,i,r={}){return this.request("POST",e,Hh(r,i))}put(e,i,r={}){return this.request("PUT",e,Hh(r,i))}static \u0275fac=function(i){return new(i||t)(oe(mo))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var fD=new Y("");function gD(t,n){return n(t)}function mD(t,n,e){return(i,r)=>kn(e,()=>n(i,o=>t(o,r)))}var Wh=new Y(""),r_=new Y(""),o_=new Y("",{providedIn:"root",factory:()=>!0});var Sc=(()=>{class t extends mo{backend;injector;chain=null;pendingTasks=u($l);contributeToStability=u(o_);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Wh),...this.injector.get(r_,[])]));this.chain=i.reduceRight((r,o)=>mD(r,o,this.injector),gD)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(tn(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(oe(Ks),oe(nn))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var bD=/^\)\]\}',?\n/,_D=RegExp(`^${t_}:`,"m");function vD(t){return"responseURL"in t&&t.responseURL?t.responseURL:_D.test(t.getAllResponseHeaders())?t.getResponseHeader(t_):null}var zh=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new we(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ft(i.\u0275loadImpl()):ne(null)).pipe(St(()=>new Ci(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((g,S)=>s.setRequestHeader(g,S.join(","))),e.headers.has(e_)||s.setRequestHeader(e_,uD),!e.headers.has(Jb)){let g=e.detectContentTypeHeader();g!==null&&s.setRequestHeader(Jb,g)}if(e.responseType){let g=e.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",S=new er(s.getAllResponseHeaders()),b=vD(s)||e.url;return l=new yc({headers:S,status:s.status,statusText:g,url:b}),l},d=()=>{let{headers:g,status:S,statusText:b,url:R}=c(),D=null;S!==pD&&(D=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=D?hD:0);let A=S>=200&&S<300;if(e.responseType==="json"&&typeof D=="string"){let k=D;D=D.replace(bD,"");try{D=D!==""?JSON.parse(D):null}catch(I){D=k,A&&(A=!1,D={error:I,text:D})}}A?(o.next(new Xs({body:D,headers:g,status:S,statusText:b,url:R||void 0})),o.complete()):o.error(new Zs({error:D,headers:g,status:S,statusText:b,url:R||void 0}))},h=g=>{let{url:S}=c(),b=new Zs({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(b)},m=!1,_=g=>{m||(o.next(c()),m=!0);let S={type:kr.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(S.total=g.total),e.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},p=g=>{let S={type:kr.UploadProgress,loaded:g.loaded};g.lengthComputable&&(S.total=g.total),o.next(S)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:kr.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||t)(oe(Ar))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),s_=new Y(""),yD="XSRF-TOKEN",SD=new Y("",{providedIn:"root",factory:()=>yD}),CD="X-XSRF-TOKEN",wD=new Y("",{providedIn:"root",factory:()=>CD}),Qs=class{},DD=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hs(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||t)(oe(le),oe(oi),oe(SD))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function ED(t,n){let e=t.url.toLowerCase();if(!u(s_)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=u(Qs).getToken(),r=u(wD);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var Gh=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Gh||{});function xD(t,n){return{\u0275kind:t,\u0275providers:n}}function Yh(...t){let n=[tr,zh,Sc,{provide:mo,useExisting:Sc},{provide:Ks,useFactory:()=>u(fD,{optional:!0})??u(zh)},{provide:Wh,useValue:ED,multi:!0},{provide:s_,useValue:!0},{provide:Qs,useClass:DD}];for(let e of t)n.push(...e.\u0275providers);return ao(n)}function qh(t){return xD(Gh.Interceptors,t.map(n=>({provide:Wh,useValue:n,multi:!0})))}var a_=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(oe(le))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xh=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=oe(TD),r},providedIn:"root"})}return t})(),TD=(()=>{class t extends Xh{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case mn.NONE:return i;case mn.HTML:return co(i,"HTML")?Cr(i):rb(this._doc,String(i)).toString();case mn.STYLE:return co(i,"Style")?Cr(i):i;case mn.SCRIPT:if(co(i,"Script"))return Cr(i);throw new we(5200,!1);case mn.URL:return co(i,"URL")?Cr(i):ib(String(i));case mn.RESOURCE_URL:if(co(i,"ResourceURL"))return Cr(i);throw new we(5201,!1);default:throw new we(5202,!1)}}bypassSecurityTrustHtml(e){return Qm(e)}bypassSecurityTrustStyle(e){return Jm(e)}bypassSecurityTrustScript(e){return eb(e)}bypassSecurityTrustUrl(e){return tb(e)}bypassSecurityTrustResourceUrl(e){return nb(e)}static \u0275fac=function(i){return new(i||t)(oe(le))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yn=(t,n)=>{let{o:e,i,u:r}=t,o=e,s,a=(d,h)=>{let m=o,_=d,p=h||(i?!i(m,_):m!==_);return(p||r)&&(o=_,s=m),[o,p,s]};return[n?d=>a(n(o,s),d):a,d=>[o,!!d,s]]},RD=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,ln=RD?window:{},Ac=Math.max,ID=Math.min,ip=Math.round,kc=Math.abs,c_=Math.sign,mp=ln.cancelAnimationFrame,Lc=ln.requestAnimationFrame,bp=ln.setTimeout,T_=ln.clearTimeout,Nc=t=>typeof ln[t]<"u"?ln[t]:void 0,OD=Nc("MutationObserver"),d_=Nc("IntersectionObserver"),_o=Nc("ResizeObserver"),Js=Nc("ScrollTimeline"),_p=t=>t===void 0,Vc=t=>t===null,Oi=t=>typeof t=="number",ia=t=>typeof t=="string",Bc=t=>typeof t=="boolean",Mn=t=>typeof t=="function",Xn=t=>Array.isArray(t),Tc=t=>typeof t=="object"&&!Xn(t)&&!Vc(t),vp=t=>{let n=!!t&&t.length,e=Oi(n)&&n>-1&&n%1==0;return Xn(t)||!Mn(t)&&e?n>0&&Tc(t)?n-1 in t:!0:!1},Rc=t=>!!t&&t.constructor===Object,Ic=t=>t instanceof HTMLElement,jc=t=>t instanceof Element,u_=()=>performance.now(),Zh=(t,n,e,i,r)=>{let o=0,s=u_(),a=Ac(0,e),l=c=>{let d=u_(),m=d-s>=a,_=c?1:1-(Ac(0,s+a-d)/a||0),p=(n-t)*(Mn(r)?r(_,_*a,0,1,a):_)+t,g=m||_===1;i&&i(p,_,g),o=g?0:Lc(()=>l())};return l(),c=>{mp(o),c&&l(c)}};function Xe(t,n){if(vp(t))for(let e=0;e<t.length&&n(t[e],e,t)!==!1;e++);else t&&Xe(Object.keys(t),e=>n(t[e],e,t));return t}var R_=(t,n)=>t.indexOf(n)>=0,ea=(t,n)=>t.concat(n),mt=(t,n,e)=>(!ia(n)&&vp(n)?Array.prototype.push.apply(t,n):t.push(n),t),ir=t=>Array.from(t||[]),yp=t=>Xn(t)?t:!ia(t)&&vp(t)?ir(t):[t],Oc=t=>!!t&&!t.length,rp=t=>ir(new Set(t)),Cn=(t,n,e)=>{Xe(t,r=>r?r.apply(void 0,n||[]):!0),e||(t.length=0)},I_="paddingTop",O_="paddingRight",M_="paddingLeft",F_="paddingBottom",P_="marginLeft",L_="marginRight",N_="marginBottom",Sp="overflowX",Cp="overflowY",Uc="width",$c="height",Ii="visible",Kn="hidden",wo="scroll",MD=t=>{let n=String(t||"");return n?n[0].toUpperCase()+n.slice(1):""},Hc=(t,n,e,i)=>{if(t&&n){let r=!0;return Xe(e,o=>{let s=t[o],a=n[o];s!==a&&(r=!1)}),r}return!1},V_=(t,n)=>Hc(t,n,["w","h"]),Dc=(t,n)=>Hc(t,n,["x","y"]),FD=(t,n)=>Hc(t,n,["t","r","b","l"]),be=(t,...n)=>t.bind(0,...n),Rr=t=>{let n,e=t?bp:Lc,i=t?T_:mp;return[r=>{i(n),n=e(()=>r(),Mn(t)?t():t)},()=>i(n)]},h_=t=>{let n=Mn(t)?t():t;if(Oi(n)){let e=n?bp:Lc,i=n?T_:mp;return r=>{let o=e(()=>r(),n);return()=>{i(o)}}}return n&&n._},Mc=(t,n)=>{let{p:e,v:i,S:r,m:o}=n||{},s,a,l,c,d,h=function(S){a&&a(),s&&s(),d=a=s=l=void 0,t.apply(this,S)},m=g=>o&&l?o(l,g):g,_=()=>{a&&h(m(c)||c)},p=function(){let S=ir(arguments),b=h_(e);if(b){let R=h_(i),A=m(S)||S,k=h.bind(0,A);a&&a(),r&&!d?(k(),d=!0,a=b(()=>d=void 0)):(a=b(k),R&&!s&&(s=R(_))),l=c=A}else h(S)};return p.O=_,p},B_=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),Zn=t=>t?Object.keys(t):[],je=(t,n,e,i,r,o,s)=>{let a=[n,e,i,r,o,s];return(typeof t!="object"||Vc(t))&&!Mn(t)&&(t={}),Xe(a,l=>{Xe(l,(c,d)=>{let h=l[d];if(t===h)return!0;let m=Xn(h);if(h&&Rc(h)){let _=t[d],p=_;m&&!Xn(_)?p=[]:!m&&!Rc(_)&&(p={}),t[d]=je(p,h)}else t[d]=m?h.slice():h})}),t},j_=(t,n)=>Xe(je({},t),(e,i,r)=>{e===void 0?delete r[i]:e&&Rc(e)&&(r[i]=j_(e))}),wp=t=>!Zn(t).length,Do=()=>{},U_=(t,n,e)=>Ac(t,ID(n,e)),Ir=t=>rp((Xn(t)?t:(t||"").split(" ")).filter(n=>n)),Dp=(t,n)=>t&&t.getAttribute(n),p_=(t,n)=>t&&t.hasAttribute(n),Ti=(t,n,e)=>{Xe(Ir(n),i=>{t&&t.setAttribute(i,String(e||""))})},di=(t,n)=>{Xe(Ir(n),e=>t&&t.removeAttribute(e))},zc=(t,n)=>{let e=Ir(Dp(t,n)),i=be(Ti,t,n),r=(o,s)=>{let a=new Set(e);return Xe(Ir(o),l=>{a[s](l)}),ir(a).join(" ")};return{$:o=>i(r(o,"delete")),C:o=>i(r(o,"add")),H:o=>{let s=Ir(o);return s.reduce((a,l)=>a&&e.includes(l),s.length>0)}}},$_=(t,n,e)=>(zc(t,n).$(e),be(Ep,t,n,e)),Ep=(t,n,e)=>(zc(t,n).C(e),be($_,t,n,e)),Fc=(t,n,e,i)=>(i?Ep:$_)(t,n,e),xp=(t,n,e)=>zc(t,n).H(e),H_=t=>zc(t,"class"),z_=(t,n)=>{H_(t).$(n)},Ap=(t,n)=>(H_(t).C(n),be(z_,t,n)),W_=(t,n)=>{let e=n?jc(n)&&n:document;return e?ir(e.querySelectorAll(t)):[]},PD=(t,n)=>{let e=n?jc(n)&&n:document;return e&&e.querySelector(t)},op=(t,n)=>jc(t)&&t.matches(n),G_=t=>op(t,"body"),sp=t=>t?ir(t.childNodes):[],ta=t=>t&&t.parentElement,vo=(t,n)=>jc(t)&&t.closest(n),ap=t=>document.activeElement,LD=(t,n,e)=>{let i=vo(t,n),r=t&&PD(e,i),o=vo(r,n)===i;return i&&r?i===t||r===t||o&&vo(vo(t,e),n)!==i:!1},Eo=t=>{Xe(yp(t),n=>{let e=ta(n);n&&e&&e.removeChild(n)})},an=(t,n)=>be(Eo,t&&n&&Xe(yp(n),e=>{e&&t.appendChild(e)})),Y_,ND=()=>Y_,VD=t=>{Y_=t},So=t=>{let n=document.createElement("div");return Ti(n,"class",t),n},q_=t=>{let n=So(),e=ND(),i=t.trim();return n.innerHTML=e?e.createHTML(i):i,Xe(sp(n),r=>Eo(r))},f_=(t,n)=>t.getPropertyValue(n)||t[n]||"",K_=t=>{let n=t||0;return isFinite(n)?n:0},Cc=t=>K_(parseFloat(t||"")),lp=t=>Math.round(t*1e4)/1e4,X_=t=>`${lp(K_(t))}px`;function na(t,n){t&&n&&Xe(n,(e,i)=>{try{let r=t.style,o=Vc(e)||Bc(e)?"":Oi(e)?X_(e):e;i.indexOf("--")===0?r.setProperty(i,o):r[i]=o}catch{}})}function hi(t,n,e){let i=ia(n),r=i?"":{};if(t){let o=ln.getComputedStyle(t,e)||t.style;r=i?f_(o,n):ir(n).reduce((s,a)=>(s[a]=f_(o,a),s),r)}return r}var g_=(t,n,e)=>{let i=n?`${n}-`:"",r=e?`-${e}`:"",o=`${i}top${r}`,s=`${i}right${r}`,a=`${i}bottom${r}`,l=`${i}left${r}`,c=hi(t,[o,s,a,l]);return{t:Cc(c[o]),r:Cc(c[s]),b:Cc(c[a]),l:Cc(c[l])}},Qh=(t,n)=>`translate${Tc(t)?`(${t.x},${t.y})`:`${n?"X":"Y"}(${t})`}`,BD=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),jD={w:0,h:0},Wc=(t,n)=>n?{w:n[`${t}Width`],h:n[`${t}Height`]}:jD,UD=t=>Wc("inner",t||ln),Co=be(Wc,"offset"),Z_=be(Wc,"client"),Pc=be(Wc,"scroll"),kp=t=>{let n=parseFloat(hi(t,Uc))||0,e=parseFloat(hi(t,$c))||0;return{w:n-ip(n),h:e-ip(e)}},Jh=t=>t.getBoundingClientRect(),$D=t=>!!t&&BD(t),cp=t=>!!(t&&(t[$c]||t[Uc])),Q_=(t,n)=>{let e=cp(t);return!cp(n)&&e},m_=(t,n,e,i)=>{Xe(Ir(n),r=>{t&&t.removeEventListener(r,e,i)})},ft=(t,n,e,i)=>{var r;let o=(r=i&&i.I)!=null?r:!0,s=i&&i.T||!1,a=i&&i.A||!1,l={passive:o,capture:s};return be(Cn,Ir(n).map(c=>{let d=a?h=>{m_(t,c,d,s),e&&e(h)}:e;return t&&t.addEventListener(c,d,l),be(m_,t,c,d,s)}))},J_=t=>t.stopPropagation(),dp=t=>t.preventDefault(),ev=t=>J_(t)||dp(t),ui=(t,n)=>{let{x:e,y:i}=Oi(n)?{x:n,y:n}:n||{};Oi(e)&&(t.scrollLeft=e),Oi(i)&&(t.scrollTop=i)},Sn=t=>({x:t.scrollLeft,y:t.scrollTop}),tv=()=>({D:{x:0,y:0},M:{x:0,y:0}}),HD=(t,n)=>{let{D:e,M:i}=t,{w:r,h:o}=n,s=(h,m,_)=>{let p=c_(h)*_,g=c_(m)*_;if(p===g){let S=kc(h),b=kc(m);g=S>b?0:g,p=S<b?0:p}return p=p===g?0:p,[p+0,g+0]},[a,l]=s(e.x,i.x,r),[c,d]=s(e.y,i.y,o);return{D:{x:a,y:c},M:{x:l,y:d}}},ep=({D:t,M:n})=>{let e=(i,r)=>i===0&&i<=r;return{x:e(t.x,n.x),y:e(t.y,n.y)}},b_=({D:t,M:n},e)=>{let i=(r,o,s)=>U_(0,1,(r-s)/(r-o)||0);return{x:i(t.x,n.x,e.x),y:i(t.y,n.y,e.y)}},up=t=>{t&&t.focus&&t.focus({preventScroll:!0})},__=(t,n)=>{Xe(yp(n),t)},hp=t=>{let n=new Map,e=(o,s)=>{if(o){let a=n.get(o);__(l=>{a&&a[l?"delete":"clear"](l)},s)}else n.forEach(a=>{a.clear()}),n.clear()},i=(o,s)=>{if(ia(o)){let c=n.get(o)||new Set;return n.set(o,c),__(d=>{Mn(d)&&c.add(d)},s),be(e,o,s)}Bc(s)&&s&&e();let a=Zn(o),l=[];return Xe(a,c=>{let d=o[c];d&&mt(l,i(c,d))}),be(Cn,l)},r=(o,s)=>{Xe(ir(n.get(o)),a=>{s&&!Oc(s)?a.apply(0,s):a()})};return i(t||{}),[i,e,r]},nv={},iv={},zD=t=>{Xe(t,n=>Xe(n,(e,i)=>{nv[i]=n[i]}))},rv=(t,n,e)=>Zn(t).map(i=>{let{static:r,instance:o}=t[i],[s,a,l]=e||[],c=e?o:r;if(c){let d=e?c(s,a,n):c(n);return(l||iv)[i]=d}}),ra=t=>iv[t],WD="__osOptionsValidationPlugin",xo="data-overlayscrollbars",Ec="os-environment",wc=`${Ec}-scrollbar-hidden`,tp=`${xo}-initialize`,xc="noClipping",v_=`${xo}-body`,nr=xo,GD="host",Ri=`${xo}-viewport`,YD=Sp,qD=Cp,KD="arrange",ov="measuring",XD="scrolling",sv="scrollbarHidden",ZD="noContent",pp=`${xo}-padding`,y_=`${xo}-content`,Tp="os-size-observer",QD=`${Tp}-appear`,Rp=`${Tp}-listener`,QN=`${Rp}-scroll`,JD=`${Rp}-item`,JN=`${JD}-final`,eE="os-trinsic-observer",tE="os-theme-none",wn="os-scrollbar",nE=`${wn}-rtl`,iE=`${wn}-horizontal`,rE=`${wn}-vertical`,av=`${wn}-track`,Ip=`${wn}-handle`,oE=`${wn}-visible`,sE=`${wn}-cornerless`,S_=`${wn}-interaction`,C_=`${wn}-unusable`,fp=`${wn}-auto-hide`,w_=`${fp}-hidden`,D_=`${wn}-wheel`,aE=`${av}-interactive`,lE=`${Ip}-interactive`,cE="__osSizeObserverPlugin";var dE=(t,n)=>{let{k:e}=n,[i,r]=t("showNativeOverlaidScrollbars");return[i&&e.x&&e.y,r]},yo=t=>t.indexOf(Ii)===0,uE=t=>t.replace(`${Ii}-`,""),gp=(t,n)=>{if(t==="auto")return n?wo:Kn;let e=t||Kn;return[Kn,wo,Ii].includes(e)?e:Kn},hE=(t,n)=>{let{overflowX:e,overflowY:i}=hi(t,[Sp,Cp]);return{x:gp(e,n.x),y:gp(i,n.y)}},lv="__osScrollbarsHidingPlugin";var cv="__osClickScrollPlugin",dv={[cv]:{static:()=>(t,n,e,i)=>{let r=!1,o=Do,s=133,a=222,[l,c]=Rr(s),d=Math.sign(n),h=e*d,m=h/2,_=b=>1-(1-b)*(1-b),p=(b,R)=>Zh(b,R,a,t,_),g=(b,R)=>Zh(b,n-h,s*R,(D,A,k)=>{t(D),k&&(o=p(D,n))}),S=Zh(0,h,a,(b,R,D)=>{if(t(b),D&&(i(r),!r)){let A=n-b;Math.sign(A-m)===d&&l(()=>{let I=A-h;o=Math.sign(I)===d?g(b,Math.abs(I)/e):p(b,n)})}},_);return b=>{r=!0,b&&S(),c(),o()}}}},E_=t=>JSON.stringify(t,(n,e)=>{if(Mn(e))throw 0;return e}),x_=(t,n)=>t?`${n}`.split(".").reduce((e,i)=>e&&B_(e,i)?e[i]:void 0,t):void 0,pE={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},uv=(t,n)=>{let e={},i=ea(Zn(n),Zn(t));return Xe(i,r=>{let o=t[r],s=n[r];if(Tc(o)&&Tc(s))je(e[r]={},uv(o,s)),wp(e[r])&&delete e[r];else if(B_(n,r)&&s!==o){let a=!0;if(Xn(o)||Xn(s))try{E_(o)===E_(s)&&(a=!1)}catch{}a&&(e[r]=s)}}),e},A_=(t,n,e)=>i=>[x_(t,i),e||x_(n,i)!==void 0],hv,fE=()=>hv,gE=t=>{hv=t},np,mE=()=>{let t=(A,k,I)=>{an(document.body,A),an(document.body,A);let F=Z_(A),E=Co(A),T=kp(k);return I&&Eo(A),{x:E.h-F.h+T.h,y:E.w-F.w+T.w}},n=A=>{let k=!1,I=Ap(A,wc);try{k=hi(A,"scrollbar-width")==="none"||hi(A,"display","::-webkit-scrollbar")==="none"}catch{}return I(),k},e=`.${Ec}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Ec} div{width:200%;height:200%;margin:10px 0}.${wc}{scrollbar-width:none!important}.${wc}::-webkit-scrollbar,.${wc}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,r=q_(`<div class="${Ec}"><div></div><style>${e}</style></div>`)[0],o=r.firstChild,s=r.lastChild,a=fE();a&&(s.nonce=a);let[l,,c]=hp(),[d,h]=yn({o:t(r,o),i:Dc},be(t,r,o,!0)),[m]=h(),_=n(r),p={x:m.x===0,y:m.y===0},g={elements:{host:null,padding:!_,viewport:A=>_&&G_(A)&&A,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},S=je({},pE),b=be(je,{},S),R=be(je,{},g),D={P:m,k:p,U:_,J:!!Js,G:be(l,"r"),K:R,Z:A=>je(g,A)&&R(),tt:b,nt:A=>je(S,A)&&b(),ot:je({},g),st:je({},S)};if(di(r,"style"),Eo(r),ft(ln,"resize",()=>{c("r",[])}),Mn(ln.matchMedia)&&!_&&(!p.x||!p.y)){let A=k=>{let I=ln.matchMedia(`(resolution: ${ln.devicePixelRatio}dppx)`);ft(I,"change",()=>{k(),A(k)},{A:!0})};A(()=>{let[k,I]=d();je(D.P,k),c("r",[I])})}return D},pi=()=>(np||(np=mE()),np),bE=(t,n,e)=>{let i=!1,r=e?new WeakMap:!1,o=()=>{i=!0},s=a=>{if(r&&e){let l=e.map(c=>{let[d,h]=c||[];return[h&&d?(a||W_)(d,t):[],h]});Xe(l,c=>Xe(c[0],d=>{let h=c[1],m=r.get(d)||[];if(t.contains(d)&&h){let p=ft(d,h,g=>{i?(p(),r.delete(d)):n(g)});r.set(d,mt(m,p))}else Cn(m),r.delete(d)}))}};return s(),[o,s]},k_=(t,n,e,i)=>{let r=!1,{et:o,ct:s,rt:a,it:l,lt:c,ut:d}=i||{},h=Mc(()=>r&&e(!0),{p:33,v:99}),[m,_]=bE(t,h,a),p=o||[],g=s||[],S=ea(p,g),b=(D,A)=>{if(!Oc(A)){let k=c||Do,I=d||Do,F=[],E=[],T=!1,P=!1;if(Xe(A,z=>{let{attributeName:W,target:ie,type:ae,oldValue:Ee,addedNodes:Ie,removedNodes:Re}=z,G=ae==="attributes",K=ae==="childList",re=t===ie,N=G&&W,B=N&&Dp(ie,W||""),w=ia(B)?B:null,L=N&&Ee!==w,O=R_(g,W)&&L;if(n&&(K||!re)){let V=G&&L,q=V&&l&&op(ie,l),ee=(q?!k(ie,W,Ee,w):!G||V)&&!I(z,!!q,t,i);Xe(Ie,de=>mt(F,de)),Xe(Re,de=>mt(F,de)),P=P||ee}!n&&re&&L&&!k(ie,W,Ee,w)&&(mt(E,W),T=T||O)}),_(z=>rp(F).reduce((W,ie)=>(mt(W,W_(z,ie)),op(ie,z)?mt(W,ie):W),[])),n)return!D&&P&&e(!1),[!1];if(!Oc(E)||T){let z=[rp(E),T];return D||e.apply(0,z),z}}},R=new OD(be(b,!1));return[()=>(R.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:S,subtree:n,childList:n,characterData:n}),r=!0,()=>{r&&(m(),R.disconnect(),r=!1)}),()=>{if(r)return h.O(),b(!0,R.takeRecords())}]},Tr=null,pv=(t,n,e)=>{let{ft:i}=e||{},r=ra(cE),[o]=yn({o:!1,u:!0});return()=>{let s=[],l=q_(`<div class="${Tp}"><div class="${Rp}"></div></div>`)[0],c=l.firstChild,d=h=>{let m=Xn(h)&&!Oc(h),_=!1,p=!1;if(m){let g=h[0],[S,,b]=o(g.contentRect),R=cp(S);p=Q_(S,b),_=!p&&!R}else p=h===!0;_||n({_t:!0,ft:p})};if(_o){if(!Bc(Tr)){let p=new _o(Do);p.observe(t,{get box(){Tr=!0}}),Tr=Tr||!1,p.disconnect()}let h=Mc(d,{p:0,v:0}),m=p=>h(p),_=new _o(m);if(_.observe(Tr?t:c),mt(s,[()=>{_.disconnect()},!Tr&&an(t,l)]),Tr){let p=new _o(m);p.observe(t,{box:"border-box"}),mt(s,()=>p.disconnect())}}else if(r){let[h,m]=r(c,d,i);mt(s,ea([Ap(l,QD),ft(l,"animationstart",h),an(t,l)],m))}else return Do;return be(Cn,s)}},_E=(t,n)=>{let e,i=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,r=So(eE),[o]=yn({o:!1}),s=(l,c)=>{if(l){let d=o(i(l)),[,h]=d;return h&&!c&&n(d)&&[d]}},a=(l,c)=>s(c.pop(),l);return[()=>{let l=[];if(d_)e=new d_(be(a,!1),{root:t}),e.observe(r),mt(l,()=>{e.disconnect()});else{let c=()=>{let d=Co(r);s(d)};mt(l,pv(r,c)()),c()}return be(Cn,mt(l,an(t,r)))},()=>e&&a(!0,e.takeRecords())]},vE=(t,n,e,i)=>{let r,o,s,a,l,c,d=`[${nr}]`,h=`[${Ri}]`,m=["id","class","style","open","wrap","cols","rows"],{dt:_,vt:p,L:g,gt:S,ht:b,V:R,bt:D,wt:A,yt:k,St:I}=t,F=O=>hi(O,"direction")==="rtl",E={Ot:!1,B:F(_)},T=pi(),P=ra(lv),[z]=yn({i:V_,o:{w:0,h:0}},()=>{let O=P&&P.R(t,n,E,T,e).Y,q=!(D&&R)&&xp(p,nr,xc),Z=!R&&A(KD),ee=Z&&Sn(S),de=ee&&I(),ze=k(ov,q),Oe=Z&&O&&O(),We=Pc(g),xe=kp(g);return Oe&&Oe(),ui(S,ee),de&&de(),q&&ze(),{w:We.w+xe.w,h:We.h+xe.h}}),W=Mc(i,{p:()=>r,v:()=>o,m(O,V){let[q]=O,[Z]=V;return[ea(Zn(q),Zn(Z)).reduce((ee,de)=>(ee[de]=q[de]||Z[de],ee),{})]}}),ie=O=>{let V=F(_);je(O,{$t:c!==V}),je(E,{B:V}),c=V},ae=(O,V)=>{let[q,Z]=O,ee={Ct:Z};return je(E,{Ot:q}),V||i(ee),ee},Ee=({_t:O,ft:V})=>{let Z=!(O&&!V)&&T.U?W:i,ee={_t:O||V,ft:V};ie(ee),Z(ee)},Ie=(O,V)=>{let[,q]=z(),Z={xt:q};return ie(Z),q&&!V&&(O?i:W)(Z),Z},Re=(O,V,q)=>{let Z={Ht:V};return ie(Z),V&&!q&&W(Z),Z},[G,K]=b?_E(p,ae):[],re=!R&&pv(p,Ee,{ft:!0}),[N,B]=k_(p,!1,Re,{ct:m,et:m}),w=R&&_o&&new _o(O=>{let V=O[O.length-1].contentRect;Ee({_t:!0,ft:Q_(V,l)}),l=V}),L=Mc(()=>{let[,O]=z();i({xt:O})},{p:222,S:!0});return[()=>{w&&w.observe(p);let O=re&&re(),V=G&&G(),q=N(),Z=T.G(ee=>{ee?W({Et:ee}):L()});return()=>{w&&w.disconnect(),O&&O(),V&&V(),a&&a(),q(),Z()}},({zt:O,It:V,Tt:q})=>{let Z={},[ee]=O("update.ignoreMutation"),[de,ze]=O("update.attributes"),[Oe,We]=O("update.elementEvents"),[xe,tt]=O("update.debounce"),nt=We||ze,ht=V||q,Ot=it=>Mn(ee)&&ee(it);if(nt){s&&s(),a&&a();let[it,_t]=k_(b||g,!0,Ie,{et:ea(m,de||[]),rt:Oe,it:d,ut:(vt,rt)=>{let{target:Mt,attributeName:Kt}=vt;return(!rt&&Kt&&!R?LD(Mt,d,h):!1)||!!vo(Mt,`.${wn}`)||!!Ot(vt)}});a=it(),s=_t}if(tt)if(W.O(),Xn(xe)){let it=xe[0],_t=xe[1];r=Oi(it)&&it,o=Oi(_t)&&_t}else Oi(xe)?(r=xe,o=!1):(r=!1,o=!1);if(ht){let it=B(),_t=K&&K(),vt=s&&s();it&&je(Z,Re(it[0],it[1],ht)),_t&&je(Z,ae(_t[0],ht)),vt&&je(Z,Ie(vt[0],ht))}return ie(Z),Z},E]},fv=(t,n)=>Mn(n)?n.apply(0,t):n,yE=(t,n,e,i)=>{let r=_p(i)?e:i;return fv(t,r)||n.apply(0,t)},gv=(t,n,e,i)=>{let r=_p(i)?e:i,o=fv(t,r);return!!o&&(Ic(o)?o:n.apply(0,t))},SE=(t,n)=>{let{nativeScrollbarsOverlaid:e,body:i}=n||{},{k:r,U:o,K:s}=pi(),{nativeScrollbarsOverlaid:a,body:l}=s().cancel,c=e??a,d=_p(i)?l:i,h=(r.x||r.y)&&c,m=t&&(Vc(d)?!o:d);return!!h||!!m},CE=(t,n,e,i)=>{let r="--os-viewport-percent",o="--os-scroll-percent",s="--os-scroll-direction",{K:a}=pi(),{scrollbars:l}=a(),{slot:c}=l,{dt:d,vt:h,L:m,At:_,gt:p,bt:g,V:S}=n,{scrollbars:b}=_?{}:t,{slot:R}=b||{},D=[],A=[],k=[],I=gv([d,h,m],()=>S&&g?d:h,c,R),F=N=>{if(Js){let B=null,w=[],L=new Js({source:p,axis:N}),O=()=>{B&&B.cancel(),B=null};return{kt:q=>{let{Dt:Z}=e,ee=ep(Z)[N],de=N==="x",ze=[Qh(0,de),Qh(`calc(100cq${de?"w":"h"} + -100%)`,de)],Oe=ee?ze:ze.reverse();return w[0]===Oe[0]&&w[1]===Oe[1]||(O(),w=Oe,B=q.Mt.animate({clear:["left"],transform:Oe},{timeline:L})),O}}}},E={x:F("x"),y:F("y")},T=()=>{let{Rt:N,Vt:B}=e,w=(L,O)=>U_(0,1,L/(L+O)||0);return{x:w(B.x,N.x),y:w(B.y,N.y)}},P=(N,B,w)=>{let L=w?Ap:z_;Xe(N,O=>{L(O.Lt,B)})},z=(N,B)=>{Xe(N,w=>{let[L,O]=B(w);na(L,O)})},W=(N,B,w)=>{let L=Bc(w),O=L?w:!0,V=L?!w:!0;O&&P(A,N,B),V&&P(k,N,B)},ie=()=>{let N=T(),B=w=>L=>[L.Lt,{[r]:lp(w)+""}];z(A,B(N.x)),z(k,B(N.y))},ae=()=>{if(!Js){let{Dt:N}=e,B=b_(N,Sn(p)),w=L=>O=>[O.Lt,{[o]:lp(L)+""}];z(A,w(B.x)),z(k,w(B.y))}},Ee=()=>{let{Dt:N}=e,B=ep(N),w=L=>O=>[O.Lt,{[s]:L?"0":"1"}];z(A,w(B.x)),z(k,w(B.y)),Js&&(A.forEach(E.x.kt),k.forEach(E.y.kt))},Ie=()=>{if(S&&!g){let{Rt:N,Dt:B}=e,w=ep(B),L=b_(B,Sn(p)),O=V=>{let{Lt:q}=V,Z=ta(q)===m&&q,ee=(de,ze,Oe)=>{let We=ze*de;return X_(Oe?We:-We)};return[Z,Z&&{transform:Qh({x:ee(L.x,N.x,w.x),y:ee(L.y,N.y,w.y)})}]};z(A,O),z(k,O)}},Re=N=>{let B=N?"x":"y",L=So(`${wn} ${N?iE:rE}`),O=So(av),V=So(Ip),q={Lt:L,Ut:O,Mt:V},Z=E[B];return mt(N?A:k,q),mt(D,[an(L,O),an(O,V),be(Eo,L),Z&&Z.kt(q),i(q,W,N)]),q},G=be(Re,!0),K=be(Re,!1),re=()=>(an(I,A[0].Lt),an(I,k[0].Lt),be(Cn,D));return G(),K(),[{Pt:ie,Nt:ae,qt:Ee,Bt:Ie,Ft:W,jt:{Xt:A,Yt:G,Wt:be(z,A)},Jt:{Xt:k,Yt:K,Wt:be(z,k)}},re]},wE=(t,n,e,i)=>(r,o,s)=>{let{vt:a,L:l,V:c,gt:d,Gt:h,St:m}=n,{Lt:_,Ut:p,Mt:g}=r,[S,b]=Rr(333),[R,D]=Rr(444),A=F=>{Mn(d.scrollBy)&&d.scrollBy({behavior:"smooth",left:F.x,top:F.y})},k=()=>{let F="pointerup pointercancel lostpointercapture",E=`client${s?"X":"Y"}`,T=s?Uc:$c,P=s?"left":"top",z=s?"w":"h",W=s?"x":"y",ie=(Ee,Ie)=>Re=>{let{Rt:G}=e,K=Co(p)[z]-Co(g)[z],N=Ie*Re/K*G[W];ui(d,{[W]:Ee+N})},ae=[];return ft(p,"pointerdown",Ee=>{let Ie=vo(Ee.target,`.${Ip}`)===g,Re=Ie?g:p,G=t.scrollbars,K=G[Ie?"dragScroll":"clickScroll"],{button:re,isPrimary:N,pointerType:B}=Ee,{pointers:w}=G;if(re===0&&N&&K&&(w||[]).includes(B)){Cn(ae),D();let O=!Ie&&(Ee.shiftKey||K==="instant"),V=be(Jh,g),q=be(Jh,p),Z=(rt,Mt)=>(rt||V())[P]-(Mt||q())[P],ee=ip(Jh(d)[T])/Co(d)[z]||1,de=ie(Sn(d)[W],1/ee),ze=Ee[E],Oe=V(),We=q(),xe=Oe[T],tt=Z(Oe,We)+xe/2,nt=ze-We[P],ht=Ie?0:nt-tt,Ot=rt=>{Cn(vt),Re.releasePointerCapture(rt.pointerId)},it=Ie||O,_t=m(),vt=[ft(h,F,Ot),ft(h,"selectstart",rt=>dp(rt),{I:!1}),ft(p,F,Ot),it&&ft(p,"pointermove",rt=>de(ht+(rt[E]-ze))),it&&(()=>{let rt=Sn(d);_t();let Mt=Sn(d),Kt={x:Mt.x-rt.x,y:Mt.y-rt.y};(kc(Kt.x)>3||kc(Kt.y)>3)&&(m(),ui(d,rt),A(Kt),R(_t))})];if(Re.setPointerCapture(Ee.pointerId),O)de(ht);else if(!Ie){let rt=ra(cv);if(rt){let Mt=rt(de,ht,xe,Kt=>{Kt?_t():mt(vt,_t)});mt(vt,Mt),mt(ae,be(Mt,!0))}}}})},I=!0;return be(Cn,[ft(g,"pointermove pointerleave",i),ft(_,"pointerenter",()=>{o(S_,!0)}),ft(_,"pointerleave pointercancel",()=>{o(S_,!1)}),!c&&ft(_,"mousedown",()=>{let F=ap();(p_(F,Ri)||p_(F,nr)||F===document.body)&&bp(be(up,l),25)}),ft(_,"wheel",F=>{let{deltaX:E,deltaY:T,deltaMode:P}=F;I&&P===0&&ta(_)===a&&A({x:E,y:T}),I=!1,o(D_,!0),S(()=>{I=!0,o(D_)}),dp(F)},{I:!1,T:!0}),ft(_,"pointerdown",be(ft,h,"click",ev,{A:!0,T:!0,I:!1}),{T:!0}),k(),b,D])},DE=(t,n,e,i,r,o)=>{let s,a,l,c,d,h=Do,m=0,_=["mouse","pen"],p=B=>_.includes(B.pointerType),[g,S]=Rr(),[b,R]=Rr(100),[D,A]=Rr(100),[k,I]=Rr(()=>m),[F,E]=CE(t,r,i,wE(n,r,i,B=>p(B)&&G())),{vt:T,Kt:P,bt:z}=r,{Ft:W,Pt:ie,Nt:ae,qt:Ee,Bt:Ie}=F,Re=(B,w)=>{if(I(),B)W(w_);else{let L=be(W,w_,!0);m>0&&!w?k(L):L()}},G=()=>{(l?!s:!c)&&(Re(!0),b(()=>{Re(!1)}))},K=B=>{W(fp,B,!0),W(fp,B,!1)},re=B=>{p(B)&&(s=l,l&&Re(!0))},N=[I,R,A,S,()=>h(),ft(T,"pointerover",re,{A:!0}),ft(T,"pointerenter",re),ft(T,"pointerleave",B=>{p(B)&&(s=!1,l&&Re(!1))}),ft(T,"pointermove",B=>{p(B)&&a&&G()}),ft(P,"scroll",B=>{g(()=>{ae(),G()}),o(B),Ie()})];return[()=>be(Cn,mt(N,E())),({zt:B,Tt:w,Qt:L,Zt:O})=>{let{tn:V,nn:q,sn:Z,en:ee}=O||{},{$t:de,ft:ze}=L||{},{B:Oe}=e,{k:We}=pi(),{cn:xe,j:tt}=i,[nt,ht]=B("showNativeOverlaidScrollbars"),[Ot,it]=B("scrollbars.theme"),[_t,vt]=B("scrollbars.visibility"),[rt,Mt]=B("scrollbars.autoHide"),[Kt,ys]=B("scrollbars.autoHideSuspend"),[El]=B("scrollbars.autoHideDelay"),[xl,Al]=B("scrollbars.dragScroll"),[kl,Tl]=B("scrollbars.clickScroll"),[Yi,Ss]=B("overflow"),nh=ze&&!w,ih=tt.x||tt.y,rh=V||q||ee||de||w,oh=Z||vt||Ss,jn=nt&&We.x&&We.y,Rl=(oo,Cs,Il)=>{let Ol=oo.includes(wo)&&(_t===Ii||_t==="auto"&&Cs===wo);return W(oE,Ol,Il),Ol};if(m=El,nh&&(Kt&&ih?(K(!1),h(),D(()=>{h=ft(P,"scroll",be(K,!0),{A:!0})})):K(!0)),ht&&W(tE,jn),it&&(W(d),W(Ot,!0),d=Ot),ys&&!Kt&&K(!0),Mt&&(a=rt==="move",l=rt==="leave",c=rt==="never",Re(c,!0)),Al&&W(lE,xl),Tl&&W(aE,!!kl),oh){let oo=Rl(Yi.x,xe.x,!0),Cs=Rl(Yi.y,xe.y,!1);W(sE,!(oo&&Cs))}rh&&(ae(),ie(),Ie(),ee&&Ee(),W(C_,!tt.x,!0),W(C_,!tt.y,!1),W(nE,Oe&&!z))},{},F]},EE=t=>{let n=pi(),{K:e,U:i}=n,{elements:r}=e(),{padding:o,viewport:s,content:a}=r,l=Ic(t),c=l?{}:t,{elements:d}=c,{padding:h,viewport:m,content:_}=d||{},p=l?t:c.target,g=G_(p),S=p.ownerDocument,b=S.documentElement,R=()=>S.defaultView||ln,D=be(yE,[p]),A=be(gv,[p]),k=be(So,""),I=be(D,k,s),F=be(A,k,a),E=xe=>{let tt=Co(xe),nt=Pc(xe),ht=hi(xe,Sp),Ot=hi(xe,Cp);return nt.w-tt.w>0&&!yo(ht)||nt.h-tt.h>0&&!yo(Ot)},T=I(m),P=T===p,z=P&&g,W=!P&&F(_),ie=!P&&T===W,ae=z?b:T,Ee=z?ae:p,Ie=!P&&A(k,o,h),Re=!ie&&W,G=[Re,ae,Ie,Ee].map(xe=>Ic(xe)&&!ta(xe)&&xe),K=xe=>xe&&R_(G,xe),re=!K(ae)&&E(ae)?ae:p,N=z?b:ae,w={dt:p,vt:Ee,L:ae,rn:Ie,ht:Re,gt:N,Kt:z?S:ae,ln:g?b:re,Gt:S,bt:g,At:l,V:P,an:R,wt:xe=>xp(ae,Ri,xe),yt:(xe,tt)=>Fc(ae,Ri,xe,tt),St:()=>Fc(N,Ri,XD,!0)},{dt:L,vt:O,rn:V,L:q,ht:Z}=w,ee=[()=>{di(O,[nr,tp]),di(L,tp),g&&di(b,[tp,nr])}],de=sp([Z,q,V,O,L].find(xe=>xe&&!K(xe))),ze=z?L:Z||q,Oe=be(Cn,ee);return[w,()=>{let xe=R(),tt=ap(),nt=vt=>{an(ta(vt),sp(vt)),Eo(vt)},ht=vt=>ft(vt,"focusin focusout focus blur",ev,{T:!0,I:!1}),Ot="tabindex",it=Dp(q,Ot),_t=ht(tt);return Ti(O,nr,P?"":GD),Ti(V,pp,""),Ti(q,Ri,""),Ti(Z,y_,""),P||(Ti(q,Ot,it||"-1"),g&&Ti(b,v_,"")),an(ze,de),an(O,V),an(V||O,!P&&q),an(q,Z),mt(ee,[_t,()=>{let vt=ap(),rt=K(q),Mt=rt&&vt===q?L:vt,Kt=ht(Mt);di(V,pp),di(Z,y_),di(q,Ri),g&&di(b,v_),it?Ti(q,Ot,it):di(q,Ot),K(Z)&&nt(Z),rt&&nt(q),K(V)&&nt(V),up(Mt),Kt()}]),i&&!P&&(Ep(q,Ri,sv),mt(ee,be(di,q,Ri))),up(!P&&g&&tt===L&&xe.top===xe?q:tt),_t(),de=0,Oe},Oe]},xE=({ht:t})=>({Qt:n,un:e,Tt:i})=>{let{Ct:r}=n||{},{Ot:o}=e;t&&(r||i)&&na(t,{[$c]:o&&"100%"})},AE=({vt:t,rn:n,L:e,V:i},r)=>{let[o,s]=yn({i:FD,o:g_()},be(g_,t,"padding",""));return({zt:a,Qt:l,un:c,Tt:d})=>{let[h,m]=s(d),{U:_}=pi(),{_t:p,xt:g,$t:S}=l||{},{B:b}=c,[R,D]=a("paddingAbsolute");(p||m||(d||g))&&([h,m]=o(d));let k=!i&&(D||S||m);if(k){let I=!R||!n&&!_,F=h.r+h.l,E=h.t+h.b,T={[L_]:I&&!b?-F:0,[N_]:I?-E:0,[P_]:I&&b?-F:0,top:I?-h.t:0,right:I?b?-h.r:"auto":0,left:I?b?"auto":-h.l:0,[Uc]:I&&`calc(100% + ${F}px)`},P={[I_]:I?h.t:0,[O_]:I?h.r:0,[F_]:I?h.b:0,[M_]:I?h.l:0};na(n||e,T),na(e,P),je(r,{rn:h,fn:!I,F:n?P:je({},T,P)})}return{_n:k}}},kE=(t,n)=>{let e=pi(),{vt:i,rn:r,L:o,V:s,Kt:a,gt:l,bt:c,yt:d,an:h}=t,{U:m}=e,_=c&&s,p=be(Ac,0),g={display:()=>!1,direction:w=>w!=="ltr",flexDirection:w=>w.endsWith("-reverse"),writingMode:w=>w!=="horizontal-tb"},S=Zn(g),b={i:V_,o:{w:0,h:0}},R={i:Dc,o:{}},D=w=>{d(ov,!_&&w)},A=w=>{if(!S.some(Oe=>{let We=w[Oe];return We&&g[Oe](We)}))return{D:{x:0,y:0},M:{x:1,y:1}};D(!0);let O=Sn(l),V=d(ZD,!0),q=ft(a,wo,Oe=>{let We=Sn(l);Oe.isTrusted&&We.x===O.x&&We.y===O.y&&J_(Oe)},{T:!0,A:!0});ui(l,{x:0,y:0}),V();let Z=Sn(l),ee=Pc(l);ui(l,{x:ee.w,y:ee.h});let de=Sn(l);ui(l,{x:de.x-Z.x<1&&-ee.w,y:de.y-Z.y<1&&-ee.h});let ze=Sn(l);return ui(l,O),Lc(()=>q()),{D:Z,M:ze}},k=(w,L)=>{let O=ln.devicePixelRatio%1!==0?1:0,V={w:p(w.w-L.w),h:p(w.h-L.h)};return{w:V.w>O?V.w:0,h:V.h>O?V.h:0}},I=(w,L)=>{let O=(V,q,Z,ee)=>{let de=V===Ii?Kn:uE(V),ze=yo(V),Oe=yo(Z);return!q&&!ee?Kn:ze&&Oe?Ii:ze?q&&ee?de:q?Ii:Kn:q?de:Oe&&ee?Ii:Kn};return{x:O(L.x,w.x,L.y,w.y),y:O(L.y,w.y,L.x,w.x)}},F=w=>{let L=V=>[Ii,Kn,wo].map(q=>B(gp(q),V)),O=L(!0).concat(L()).join(" ");d(O),d(Zn(w).map(V=>B(w[V],V==="x")).join(" "),!0)},[E,T]=yn(b,be(kp,o)),[P,z]=yn(b,be(Pc,o)),[W,ie]=yn(b),[ae]=yn(R),[Ee,Ie]=yn(b),[Re]=yn(R),[G]=yn({i:(w,L)=>Hc(w,L,S),o:{}},()=>$D(o)?hi(o,S):{}),[K,re]=yn({i:(w,L)=>Dc(w.D,L.D)&&Dc(w.M,L.M),o:tv()}),N=ra(lv),B=(w,L)=>`${L?YD:qD}${MD(w)}`;return({zt:w,Qt:L,un:O,Tt:V},{_n:q})=>{let{_t:Z,Ht:ee,xt:de,$t:ze,ft:Oe,Et:We}=L||{},xe=N&&N.R(t,n,O,e,w),{X:tt,Y:nt,W:ht}=xe||{},[Ot,it]=dE(w,e),[_t,vt]=w("overflow"),rt=yo(_t.x),Mt=yo(_t.y),Kt=Z||q||de||ze||We||it,ys=T(V),El=z(V),xl=ie(V),Al=Ie(V);if(it&&m&&d(sv,!Ot),Kt){xp(i,nr,xc)&&D(!0);let Im=nt&&nt(),[Ml]=ys=E(V),[Fl]=El=P(V),Pl=Z_(o),Ll=_&&UD(h()),vw={w:p(Fl.w+Ml.w),h:p(Fl.h+Ml.h)},Om={w:p((Ll?Ll.w:Pl.w+p(Pl.w-Fl.w))+Ml.w),h:p((Ll?Ll.h:Pl.h+p(Pl.h-Fl.h))+Ml.h)};Im&&Im(),Al=Ee(Om),xl=W(k(vw,Om),V)}let[kl,Tl]=Al,[Yi,Ss]=xl,[nh,ih]=El,[rh,oh]=ys,[jn,Rl]=ae({x:Yi.w>0,y:Yi.h>0}),oo=rt&&Mt&&(jn.x||jn.y)||rt&&jn.x&&!jn.y||Mt&&jn.y&&!jn.x,Cs=q||ze||We||oh||ih||Tl||Ss||vt||it||Kt||ee&&_,[Il,Ol]=G(V),Rm=ze||Oe||Ol||Rl||V,[gw,mw]=Rm?K(A(Il),V):re(),ws=I(jn,_t);D(!1),Cs&&(F(ws),ws=hE(o,jn),ht&&tt&&(tt(ws,nh,rh),na(o,ht(ws))));let[bw,_w]=Re(ws);return Fc(i,nr,xc,oo),Fc(r,pp,xc,oo),je(n,{cn:bw,Vt:{x:kl.w,y:kl.h},Rt:{x:Yi.w,y:Yi.h},j:jn,Dt:HD(gw,Yi)}),{sn:_w,tn:Tl,nn:Ss,en:mw||Ss,dn:Rm}}},TE=t=>{let[n,e,i]=EE(t),r={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[L_]:0,[N_]:0,[P_]:0,[I_]:0,[O_]:0,[F_]:0,[M_]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:Kn,y:Kn},j:{x:!1,y:!1},Dt:tv()},{dt:o,gt:s,V:a,St:l}=n,{U:c,k:d}=pi(),h=!c&&(d.x||d.y),m=[xE(n),AE(n,r),kE(n,r)];return[e,_=>{let p={},S=h&&Sn(s),b=S&&l();return Xe(m,R=>{je(p,R(_,p)||{})}),ui(s,S),b&&b(),a||ui(o,0),p},r,n,i]},RE=(t,n,e,i,r)=>{let o=!1,s=A_(n,{}),[a,l,c,d,h]=TE(t),[m,_,p]=vE(d,c,s,A=>{D({},A)}),[g,S,,b]=DE(t,n,p,c,d,r),R=A=>Zn(A).some(k=>!!A[k]),D=(A,k)=>{if(e())return!1;let{pn:I,Tt:F,It:E,vn:T}=A,P=I||{},z=!!F||!o,W={zt:A_(n,P,z),pn:P,Tt:z};if(T)return S(W),!1;let ie=k||_(je({},W,{It:E})),ae=l(je({},W,{un:p,Qt:ie}));S(je({},W,{Qt:ie,Zt:ae}));let Ee=R(ie),Ie=R(ae),Re=Ee||Ie||!wp(P)||z;return o=!0,Re&&i(A,{Qt:ie,Zt:ae}),Re};return[()=>{let{ln:A,gt:k,St:I}=d,F=Sn(A),E=[m(),a(),g()],T=I();return ui(k,F),T(),be(Cn,E)},D,()=>({gn:p,hn:c}),{bn:d,wn:b},h]},Op=new WeakMap,IE=(t,n)=>{Op.set(t,n)},OE=t=>{Op.delete(t)},mv=t=>Op.get(t),Qt=(t,n,e)=>{let{tt:i}=pi(),r=Ic(t),o=r?t:t.target,s=mv(o);if(n&&!s){let a=!1,l=[],c={},d=P=>{let z=j_(P),W=ra(WD);return W?W(z,!0):z},h=je({},i(),d(n)),[m,_,p]=hp(),[g,S,b]=hp(e),R=(P,z)=>{b(P,z),p(P,z)},[D,A,k,I,F]=RE(t,h,()=>a,({pn:P,Tt:z},{Qt:W,Zt:ie})=>{let{_t:ae,$t:Ee,Ct:Ie,xt:Re,Ht:G,ft:K}=W,{tn:re,nn:N,sn:B,en:w}=ie;R("updated",[T,{updateHints:{sizeChanged:!!ae,directionChanged:!!Ee,heightIntrinsicChanged:!!Ie,overflowEdgeChanged:!!re,overflowAmountChanged:!!N,overflowStyleChanged:!!B,scrollCoordinatesChanged:!!w,contentMutation:!!Re,hostMutation:!!G,appear:!!K},changedOptions:P||{},force:!!z}])},P=>R("scroll",[T,P])),E=P=>{OE(o),Cn(l),a=!0,R("destroyed",[T,P]),_(),S()},T={options(P,z){if(P){let W=z?i():{},ie=uv(h,je(W,d(P)));wp(ie)||(je(h,ie),A({pn:ie}))}return je({},h)},on:g,off:(P,z)=>{P&&z&&S(P,z)},state(){let{gn:P,hn:z}=k(),{B:W}=P,{Vt:ie,Rt:ae,cn:Ee,j:Ie,rn:Re,fn:G,Dt:K}=z;return je({},{overflowEdge:ie,overflowAmount:ae,overflowStyle:Ee,hasOverflow:Ie,scrollCoordinates:{start:K.D,end:K.M},padding:Re,paddingAbsolute:G,directionRTL:W,destroyed:a})},elements(){let{dt:P,vt:z,rn:W,L:ie,ht:ae,gt:Ee,Kt:Ie}=I.bn,{jt:Re,Jt:G}=I.wn,K=N=>{let{Mt:B,Ut:w,Lt:L}=N;return{scrollbar:L,track:w,handle:B}},re=N=>{let{Xt:B,Yt:w}=N,L=K(B[0]);return je({},L,{clone:()=>{let O=K(w());return A({vn:!0}),O}})};return je({},{target:P,host:z,padding:W||ie,viewport:ie,content:ae||ie,scrollOffsetElement:Ee,scrollEventElement:Ie,scrollbarHorizontal:re(Re),scrollbarVertical:re(G)})},update:P=>A({Tt:P,It:!0}),destroy:be(E,!1),plugin:P=>c[Zn(P)[0]]};return mt(l,[F]),IE(o,T),rv(nv,Qt,[T,m,c]),SE(I.bn.bt,!r&&t.cancel)?(E(!0),T):(mt(l,D()),R("initialized",[T]),T.update(),T)}return s};Qt.plugin=t=>{let n=Xn(t),e=n?t:[t],i=e.map(r=>rv(r,Qt)[0]);return zD(e),n?i:i[0]};Qt.valid=t=>{let n=t&&t.elements,e=Mn(n)&&n();return Rc(e)&&!!mv(e.target)};Qt.env=()=>{let{P:t,k:n,U:e,J:i,ot:r,st:o,K:s,Z:a,tt:l,nt:c}=pi();return je({},{scrollbarsSize:t,scrollbarsOverlaid:n,scrollbarsHiding:e,scrollTimeline:i,staticDefaultInitialization:r,staticDefaultOptions:o,getDefaultInitialization:s,setDefaultInitialization:a,getDefaultOptions:l,setDefaultOptions:c})};Qt.nonce=gE;Qt.trustedTypePolicy=VD;var ME="@",FE=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=u(dt);loadingSchedulerFn=u(PE,{optional:!0});_engine;constructor(e,i,r,o,s){this.doc=e,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-VL3EOPMW.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new we(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Mp(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);o.use(a),this.scheduler??=this.injector.get(Gm,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){Hl()};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Mp=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,i,r){this.delegate.insertBefore(n,e,i,r)}removeChild(n,e,i){this.delegate.removeChild(n,e,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(n,e,i)),this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(n,e,i,r)),this.delegate.listen(n,e,i,r)}shouldReplay(n){return this.replay!==null&&n.startsWith(ME)}},PE=new Y("");function bv(t="animations"){return Ms("NgAsyncAnimations"),ao([{provide:Xt,useFactory:(n,e,i)=>new FE(n,e,i,t),deps:[le,Ys,me]},{provide:Zi,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}function oa(t){return t.buttons===0||t.detail===0}function Fp(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var Pp;function _v(){if(Pp==null){let t=typeof document<"u"?document.head:null;Pp=!!(t&&(t.createShadowRoot||t.attachShadow))}return Pp}function Lp(t){if(_v()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Mi(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Qn(t){return t.composedPath?t.composedPath()[0]:t.target}function yt(t,n,e,i,r){let o=parseInt(yh.major),s=parseInt(yh.minor);return o>19||o===19&&s>0||o===0&&s===0?t.listen(n,e,i,r):(n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)})}var Np;try{Np=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Np=!1}var ut=(()=>{class t{_platformId=u(oi);isBrowser=this._platformId?Fh(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Np)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sa;function LE(){if(sa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sa=!0}))}finally{sa=sa||!1}return sa}function vv(t){return LE()?t:!!t.capture}function rr(t,n=0){return yv(t)?Number(t):arguments.length===2?n:0}function yv(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Fn(t){return t instanceof he?t.nativeElement:t}var Sv=new Y("cdk-input-modality-detector-options"),Cv={ignoreKeys:[18,17,224,91,16]},wv=650,Vp={passive:!0,capture:!0},Dv=(()=>{class t{_platform=u(ut);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Pe(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Qn(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<wv||(this._modality.next(oa(e)?"keyboard":"mouse"),this._mostRecentTarget=Qn(e))};_onTouchstart=e=>{if(Fp(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qn(e)};constructor(){let e=u(me),i=u(le),r=u(Sv,{optional:!0});if(this._options=U(U({},Cv),r),this.modalityDetected=this._modality.pipe(jl(1)),this.modalityChanged=this.modalityDetected.pipe(qi()),this._platform.isBrowser){let o=u(Xt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[yt(o,i,"keydown",this._onKeydown,Vp),yt(o,i,"mousedown",this._onMousedown,Vp),yt(o,i,"touchstart",this._onTouchstart,Vp)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aa=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(aa||{}),Ev=new Y("cdk-focus-monitor-default-options"),Gc=vv({passive:!0,capture:!0}),Jn=(()=>{class t{_ngZone=u(me);_platform=u(ut);_inputModalityDetector=u(Dv);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=u(le,{optional:!0});_stopInputModalityDetector=new te;constructor(){let e=u(Ev,{optional:!0});this._detectionMode=e?.detectionMode||aa.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Qn(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Fn(e);if(!this._platform.isBrowser||r.nodeType!==1)return ne();let o=Lp(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new te,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=Fn(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Fn(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===aa.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===aa.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?wv:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=Qn(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gc)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Be(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bp=(()=>{class t{_elementRef=u(he);_focusMonitor=u(Jn);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Q;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var Yc=new WeakMap,Fi=(()=>{class t{_appRef;_injector=u(dt);_environmentInjector=u(nn);load(e){let i=this._appRef=this._appRef||this._injector.get(wr),r=Yc.get(i);r||(r={loaders:new Set,refs:[]},Yc.set(i,r),i.onDestroy(()=>{Yc.get(i)?.refs.forEach(o=>o.destroy()),Yc.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Jl(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function Ao(t){return Array.isArray(t)?t:[t]}var xv=new Set,Or,kv=(()=>{class t{_platform=u(ut);_nonce=u(Os,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):VE}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&NE(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NE(t,n){if(!xv.has(t))try{Or||(Or=document.createElement("style"),n&&Or.setAttribute("nonce",n),Or.setAttribute("type","text/css"),document.head.appendChild(Or)),Or.sheet&&(Or.sheet.insertRule(`@media ${t} {body{ }}`,0),xv.add(t))}catch(e){console.error(e)}}function VE(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Mr=(()=>{class t{_mediaMatcher=u(kv);_zone=u(me);_queries=new Map;_destroySubject=new te;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Av(Ao(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Av(Ao(e)).map(s=>this._registerQuery(s).observable),o=hn(r);return o=Nl(o.pipe(Ht(1)),o.pipe(jl(1),As(0))),o.pipe(J(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Ci(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Pt(i),J(({matches:s})=>({query:e,matches:s})),Be(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Av(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function BE(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}var Tv=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kc=(()=>{class t{_mutationObserverFactory=u(Tv);_observedElements=new Map;_ngZone=u(me);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Fn(e);return new Ci(r=>{let s=this._observeElement(i).pipe(J(a=>a.filter(l=>!BE(l))),Me(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new te,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[Tv]})}return t})();var Up=(()=>{class t{_platform=u(ut);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return UE(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=jE(KE(e));if(i&&(Rv(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Rv(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!YE(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return qE(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jE(t){try{return t.frameElement}catch{return null}}function UE(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function $E(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function HE(t){return WE(t)&&t.type=="hidden"}function zE(t){return GE(t)&&t.hasAttribute("href")}function WE(t){return t.nodeName.toLowerCase()=="input"}function GE(t){return t.nodeName.toLowerCase()=="a"}function Mv(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function Rv(t){if(!Mv(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function YE(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function qE(t){return HE(t)?!1:$E(t)||zE(t)||t.hasAttribute("contenteditable")||Mv(t)}function KE(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var la=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,e,i,r,o=!1,s){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?gn(n,{injector:this._injector}):setTimeout(n)}},Fv=(()=>{class t{_checker=u(Up);_ngZone=u(me);_document=u(le);_injector=u(dt);constructor(){u(Fi).load(qc)}create(e,i=!1){return new la(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$p=(()=>{class t{_elementRef=u(he);_focusTrapFactory=u(Fv);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){u(ut).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Mi(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Ce],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Ce]},exportAs:["cdkTrapFocus"],features:[Qe]})}return t})(),Pv=new Y("liveAnnouncerElement",{providedIn:"root",factory:Lv});function Lv(){return null}var Nv=new Y("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),XE=0,Hp=(()=>{class t{_ngZone=u(me);_defaultOptions=u(Nv,{optional:!0});_liveElement;_document=u(le);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=u(Pv,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${XE++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var or=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(or||{}),Iv="cdk-high-contrast-black-on-white",Ov="cdk-high-contrast-white-on-black",jp="cdk-high-contrast-active",Zc=(()=>{class t{_platform=u(ut);_hasCheckedHighContrastMode;_document=u(le);_breakpointSubscription;constructor(){this._breakpointSubscription=u(Mr).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return or.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return or.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return or.BLACK_ON_WHITE}return or.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(jp,Iv,Ov),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===or.BLACK_ON_WHITE?e.add(jp,Iv):i===or.WHITE_ON_BLACK&&e.add(jp,Ov)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ca=(()=>{class t{constructor(){u(Zc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Xc]})}return t})();var zp={},gt=(()=>{class t{_appId=u(Sr);getId(e){return this._appId!=="ng"&&(e+=this._appId),zp.hasOwnProperty(e)||(zp[e]=0),`${e}${zp[e]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZE=200,Qc=class{_letterKeyStream=new te;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new te;selectedItem=this._selectedItem;constructor(n,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:ZE;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(Ge(e=>this._pressedLetters.push(e)),As(n),Me(()=>this._pressedLetters.length>0),J(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Jt(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var ko=class{_items;_activeItemIndex=-1;_activeItem=Xi(null);_wrap=!1;_typeaheadSubscription=ct.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,e){this._items=n,n instanceof Is?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):Rs(n)&&(this._effectRef=Ql(()=>this._itemsChanged(n()),{injector:e}))}tabOut=new te;change=new te;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Qc(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Jt(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+n*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return Rs(this._items)?this._items():this._items instanceof Is?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var da=class extends ko{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};var ua=class extends ko{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};var jv=" ";function ex(t,n,e){let i=td(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(jv)))}function tx(t,n,e){let i=td(t,n);e=e.trim();let r=i.filter(o=>o!==e);r.length?t.setAttribute(n,r.join(jv)):t.removeAttribute(n)}function td(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}var Uv="cdk-describedby-message",ed="cdk-describedby-host",Kp=0,$v=(()=>{class t{_platform=u(ut);_document=u(le);_messageRegistry=new Map;_messagesContainer=null;_id=`${Kp++}`;constructor(){u(Fi).load(qc),this._id=u(Sr)+"-"+Kp++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=qp(i,r);typeof i!="string"?(Bv(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=qp(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${ed}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(ed);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");Bv(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(qp(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=td(e,"aria-describedby").filter(r=>r.indexOf(Uv)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);ex(e,"aria-describedby",r.messageElement.id),e.setAttribute(ed,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,tx(e,"aria-describedby",r.messageElement.id),e.removeAttribute(ed)}_isElementDescribedByMessage(e,i){let r=td(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qp(t,n){return typeof t=="string"?`${n||""}/${t}`:t}function Bv(t,n){t.id||(t.id=`${Uv}-${n}-${Kp++}`)}var Xp=class extends la{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(n,e,i,r,o,s,a,l){super(n,e,i,r,a.defer,l),this._focusTrapManager=o,this._inertStrategy=s,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},Zp=class{_listener=null;preventFocus(n){this._listener&&n._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(n,e),n._ngZone.runOutsideAngular(()=>{n._document.addEventListener("focus",this._listener,!0)})}allowFocus(n){this._listener&&(n._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(n,e){let i=e.target,r=n._element;i&&!r.contains(i)&&!i.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{n.enabled&&!r.contains(n._document.activeElement)&&n.focusFirstTabbableElement()})}},nx=new Y("FOCUS_TRAP_INERT_STRATEGY"),ix=(()=>{class t{_focusTrapStack=[];register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();let i=this._focusTrapStack,r=i.indexOf(e);r!==-1&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nd=(()=>{class t{_checker=u(Up);_ngZone=u(me);_focusTrapManager=u(ix);_document=u(le);_inertStrategy;_injector=u(dt);constructor(){let e=u(nx,{optional:!0});this._inertStrategy=e||new Zp}create(e,i={defer:!1}){let r;return typeof i=="boolean"?r={defer:i}:r=i,new Xp(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,r,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lr;function Hv(){if(Lr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Lr=!1,Lr;if("scrollBehavior"in document.documentElement.style)Lr=!0;else{let t=Element.prototype.scrollTo;t?Lr=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Lr=!1}}return Lr}function To(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ro,zv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Qp(){if(Ro)return Ro;if(typeof document!="object"||!document)return Ro=new Set(zv),Ro;let t=document.createElement("input");return Ro=new Set(zv.filter(n=>(t.setAttribute("type",n),t.type===n))),Ro}function ei(t){return t!=null&&`${t}`!="false"}function Dt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Wv(t,n=/\s+/){let e=[];if(t!=null){let i=Array.isArray(t)?t:`${t}`.split(n);for(let r of i){let o=`${r}`.trim();o&&e.push(o)}}return e}var ox=["*",[["sbb-option"],["ng-container"],["sbb-option-hint"],["sbb-autocomplete-hint"]]],sx=["*","sbb-option, ng-container, sbb-option-hint, sbb-autocomplete-hint"],ax=["*"];function lx(t,n){if(t&1&&$(0,"sbb-pseudo-checkbox",0),t&2){let e=x();C("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function cx(t,n){if(t&1&&(v(0,"span",1),j(1),y()),t&2){let e=x();f(),Bt("(",e.group.label,")")}}var Ue={Mobile:"(max-width: 642.99px)",Tablet:"(min-width: 643px) and (max-width: 1024.99px)",Desktop:"(min-width: 1025px) and (max-width: 1280.99px)",DesktopLarge:"(min-width: 1281px) and (max-width: 1440.99px)",Desktop2k:"(min-width: 1441px) and (max-width: 2560.99px)",Desktop4k:"(min-width: 2561px) and (max-width: 3840.99px)",Desktop5k:"(min-width: 3841px)",MobileDevice:"(max-width: 642.99px) and (orientation: portrait), (max-width: 1024.99px) and (orientation: landscape)",TabletDevice:"(min-width: 643px) and (max-width: 897.99px) and (orientation: portrait), (min-width: 1025px) and (max-width: 1280.99px) and (orientation: landscape)",DesktopDevice:"(min-width: 898px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",MobileDevicePortrait:"(max-width: 642.99px) and (orientation: portrait)",TabletDevicePortrait:"(min-width: 643px) and (max-width: 897.99px) and (orientation: portrait)",DesktopDevicePortrait:"(min-width: 898px) and (orientation: portrait)",MobileDeviceLandscape:"(max-width: 1024.99px) and (orientation: landscape)",TabletDeviceLandscape:"(min-width: 1025px) and (max-width: 1279.99px) and (orientation: landscape)",DesktopDeviceLandscape:"(min-width: 1280px) and (orientation: landscape)"};var RB=new Ps("19.1.6"),dx=typeof globalThis<"u"&&globalThis,ux=typeof window<"u"&&window,hx=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,px=typeof global<"u"&&global,Jp=dx||px||ux||hx,tf=function(t,...n){if(tf.translate){let i=tf.translate(t,n);t=i[0],n=i[1]}let e=Gv(t[0],t.raw[0]);for(let i=1;i<t.length;i++)e+=n[i-1]+Gv(t[i],t.raw[i]);return e},Yv=":";function Gv(t,n){return n.charAt(0)===Yv?t.substring(fx(t,n)+1):t}function fx(t,n){for(let e=1,i=1;e<t.length;e++,i++)if(n[i]==="\\")i++;else if(t[e]===Yv)return e;throw new Error(`Unterminated $localize metadata block in "${n}".`)}var nf=new Pe("standard");function Oo(t){return class extends t{variant=nf;constructor(...n){super(...n)}get variantSnapshot(){return nf.value}}}function gx(){return!0}var mx=new Y("sbb-sanity-checks",{providedIn:"root",factory:gx}),Et=(()=>{class t{_sanityChecks;_document;_hasDoneGlobalChecks=!1;constructor(e,i,r){this._sanityChecks=i,this._document=r,this._isDarkMode().subscribe(o=>{document.documentElement.classList.toggle("sbb-preferred-color-scheme-dark",o)}),nf.next(this._document.documentElement.classList.contains("sbb-lean")?"lean":"standard"),e._applyBodyHighContrastModeCssClasses(),bx(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return To()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}_isDarkMode(){let e=window.matchMedia("(prefers-color-scheme: dark)");return Bl(e,"change").pipe(Pt(e),J(i=>!!i.matches))}static \u0275fac=function(i){return new(i||t)(oe(Zc),oe(mx,8),oe(le))};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();function bx(){typeof Jp.$localize!="function"&&(Jp.$localize=Object.assign(tf,Jp.$localize))}var Io=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,e,i,r,o){this._defaultMatcher=n,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let n=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=typeof i?.isErrorState=="function"?i.isErrorState(r,e):!1;o!==n&&(this.errorState=o,this._stateChanges.next())}};var fi=class{_locale;deserialize(n){return n==null||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this._locale=n}compareDate(n,e){return this.getYear(n)-this.getYear(e)||this.getMonth(n)-this.getMonth(e)||this.getDate(n)-this.getDate(e)}sameDate(n,e){if(n&&e){let i=this.isValid(n),r=this.isValid(e);return i&&r?!this.compareDate(n,e):i===r}return n===e}clampDate(n,e,i){return e&&this.compareDate(n,e)<0?e:i&&this.compareDate(n,i)>0?i:n}},ha=new Y("sbb-date-formats"),_x={dateInput:"EEEEEE, dd.MM.yyyy",dateInputPure:"dd.MM.yyyy",dateA11yLabel:"dd MM yyyy"},vx=new Y("SBB_DATEPICKER_2DIGIT_YEAR_PIVOT"),yx=new Y("SBB_DATEPICKER_PREVENT_OVERFLOW"),Sx=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ef(t,n){let e=Array(t);for(let i=0;i<t;i++)e[i]=n(i);return e}var Cx=(()=>{class t extends fi{_locale;_datePipe;_yearPivot;_titleCasePipe=new Mh;_preventOverflow;constructor(e,i,r){super(),this._locale=e,this._datePipe=new $s(e),this._yearPivot=typeof i=="number"?i:new Date().getFullYear()-1975,this._preventOverflow=typeof r=="boolean"?r:!1}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthName(e){return this._datePipe.transform(e,"LLLL")}getMonthNames(e){let i;switch(e){case"long":i="LLLL";break;case"narrow":i="LLLLL";break;default:i="LLL";break}return ef(12,r=>this._datePipe.transform(new Date(2017,r,1),i))}getDateNames(){return ef(31,e=>this._datePipe.transform(new Date(2017,0,e+1),"d"))}getDayOfWeekNames(e){let i;switch(e){case"long":i="EEEE";break;case"narrow":i="EEEEE";break;default:i="EEE";break}return ef(7,r=>this._datePipe.transform(new Date(2017,0,r+1),i))}getYearName(e){return this._datePipe.transform(e,"yyyy")}getFirstDayOfWeek(){return 1}getNumDaysInMonth(e){let i=new Date(0);return i.setFullYear(e.getFullYear(),e.getMonth()+1,0),i.setHours(0,0,0,0),i.getDate()}clone(e){return new Date(e.valueOf())}createDate(e,i,r){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(r<1)throw Error(`Invalid date "${r}". Date has to be greater than 0.`);let o=this._createDateWithOverflow(e,i,r);if(o.getMonth()!==i)throw Error(`Invalid date "${r}" for month with index "${i}".`);return o}today(){let e=new Date;return e.setHours(0,0,0,0),e}parse(e){return typeof e=="number"?new Date(e):typeof e=="string"?this._preventOverflow&&this._isOverflowingDate(e)?new Date(NaN):this._parseStringDate(e):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");return this._titleCasePipe.transform(this._datePipe.transform(e,i))}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=e.getMonth()+i,o=new Date(0);o.setFullYear(e.getFullYear(),r,1),o.setHours(0,0,0,0);let s=this.getNumDaysInMonth(o),a=this.clone(e);return a.setMonth(r,Math.min(s,e.getDate())),a}addCalendarDays(e,i){let r=this.clone(e);return r.setDate(r.getDate()+i),r}toIso8601(e){return this._datePipe.transform(e,"yyyy-MM-dd")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(Sx.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.valueOf())}invalid(){return new Date(NaN)}_splitStringDate(e){let i=/^(\w+,[ ]?)?(\d+)\.(\d+)\.(\d+)$/.exec(e);return i?[+i[4],+i[3]-1,+i[2]]:null}_parseStringDate(e){let i=this._splitStringDate(e);if(!i)return null;let r=this._createDateWithOverflow(...i);return this._normalizeYear(r)}_normalizeYear(e){if(e.getFullYear()<0||e.getFullYear()>=100)return e;let i=e.getFullYear()<=this._yearPivot?2e3:1900;return new Date(e.getFullYear()+i,e.getMonth(),e.getDate())}_createDateWithOverflow(e,i,r){let o=new Date(e,i,r);return e>=0&&e<100&&o.setFullYear(this.getYear(o)-1900),o}_isOverflowingDate(e){let i=this._splitStringDate(e),r=this._parseStringDate(e);if(!i||!r)return!1;let[o,s,a]=i;return r.getFullYear()!==o||r.getMonth()!==s||r.getDate()!==a}static \u0275fac=function(i){return new(i||t)(oe(Er),oe(vx,8),oe(yx,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function qv(){return[{provide:fi,useClass:Cx},{provide:ha,useValue:_x}]}var id=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rd=new Y("SBB_OPTION_PARENT_COMPONENT"),Kv=new Y("SbbOptgroup"),Xv=(()=>{class t{label;disabled=!1;_labelId=u(gt).getId("sbb-optgroup-label-");_inert;constructor(e){this._inert=e?.inertGroups??!1}static \u0275fac=function(i){return new(i||t)(X(rd,8))};static \u0275cmp=ce({type:t,selectors:[["sbb-optgroup"]],hostAttrs:[1,"sbb-optgroup","sbb-menu-group"],hostVars:5,hostBindings:function(i,r){i&2&&(ue("role",r._inert?null:"group")("aria-disabled",r._inert?null:r.disabled.toString())("aria-labelledby",r._inert?null:r._labelId),ye("sbb-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",Ce],label:"label"},exportAs:["sbbOptgroup"],features:[Ct([{provide:Kv,useExisting:t}])],ngContentSelectors:sx,decls:4,vars:2,consts:[[1,"sbb-label","sbb-optgroup-label",3,"id"]],template:function(i,r){i&1&&(et(ox),v(0,"label",0),j(1),Fe(2),y(),Fe(3,1)),i&2&&(C("id",r._labelId),f(),Bt("",r.label," "))},encapsulation:2,changeDetection:0})}return t})(),wx=(()=>{class t{state="unchecked";disabled=!1;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-pseudo-checkbox"]],hostAttrs:[1,"sbb-pseudo-checkbox"],hostVars:6,hostBindings:function(i,r){i&2&&ye("sbb-selection-disabled",r.disabled)("sbb-selection-checked",r.state==="checked")("sbb-selection-indeterminate",r.state==="indeterminate")},inputs:{state:"state",disabled:"disabled"},decls:4,vars:0,consts:[[1,"sbb-selection-container"],[1,"sbb-selection-container-checked"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","focusable","false"],["fill","none","fill-rule","evenodd","stroke","#000","stroke-width","1","points","6 12 10 16 19 7.01"]],template:function(i,r){i&1&&(v(0,"div",0)(1,"span",1),Ul(),v(2,"svg",2),$(3,"polyline",3),y()()())},encapsulation:2,changeDetection:0})}return t})(),rf=class{source;isUserInput;constructor(n,e=!1){this.source=n,this.isUserInput=e}},od=(()=>{class t{_element;_document;_changeDetectorRef;_parent;group;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";_originalInnerHtml;_highlightValue;_highlighted=!1;get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=u(gt).getId("sbb-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ei(e),this._changeDetectorRef.markForCheck()}onSelectionChange=new Q;_stateChanges=new te;constructor(e,i,r,o,s){this._element=e,this._document=i,this._changeDetectorRef=r,this._parent=o,this.group=s}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this.selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this.active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Jt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this.selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_highlight(e,i){if(this._originalInnerHtml===void 0)this._originalInnerHtml=this._element.nativeElement.innerHTML;else{if(e===this._highlightValue)return;this._highlighted&&(this._element.nativeElement.innerHTML=this._originalInnerHtml,this._highlighted=!1)}if(this._highlightValue=e,e&&this._originalInnerHtml){let r=i||(l=>l);e=r(e);let o=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=new RegExp(`${o}+`,"i"),a=this._findAllTextNodesWithMatch(s,r);a.forEach(l=>this._highlightNode(l,s,r)),this._highlighted=!!a.length}}_findAllTextNodesWithMatch(e,i,r=this._element.nativeElement){let o=[],s=r.childNodes;for(let a=0;a<s.length;a++){let l=s[a];l.nodeType===3&&e.test(i(l.textContent||""))?o.push(l):l.childNodes.length&&o.push(...this._findAllTextNodesWithMatch(e,i,l))}return o}_highlightNode(e,i,r){let o=[],s=this._document;i.lastIndex=0;let a=e.textContent||"",l;do{if(l=r(a).match(i),l)l.index&&(o.push(s.createTextNode(a.substring(0,l.index))),a=a.substring(l.index));else{o.push(s.createTextNode(a));continue}let d=s.createElement("strong");d.textContent=a.substring(0,l[0].length),o.push(d),a=a.substring(l[0].length)}while(l);let c=e.parentNode;o.forEach(d=>c.insertBefore(d,e)),c.removeChild(e)}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rf(this,e))}static \u0275fac=function(i){return new(i||t)(X(he),X(le),X(qe),X(rd,8),X(Kv,8))};static \u0275cmp=ce({type:t,selectors:[["sbb-option"]],hostAttrs:["role","option",1,"sbb-option","sbb-menu-item","sbb-link-reset"],hostVars:12,hostBindings:function(i,r){i&1&&se("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._selectViaInteraction()}),i&2&&(_n("id",r.id),ue("tabindex",r._getTabIndex())("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),ye("sbb-selected",r.selected)("sbb-option-multiple",r.multiple)("sbb-focused",r.active)("sbb-disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["sbbOption"],ngContentSelectors:ax,decls:3,vars:2,consts:[[3,"disabled","state"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(et(),H(0,lx,1,2,"sbb-pseudo-checkbox",0),Fe(1),H(2,cx,2,1,"span",1)),i&2&&(Ve(r.multiple?0:-1),f(2),Ve(r.group&&r.group._inert?2:-1))},dependencies:[wx],styles:[".sbb-option.sbb-menu-item{cursor:default}.sbb-pseudo-checkbox{display:inline-block;margin-right:calc(0.5333333333rem*var(--sbb-scaling-factor));margin-bottom:calc(-0.3rem*var(--sbb-scaling-factor));overflow:hidden;line-height:0}.sbb-pseudo-checkbox .sbb-selection-container{margin:0}"],encapsulation:2,changeDetection:0})}return t})();function Zv(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}var of=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Et]})}return t})();var Ex=["*"],sd;function xx(){if(sd===void 0&&(sd=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(sd=t.trustedTypes.createPolicy("sbb-esta#angular",{createHTML:n=>n}))}return sd}function pa(t){return xx()?.createHTML(t)||t}function Qv(t){return Error(`Unable to find icon with the name "${t}"`)}function Ax(){return Error("Could not find HttpClient provider for use with Sbb Angular icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Jv(t){return Error(`The URL provided to SbbIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function ey(t){return Error(`The literal provided to SbbIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var gi=class{url;svgText;options;svgElement;constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}},kx=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["sbb-icons"];_sbbCdnSupportedNamespaces=["kom","fpl","icons","picto"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new gi(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let s=this._sanitizer.sanitize(mn.HTML,r);if(!s)throw ey(r);let a=pa(s);return this._addSvgIconConfig(e,i,new gi("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new gi(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(mn.HTML,i);if(!o)throw ey(i);let s=pa(o);return this._addSvgIconSetConfig(e,new gi("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(mn.RESOURCE_URL,e);if(!i)throw Jv(e);let r=this._cachedIconsByUrl.get(i);return r?ne(ad(r)):this._loadSvgIconFromConfig(new gi(e,null)).pipe(Ge(o=>this._cachedIconsByUrl.set(i,o)),J(o=>ad(o)))}getNamedSvgIcon(e,i=""){let r=ty(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):!i&&(o=this._getIconConfigFromResolvers("icons",e),o)?(this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o)):wi(Qv(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ne(ad(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(J(i=>ad(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return ne(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(pn(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(mn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ne(null)})));return Vl(o).pipe(J(()=>{let s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw Qv(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ge(i=>e.svgText=i),J(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ne(null):this._fetchIcon(e).pipe(Ge(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(pa("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(pa("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw Ax();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(mn.RESOURCE_URL,i);if(!s)throw Jv(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(J(c=>pa(c)),tn(()=>this._inProgressUrlFetches.delete(s)),jm());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(ty(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return Tx(o)?new gi(o.url,null,o.options):new gi(o,null)}if(this._sbbCdnSupportedNamespaces.indexOf(e)!==-1){let r=this._sanitizer.bypassSecurityTrustResourceUrl(`https://icons.app.sbb.ch/${e}/${i}.svg`);return new gi(r,null)}}static \u0275fac=function(i){return new(i||t)(oe(tr,8),oe(Xh),oe(le,8),oe(lo))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ad(t){return t.cloneNode(!0)}function ty(t,n){return t+":"+n}function Tx(t){return!!(t.url&&t.options)}var Rx=new Y("sbb-icon-location",{providedIn:"root",factory:Ix});function Ix(){let t=u(le),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var ny=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ox=ny.map(t=>`[${t}]`).join(", "),Mx=/^url\(['"]?#(.*?)['"]?\)$/,at=(()=>{class t{_elementRef;_iconRegistry;_location;_errorHandler;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;id=u(gt).getId("sbb-icon-");_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ct.EMPTY;constructor(e,i,r,o,s){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,r||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i,this._elementRef.nativeElement.querySelector("svg")))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i,e),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e,i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{i?.querySelector(`#${a.value}`)?s.setAttribute(a.name,`url('${e}#${this.id} #${a.value}')`):s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Ox),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)ny.forEach(s=>{let a=i[o],l=a.getAttribute(s),c=l?l.match(Mx):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ht(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||t)(X(he),X(kx),ks("aria-hidden"),X(Rx),X(lo))};static \u0275cmp=ce({type:t,selectors:[["sbb-icon"]],hostAttrs:["role","img",1,"sbb-icon","notranslate"],hostVars:6,hostBindings:function(i,r){i&2&&(_n("id",r.id),ue("data-sbb-icon-type",r._usingFontIcon()?"font":"svg")("data-sbb-icon-name",r._svgName||r.fontIcon)("data-sbb-icon-namespace",r._svgNamespace||r.fontSet),ye("sbb-icon-inline",r.inline))},inputs:{color:"color",inline:[2,"inline","inline",Ce],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon",id:"id"},exportAs:["sbbIcon"],ngContentSelectors:Ex,decls:1,vars:0,template:function(i,r){i&1&&(et(),Fe(0))},styles:[".sbb-icon{background-repeat:no-repeat;display:inline-block;line-height:0;overflow:hidden}.sbb-icon svg:not(.color-immutable) [fill]:not([fill=none]){fill:currentColor}.sbb-icon svg:not(.color-immutable) [stroke]:not([stroke=none]){stroke:currentColor}.sbb-icon svg:not(.color-immutable)>:where(path,polygon,polyline):where(:not([stroke]):not([fill])),.sbb-icon svg:not(.color-immutable) :where(:not([stroke]):not([fill])) :where(path,polygon,polyline):where(:not([stroke]):not([fill])){fill:currentColor}.sbb-icon.sbb-icon-inline{vertical-align:middle;margin-block-start:calc(-.2666666667rem*var(--sbb-scaling-factor));margin-block-end:calc(-.1333333333rem*var(--sbb-scaling-factor))}:where(.sbb-icon-fit) .sbb-icon,.sbb-icon:where(.sbb-icon-fit),:where(.sbb-icon-fit,.sbb-icon-scaled) .sbb-icon svg,.sbb-icon:where(.sbb-icon-fit,.sbb-icon-scaled) svg{width:100%;height:100%}:where(.sbb-icon-scaled) .sbb-icon,.sbb-icon:where(.sbb-icon-scaled){width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default)}"],encapsulation:2,changeDetection:0})}return t})(),$e=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Et]})}return t})();var iy=["content"],Fx=["*"],Px=()=>{if(typeof window>"u"){let c=()=>{};return[c,c]}let t,n,e=window,i=typeof e.requestIdleCallback=="function",r=e.requestAnimationFrame,o=e.cancelAnimationFrame,s=i?e.requestIdleCallback:r,a=i?e.cancelIdleCallback:o,l=()=>{a(t),o(n)};return[(c,d)=>{l(),t=s(i?()=>{l(),n=r(c)}:c,typeof d=="object"?d:{timeout:2233})},l]},ry=(()=>{class t{constructor(e){this.ngZone=e,this.instanceRef=null;let[i,r]=Px();this.requestDefer=i,this.cancelDefer=r}osInitialize(e){this.ngZone.runOutsideAngular(()=>{let i=()=>{this.instanceRef=Qt(e,this.options||{},this.events||{})};this.defer?this.requestDefer(i,this.defer):i()})}osInstance(){return this.instanceRef}ngOnChanges(e){let i=e.options,r=e.events;if(i){let o=i.currentValue;this.options=o,Qt.valid(this.instanceRef)&&this.instanceRef.options(o||{},!0)}if(r){let o=r.currentValue;this.events=o,Qt.valid(this.instanceRef)&&this.instanceRef.on(o||{},!0)}}ngOnDestroy(){this.cancelDefer()}}return t.\u0275fac=function(e){return new(e||t)(X(me))},t.\u0275dir=_e({type:t,selectors:[["","overlayScrollbars",""]],inputs:{options:"options",events:"events",defer:"defer"},standalone:!1,features:[Qe]}),t})(),Lx=(t,n)=>Object.keys(t).reduce((e,i)=>{let r=t[i],o=n[i];return e[i]=[r,...(Array.isArray(o)?o:[o]).filter(Boolean)],e},{}),oy=(()=>{class t{constructor(e,i){this.ngZone=e,this.targetRef=i,this.onInitialized=new Q,this.onUpdated=new Q,this.onDestroyed=new Q,this.onScroll=new Q}osInstance(){return this.osDirective.osInstance()}getElement(){return this.targetRef.nativeElement}ngAfterViewInit(){let e=this.getElement(),i=this.contentRef.nativeElement;e&&i&&this.osDirective.osInitialize({target:e,elements:{viewport:i,content:i}})}ngOnDestroy(){this.osDirective?.osInstance()?.destroy()}mergeEvents(e){return Lx({initialized:(...i)=>this.dispatchEventIfHasObservers(this.onInitialized,i),updated:(...i)=>this.dispatchEventIfHasObservers(this.onUpdated,i),destroyed:(...i)=>this.dispatchEventIfHasObservers(this.onDestroyed,i),scroll:(...i)=>this.dispatchEventIfHasObservers(this.onScroll,i)},e||{})}dispatchEventIfHasObservers(e,i){(e.observed||e.observers.length>0)&&this.ngZone.run(()=>e.emit(i))}}return t.\u0275fac=function(e){return new(e||t)(X(me),X(he))},t.\u0275cmp=ce({type:t,selectors:[["overlay-scrollbars"],["","overlay-scrollbars",""]],viewQuery:function(e,i){if(e&1&&(Ye(iy,5),Ye(iy,5,ry)),e&2){let r;Ae(r=ke())&&(i.contentRef=r.first),Ae(r=ke())&&(i.osDirective=r.first)}},hostAttrs:["data-overlayscrollbars-initialize",""],inputs:{options:"options",events:"events",defer:"defer"},outputs:{onInitialized:"osInitialized",onUpdated:"osUpdated",onDestroyed:"osDestroyed",onScroll:"osScroll"},standalone:!1,ngContentSelectors:Fx,decls:3,vars:3,consts:[["content",""],["overlayScrollbars","","data-overlayscrollbars-contents","",3,"options","events","defer"]],template:function(e,i){e&1&&(et(),v(0,"div",1,0),Fe(2),y()),e&2&&C("options",i.options)("events",i.mergeEvents(i.events))("defer",i.defer)},dependencies:[ry],encapsulation:2}),t})(),ld=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=pe({}),t})();var sy={production:!0,apiKey:"eyJvcmciOiI2NDA2NTFhNTIyZmEwNTAwMDEyOWJiZTEiLCJpZCI6Ijk1ZDlmMmEzODg3YTQ5YmViODViYmIzNmZhMmE3MGJjIiwiaCI6Im11cm11cjEyOCJ9"};var fa=class t{API_BASE_URL="https://api.opentransportdata.swiss";intercept(n,e){if(n.url.startsWith(this.API_BASE_URL)){let i=n.clone({setHeaders:{Authorization:`Bearer ${sy.apiKey}`}});return e.handle(i)}return e.handle(n)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})};var ga=class t{static MAX_RETRIES=3;static BASE_RETRY_DELAY=1e3;static RETRYABLE_STATUS_CODES=[500,502,503,504];intercept(n,e){return e.handle(n).pipe(Vm(i=>i.pipe($n((r,o)=>{if(o<t.MAX_RETRIES&&this.shouldRetry(r)){let s=this.calculateRetryDelay(o);return console.warn(`Retrying request (attempt ${o+1}/${t.MAX_RETRIES}) after ${s}ms:`,r),Pm(s)}return wi(()=>this.formatError(r))}))))}shouldRetry(n){return t.RETRYABLE_STATUS_CODES.includes(n.status)}calculateRetryDelay(n){return t.BASE_RETRY_DELAY*Math.pow(2,n)}formatError(n){switch(console.error("HTTP Error:",n),n.status){case 400:return this.createApiError(n.status,"No train formation data available. Please check your search parameters.",n);case 401:return this.createApiError(n.status,"Authentication failed. Please check your API key.",n);case 403:return this.createApiError(n.status,"Access to this API has been disallowed.",n);case 404:return this.createApiError(n.status,"Train formation data not found. The train might not exist for the specified date.",n);case 429:return this.createApiError(n.status,"Rate limit exceeded. Please wait 1 minute before trying again (maximum 5 requests per minute allowed).",n,"Rate Limit Exceeded");case 500:case 502:case 503:case 504:return this.createApiError(n.status,"Server error occurred. The request has been automatically retried.",n);default:return this.createApiError(n.status||500,"An unexpected error occurred. Please try again later.",n,n.message||"Unknown error")}}createApiError(n,e,i,r){return{statusCode:n,message:e,technicalDetails:r||`HTTP ${n}: ${i.message}`}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})};var ma=class t{loadingCount=0;loadingSubject=new Pe(!1);loading$=this.loadingSubject.asObservable();intercept(n,e){return this.incrementLoading(),e.handle(n).pipe(tn(()=>{this.decrementLoading()}))}isLoading(){return this.loadingSubject.value}incrementLoading(){this.loadingCount++,this.updateLoadingState()}decrementLoading(){this.loadingCount=Math.max(0,this.loadingCount-1),this.updateLoadingState()}updateLoadingState(){let n=this.loadingCount>0;this.loadingSubject.value!==n&&this.loadingSubject.next(n)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};function Vx(t,n){return u(fa).intercept(t,{handle:n})}function Bx(t,n){return u(ga).intercept(t,{handle:n})}function jx(t,n){return u(ma).intercept(t,{handle:n})}var ay={providers:[mb({eventCoalescing:!0}),bv(),Yh(qh([Vx,Bx,jx])),fa,ga,ma,Hm($e,ld)]};var Mo=class{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},Pi=class extends Mo{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.projectableNodes=o}},Br=class extends Mo{templateRef;viewContainerRef;context;injector;constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},cd=class extends Mo{element;constructor(n){super(),this.element=n instanceof he?n.nativeElement:n}},ba=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof Pi)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof Br)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof cd)return this._attachedPortal=n,this.attachDomPortal(n)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var _a=class extends ba{outletElement;_appRef;_defaultInjector;_document;constructor(n,e,i,r,o){super(),this.outletElement=n,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(n){let e;if(n.viewContainerRef){let i=n.injector||n.viewContainerRef.injector,r=i.get(zl,null,{optional:!0})||void 0;e=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=n.injector||this._defaultInjector||dt.NULL,o=r.get(nn,i.injector);e=Jl(n.component,{elementInjector:r,environmentInjector:o,projectableNodes:n.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=n,e}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}attachDomPortal=n=>{let e=n.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var va=(()=>{class t extends Br{constructor(){let e=u(bn),i=u(Nt);super(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[kt]})}return t})();var jr=(()=>{class t extends ba{_moduleRef=u(zl,{optional:!0});_document=u(le);_viewContainerRef=u(Nt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Q;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[kt]})}return t})();var Li=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();var De="primary",Oa=Symbol("RouteTitle"),df=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Hr(t){return new df(t)}function gy(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Ux(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!mi(t[e],n[e]))return!1;return!0}function mi(t,n){let e=t?uf(t):void 0,i=n?uf(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!my(t[r],n[r]))return!1;return!0}function uf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function my(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function by(t){return t.length>0?t[t.length-1]:null}function dr(t){return Ds(t)?t:ho(t)?Ft(Promise.resolve(t)):ne(t)}var $x={exact:vy,subset:yy},_y={exact:Hx,subset:zx,ignored:()=>!0};function ly(t,n,e){return $x[e.paths](t.root,n.root,e.matrixParams)&&_y[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function Hx(t,n){return mi(t,n)}function vy(t,n,e){if(!Ur(t.segments,n.segments)||!hd(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!vy(t.children[i],n.children[i],e))return!1;return!0}function zx(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>my(t[e],n[e]))}function yy(t,n,e){return Sy(t,n,n.segments,e)}function Sy(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!Ur(r,e)||n.hasChildren()||!hd(r,e,i))}else if(t.segments.length===e.length){if(!Ur(t.segments,e)||!hd(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!yy(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Ur(t.segments,r)||!hd(t.segments,r,i)||!t.children[De]?!1:Sy(t.children[De],n,o,i)}}function hd(t,n,e){return n.every((i,r)=>_y[e](t[r].parameters,i.parameters))}var _i=class{root;queryParams;fragment;_queryParamMap;constructor(n=new He([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){return Yx.serialize(this)}},He=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pd(this)}},ar=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Hr(this.parameters),this._parameterMap}toString(){return wy(this)}};function Wx(t,n){return Ur(t,n)&&t.every((e,i)=>mi(e.parameters,n[i].parameters))}function Ur(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function Gx(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===De&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==De&&(e=e.concat(n(r,i)))}),e}var zr=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>new lr,providedIn:"root"})}return t})(),lr=class{parse(n){let e=new pf(n);return new _i(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${ya(n.root,!0)}`,i=Xx(n.queryParams),r=typeof n.fragment=="string"?`#${qx(n.fragment)}`:"";return`${e}${i}${r}`}},Yx=new lr;function pd(t){return t.segments.map(n=>wy(n)).join("/")}function ya(t,n){if(!t.hasChildren())return pd(t);if(n){let e=t.children[De]?ya(t.children[De],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==De&&i.push(`${r}:${ya(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=Gx(t,(i,r)=>r===De?[ya(t.children[De],!1)]:[`${r}:${ya(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[De]!=null?`${pd(t)}/${e[0]}`:`${pd(t)}/(${e.join("//")})`}}function Cy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(t){return Cy(t).replace(/%3B/gi,";")}function qx(t){return encodeURI(t)}function hf(t){return Cy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fd(t){return decodeURIComponent(t)}function cy(t){return fd(t.replace(/\+/g,"%20"))}function wy(t){return`${hf(t.path)}${Kx(t.parameters)}`}function Kx(t){return Object.entries(t).map(([n,e])=>`;${hf(n)}=${hf(e)}`).join("")}function Xx(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${dd(e)}=${dd(r)}`).join("&"):`${dd(e)}=${dd(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var Zx=/^[^\/()?;#]+/;function sf(t){let n=t.match(Zx);return n?n[0]:""}var Qx=/^[^\/()?;=#]+/;function Jx(t){let n=t.match(Qx);return n?n[0]:""}var eA=/^[^=?&#]+/;function tA(t){let n=t.match(eA);return n?n[0]:""}var nA=/^[^&#]+/;function iA(t){let n=t.match(nA);return n?n[0]:""}var pf=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[De]=new He(n,e)),i}parseSegment(){let n=sf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new we(4009,!1);return this.capture(n),new ar(fd(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=Jx(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=sf(this.remaining);r&&(i=r,this.capture(i))}n[fd(e)]=fd(i)}parseQueryParam(n){let e=tA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=iA(this.remaining);s&&(i=s,this.capture(i))}let r=cy(e),o=cy(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=sf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new we(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=De);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[De]:new He([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new we(4011,!1)}};function Dy(t){return t.segments.length>0?new He([],{[De]:t}):t}function Ey(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=Ey(r);if(i===De&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new He(t.segments,n);return rA(e)}function rA(t){if(t.numberOfChildren===1&&t.children[De]){let n=t.children[De];return new He(t.segments.concat(n.segments),n.children)}return t}function cr(t){return t instanceof _i}function xy(t,n,e=null,i=null){let r=Ay(t);return ky(r,n,e,i)}function Ay(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new He(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=Dy(i);return n??r}function ky(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return af(r,r,r,e,i);let o=oA(n);if(o.toRoot())return af(r,r,new He([],{}),e,i);let s=sA(o,r,t),a=s.processChildren?Ca(s.segmentGroup,s.index,o.commands):Ry(s.segmentGroup,s.index,o.commands);return af(r,s.segmentGroup,a,e,i)}function md(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function af(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===n?s=e:s=Ty(t,n,e);let a=Dy(Ey(s));return new _i(a,o,r)}function Ty(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=Ty(o,n,e)}),new He(t.segments,i)}var bd=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&md(i[0]))throw new we(4003,!1);let r=i.find(Da);if(r&&r!==by(i))throw new we(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bd(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new bd(e,n,i)}var Lo=class{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function sA(t,n,e){if(t.isAbsolute)return new Lo(n,!0,0);if(!e)return new Lo(n,!1,NaN);if(e.parent===null)return new Lo(e,!0,0);let i=md(t.commands[0])?0:1,r=e.segments.length-1+i;return aA(e,r,t.numberOfDoubleDots)}function aA(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new we(4005,!1);r=i.segments.length}return new Lo(i,!1,r-o)}function lA(t){return Da(t[0])?t[0].outlets:{[De]:t}}function Ry(t,n,e){if(t??=new He([],{}),t.segments.length===0&&t.hasChildren())return Ca(t,n,e);let i=cA(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new He(t.segments.slice(0,i.pathIndex),{});return o.children[De]=new He(t.segments.slice(i.pathIndex),t.children),Ca(o,0,r)}else return i.match&&r.length===0?new He(t.segments,{}):i.match&&!t.hasChildren()?ff(t,n,e):i.match?Ca(t,0,r):ff(t,n,e)}function Ca(t,n,e){if(e.length===0)return new He(t.segments,{});{let i=lA(e),r={};if(Object.keys(i).some(o=>o!==De)&&t.children[De]&&t.numberOfChildren===1&&t.children[De].segments.length===0){let o=Ca(t.children[De],n,e);return new He(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ry(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new He(t.segments,r)}}function cA(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(Da(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!uy(l,c,s))return o;i+=2}else{if(!uy(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ff(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Da(o)){let l=dA(o.outlets);return new He(i,l)}if(r===0&&md(e[0])){let l=t.segments[n];i.push(new ar(l.path,dy(e[0]))),r++;continue}let s=Da(o)?o.outlets[De]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&md(a)?(i.push(new ar(s,dy(a))),r+=2):(i.push(new ar(s,{})),r++)}return new He(i,{})}function dA(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=ff(new He([],{}),0,i))}),n}function dy(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function uy(t,n,e){return t==e.path&&mi(n,e.parameters)}var gd="imperative",It=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(It||{}),En=class{id;url;constructor(n,e){this.id=n,this.url=e}},ni=class extends En{type=It.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pn=class extends En{urlAfterRedirects;type=It.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(cn||{}),Vo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vo||{}),bi=class extends En{reason;code;type=It.NavigationCancel;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends En{reason;code;type=It.NavigationSkipped;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}},Bo=class extends En{error;target;type=It.NavigationError;constructor(n,e,i,r){super(n,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ea=class extends En{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_d=class extends En{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends En{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yd=class extends En{urlAfterRedirects;state;type=It.ResolveStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sd=class extends En{urlAfterRedirects;state;type=It.ResolveEnd;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class{route;type=It.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wd=class{route;type=It.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dd=class{snapshot;type=It.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=It.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xd=class{snapshot;type=It.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ad=class{snapshot;type=It.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=It.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},xa=class{},Uo=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function uA(t,n){return t.providers&&!t._injector&&(t._injector=Wl(t.providers,n,`Route: ${t.path}`)),t._injector??n}function ti(t){return t.outlet||De}function hA(t,n){let e=t.filter(i=>ti(i)===n);return e.push(...t.filter(i=>ti(i)!==n)),e}function Ma(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var kd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ma(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Wr(this.rootInjector)}},Wr=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new kd(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(oe(nn))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Td=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=gf(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=gf(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=mf(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return mf(n,this._root).map(e=>e.value)}};function gf(t,n){if(t===n.value)return n;for(let e of n.children){let i=gf(t,e);if(i)return i}return null}function mf(t,n){if(t===n.value)return[n];for(let e of n.children){let i=mf(t,e);if(i.length)return i.unshift(n),i}return[]}var Dn=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Po(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Aa=class extends Td{snapshot;constructor(n,e){super(n),this.snapshot=e,Df(this,n)}toString(){return this.snapshot.toString()}};function Iy(t){let n=pA(t),e=new Pe([new ar("",{})]),i=new Pe({}),r=new Pe({}),o=new Pe({}),s=new Pe(""),a=new Ni(e,i,o,s,r,De,t,n.root);return a.snapshot=n.root,new Aa(new Dn(a,[]),n)}function pA(t){let n={},e={},i={},r="",o=new $r([],n,i,r,e,De,t,null,{});return new ka("",new Dn(o,[]))}var Ni=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Oa]))??ne(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(n=>Hr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(n=>Hr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rd(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:U(U({},n.params),t.params),data:U(U({},n.data),t.data),resolve:U(U(U(U({},t.data),n.data),r?.data),t._resolvedData)}:i={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},r&&My(r)&&(i.resolve[Oa]=r.title),i}var $r=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oa]}constructor(n,e,i,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},ka=class extends Td{url;constructor(n,e){super(e),this.url=n,Df(this,e)}toString(){return Oy(this._root)}};function Df(t,n){n.value._routerState=t,n.children.forEach(e=>Df(t,e))}function Oy(t){let n=t.children.length>0?` { ${t.children.map(Oy).join(", ")} } `:"";return`${t.value}${n}`}function lf(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,mi(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),mi(n.params,e.params)||t.paramsSubject.next(e.params),Ux(n.url,e.url)||t.urlSubject.next(e.url),mi(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bf(t,n){let e=mi(t.params,n.params)&&Wx(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||bf(t.parent,n.parent))}function My(t){return typeof t.title=="string"||t.title===null}var Fy=new Y(""),Ef=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new Q;deactivateEvents=new Q;attachEvents=new Q;detachEvents=new Q;routerOutletData=Ym(void 0);parentContexts=u(Wr);location=u(Nt);changeDetector=u(qe);inputBinder=u(Fa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new we(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _f(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qe]})}return t})(),_f=class{route;childContexts;parent;outletData;constructor(n,e,i,r){this.route=n,this.childContexts=e,this.parent=i,this.outletData=r}get(n,e){return n===Ni?this.route:n===Wr?this.childContexts:n===Fy?this.outletData:this.parent.get(n,e)}},Fa=new Y(""),xf=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=hn([i.queryParams,i.params,i.data]).pipe(St(([o,s,a],l)=>(a=U(U(U({},o),s),a),l===0?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=_b(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function fA(t,n,e){let i=Ta(t,n._root,e?e._root:void 0);return new Aa(i,n)}function Ta(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=gA(t,n,e);return new Dn(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ta(t,a)),s}}let i=mA(n.value),r=n.children.map(o=>Ta(t,o));return new Dn(i,r)}}function gA(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ta(t,i,r);return Ta(t,i)})}function mA(t){return new Ni(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var $o=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Py="ngNavigationCancelingError";function Id(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=cr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Ly(!1,cn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Ly(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Py]=!0,e.cancellationCode=n,e}function bA(t){return Ny(t)&&cr(t.url)}function Ny(t){return!!t&&t[Py]}var _A=(t,n,e,i)=>J(r=>(new vf(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),vf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),lf(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Po(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Po(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Po(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Po(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ad(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Ed(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(lf(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},Od=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},No=class{component;route;constructor(n,e){this.component=n,this.route=e}};function vA(t,n,e){let i=t._root,r=n?n._root:null;return Sa(i,r,e,[i.value])}function yA(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function zo(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!$m(t)?t:n.get(t):i}function Sa(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Po(n);return t.children.forEach(s=>{SA(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wa(a,e.getContext(s),r)),r}function SA(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=CA(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Od(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sa(t,n,a?a.children:null,i,r):Sa(t,n,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new No(a.outlet.component,s))}else s&&wa(n,a,r),r.canActivateChecks.push(new Od(i)),o.component?Sa(t,null,a?a.children:null,i,r):Sa(t,null,e,i,r);return r}function CA(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Ur(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ur(t.url,n.url)||!mi(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(t,n)||!mi(t.queryParams,n.queryParams);case"paramsChange":default:return!bf(t,n)}}function wa(t,n,e){let i=Po(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?wa(s,n.children.getContext(o),e):wa(s,null,e):wa(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new No(n.outlet.component,r)):e.canDeactivateChecks.push(new No(null,r)):e.canDeactivateChecks.push(new No(null,r))}function Pa(t){return typeof t=="function"}function wA(t){return typeof t=="boolean"}function DA(t){return t&&Pa(t.canLoad)}function EA(t){return t&&Pa(t.canActivate)}function xA(t){return t&&Pa(t.canActivateChild)}function AA(t){return t&&Pa(t.canDeactivate)}function kA(t){return t&&Pa(t.canMatch)}function Vy(t){return t instanceof Fm||t?.name==="EmptyError"}var ud=Symbol("INITIAL_VALUE");function Ho(){return St(t=>hn(t.map(n=>n.pipe(Ht(1),Pt(ud)))).pipe(J(n=>{for(let e of n)if(e!==!0){if(e===ud)return ud;if(e===!1||TA(e))return e}return!0}),Me(n=>n!==ud),Ht(1)))}function TA(t){return cr(t)||t instanceof $o}function RA(t,n){return en(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?ne(Te(U({},e),{guardsResult:!0})):IA(s,i,r,t).pipe(en(a=>a&&wA(a)?OA(i,o,t,n):ne(a)),J(a=>Te(U({},e),{guardsResult:a})))})}function IA(t,n,e,i){return Ft(t).pipe(en(r=>NA(r.component,r.route,e,n,i)),Ki(r=>r!==!0,!0))}function OA(t,n,e,i){return Ft(n).pipe($n(r=>Nl(FA(r.route.parent,i),MA(r.route,i),LA(t,r.path,e),PA(t,r.route,e))),Ki(r=>r!==!0,!0))}function MA(t,n){return t!==null&&n&&n(new xd(t)),ne(!0)}function FA(t,n){return t!==null&&n&&n(new Dd(t)),ne(!0)}function PA(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return ne(!0);let r=i.map(o=>Es(()=>{let s=Ma(n)??e,a=zo(o,s),l=EA(a)?a.canActivate(n,t):kn(s,()=>a(n,t));return dr(l).pipe(Ki())}));return ne(r).pipe(Ho())}function LA(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>yA(s)).filter(s=>s!==null).map(s=>Es(()=>{let a=s.guards.map(l=>{let c=Ma(s.node)??e,d=zo(l,c),h=xA(d)?d.canActivateChild(i,t):kn(c,()=>d(i,t));return dr(h).pipe(Ki())});return ne(a).pipe(Ho())}));return ne(o).pipe(Ho())}function NA(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let l=Ma(n)??r,c=zo(a,l),d=AA(c)?c.canDeactivate(t,n,e,i):kn(l,()=>c(t,n,e,i));return dr(d).pipe(Ki())});return ne(s).pipe(Ho())}function VA(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return ne(!0);let o=r.map(s=>{let a=zo(s,t),l=DA(a)?a.canLoad(n,e):kn(t,()=>a(n,e));return dr(l)});return ne(o).pipe(Ho(),By(i))}function By(t){return Mm(Ge(n=>{if(typeof n!="boolean")throw Id(t,n)}),J(n=>n===!0))}function BA(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return ne(!0);let o=r.map(s=>{let a=zo(s,t),l=kA(a)?a.canMatch(n,e):kn(t,()=>a(n,e));return dr(l)});return ne(o).pipe(Ho(),By(i))}var Ra=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ia=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Fo(t){return wi(new Ra(t))}function jA(t){return wi(new we(4e3,!1))}function UA(t){return wi(Ly(!1,cn.GuardRejected))}var yf=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ne(i);if(r.numberOfChildren>1||!r.children[De])return jA(`${n.redirectTo}`);r=r.children[De]}}applyRedirectCommands(n,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,params:_,data:p,title:g}=r,S=kn(o,()=>a({params:_,data:p,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,title:g}));if(S instanceof _i)throw new Ia(S);e=S}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new Ia(s);return s}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new _i(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new He(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new we(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},Sf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $A(t,n,e,i,r){let o=jy(t,n,e);return o.matched?(i=uA(n,i),BA(i,n,e,r).pipe(J(s=>s===!0?o:U({},Sf)))):ne(o)}function jy(t,n,e){if(n.path==="**")return HA(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?U({},Sf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||gy)(e,t,n);if(!r)return U({},Sf);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?U(U({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function HA(t){return{matched:!0,parameters:t.length>0?by(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hy(t,n,e,i){return e.length>0&&GA(t,e,i)?{segmentGroup:new He(n,WA(i,new He(e,t.children))),slicedSegments:[]}:e.length===0&&YA(t,e,i)?{segmentGroup:new He(t.segments,zA(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new He(t.segments,t.children),slicedSegments:e}}function zA(t,n,e,i){let r={};for(let o of e)if(Fd(t,n,o)&&!i[ti(o)]){let s=new He([],{});r[ti(o)]=s}return U(U({},i),r)}function WA(t,n){let e={};e[De]=n;for(let i of t)if(i.path===""&&ti(i)!==De){let r=new He([],{});e[ti(i)]=r}return e}function GA(t,n,e){return e.some(i=>Fd(t,n,i)&&ti(i)!==De)}function YA(t,n,e){return e.some(i=>Fd(t,n,i))}function Fd(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function qA(t,n,e){return n.length===0&&!t.children[e]}var Cf=class{};function KA(t,n,e,i,r,o,s="emptyOnly"){return new wf(t,n,e,i,r,s,o).recognize()}var XA=31,wf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new yf(this.urlSerializer,this.urlTree)}noMatchError(n){return new we(4002,`'${n.segmentGroup}'`)}recognize(){let n=hy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(J(({children:e,rootSnapshot:i})=>{let r=new Dn(i,e),o=new ka("",r),s=xy(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new $r([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,De,e).pipe(J(i=>({children:i,rootSnapshot:e})),pn(i=>{if(i instanceof Ia)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ra?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,o):this.processSegment(n,e,i,i.segments,r,!0,o).pipe(J(s=>s instanceof Dn?[s]:[]))}processChildren(n,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ft(o).pipe($n(s=>{let a=i.children[s],l=hA(e,s);return this.processSegmentGroup(n,l,a,s,r)}),Bm((s,a)=>(s.push(...a),s)),uh(null),Nm(),en(s=>{if(s===null)return Fo(i);let a=Uy(s);return ZA(a),ne(a)}))}processSegment(n,e,i,r,o,s,a){return Ft(e).pipe($n(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,i,r,o,s,a).pipe(pn(c=>{if(c instanceof Ra)return ne(null);throw c}))),Ki(l=>!!l),pn(l=>{if(Vy(l))return qA(i,r,o)?ne(new Cf):Fo(i);throw l}))}processSegmentAgainstRoute(n,e,i,r,o,s,a,l){return ti(i)!==s&&(s===De||!Fd(r,o,i))?Fo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s,l):Fo(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=jy(e,r,o);if(!l)return Fo(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XA&&(this.allowRedirects=!1));let _=new $r(o,c,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,py(r),ti(r),r.component??r._loadedComponent??null,r,fy(r)),p=Rd(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(p.params),_.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,_,n);return this.applyRedirects.lineralizeSegments(r,g).pipe(en(S=>this.processSegment(n,i,e,S.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,e,i,r,o,s){let a=$A(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(St(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(St(({routes:c})=>{let d=i._loadedInjector??n,{parameters:h,consumedSegments:m,remainingSegments:_}=l,p=new $r(m,h,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,py(i),ti(i),i.component??i._loadedComponent??null,i,fy(i)),g=Rd(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:S,slicedSegments:b}=hy(e,m,_,c);if(b.length===0&&S.hasChildren())return this.processChildren(d,c,S,p).pipe(J(D=>new Dn(p,D)));if(c.length===0&&b.length===0)return ne(new Dn(p,[]));let R=ti(i)===o;return this.processSegment(d,c,S,b,R?De:o,!0,p).pipe(J(D=>new Dn(p,D instanceof Dn?[D]:[])))}))):Fo(e)))}getChildConfig(n,e,i){return e.children?ne({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?ne({routes:e._loadedRoutes,injector:e._loadedInjector}):VA(n,e,i,this.urlSerializer).pipe(en(r=>r?this.configLoader.loadChildren(n,e).pipe(Ge(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):UA(e))):ne({routes:[],injector:n})}};function ZA(t){t.sort((n,e)=>n.value.outlet===De?-1:e.value.outlet===De?1:n.value.outlet.localeCompare(e.value.outlet))}function QA(t){let n=t.value.routeConfig;return n&&n.path===""}function Uy(t){let n=[],e=new Set;for(let i of t){if(!QA(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=Uy(i.children);n.push(new Dn(i.value,r))}return n.filter(i=>!e.has(i))}function py(t){return t.data||{}}function fy(t){return t.resolve||{}}function JA(t,n,e,i,r,o){return en(s=>KA(t,n,e,i,s.extractedUrl,r,o).pipe(J(({state:a,tree:l})=>Te(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ek(t,n){return en(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ne(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $y(l))s.add(c);let a=0;return Ft(s).pipe($n(l=>o.has(l)?tk(l,i,t,n):(l.data=Rd(l,l.parent,t).resolve,ne(void 0))),Ge(()=>a++),hh(1),en(l=>a===s.size?ne(e):Un))})}function $y(t){let n=t.children.map(e=>$y(e)).flat();return[t,...n]}function tk(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!My(r)&&(o[Oa]=r.title),nk(o,t,n,i).pipe(J(s=>(t._resolvedData=s,t.data=Rd(t,t.parent,e).resolve,null)))}function nk(t,n,e,i){let r=uf(t);if(r.length===0)return ne({});let o={};return Ft(r).pipe(en(s=>ik(t[s],n,e,i).pipe(Ki(),Ge(a=>{if(a instanceof $o)throw Id(new lr,a);o[s]=a}))),hh(1),J(()=>o),pn(s=>Vy(s)?Un:wi(s)))}function ik(t,n,e,i){let r=Ma(n)??i,o=zo(t,r),s=o.resolve?o.resolve(n,e):kn(r,()=>o(n,e));return dr(s)}function cf(t){return St(n=>{let e=t(n);return e?Ft(e).pipe(J(()=>n)):ne(n)})}var Af=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===De);return i}getResolvedTitleForRoute(e){return e.data[Oa]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(Hy),providedIn:"root"})}return t})(),Hy=(()=>{class t extends Af{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(oe(a_))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gr=new Y("",{providedIn:"root",factory:()=>({})}),kf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&$(0,"router-outlet")},dependencies:[Ef],encapsulation:2})}return t})();function Tf(t){let n=t.children&&t.children.map(Tf),e=n?Te(U({},t),{children:n}):U({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==De&&(e.component=kf),e}var Wo=new Y(""),Pd=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=u(gb);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ne(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=dr(e.loadComponent()).pipe(J(Wy),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),tn(()=>{this.componentLoaders.delete(e)})),r=new lh(i,()=>new te).pipe(ah());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=zy(i,this.compiler,e,this.onLoadEndListener).pipe(tn(()=>{this.childrenLoaders.delete(i)})),s=new lh(o,()=>new te).pipe(ah());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zy(t,n,e,i){return dr(t.loadChildren()).pipe(J(Wy),en(r=>r instanceof sb||Array.isArray(r)?ne(r):Ft(n.compileModuleAsync(r))),J(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Wo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Tf),injector:o}}))}function rk(t){return t&&typeof t=="object"&&"default"in t}function Wy(t){return rk(t)?t.default:t}var Ld=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(ok),providedIn:"root"})}return t})(),ok=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rf=new Y(""),If=new Y("");function Gy(t,n,e){let i=t.get(If),r=t.get(le);return t.get(me).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),sk(t))),{onViewTransitionCreated:l}=i;return l&&kn(t,()=>l({transition:a,from:n,to:e})),s})}function sk(t){return new Promise(n=>{gn({read:()=>setTimeout(n)},{injector:t})})}var Of=new Y(""),Nd=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new te;transitionAbortSubject=new te;configLoader=u(Pd);environmentInjector=u(nn);destroyRef=u(Wm);urlSerializer=u(zr);rootContexts=u(Wr);location=u(ci);inputBindingEnabled=u(Fa,{optional:!0})!==null;titleStrategy=u(Af);options=u(Gr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=u(Ld);createViewTransition=u(Rf,{optional:!0});navigationErrorHandler=u(Of,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Cd(r)),i=r=>this.events.next(new wd(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Te(U({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new Pe(null),this.transitions.pipe(Me(i=>i!==null),St(i=>{let r=!1,o=!1;return ne(i).pipe(St(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",cn.SupersededByNewNavigation),Un;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Te(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new vi(s.id,this.urlSerializer.serialize(s.rawUrl),c,Vo.IgnoredSameUrlNavigation)),s.resolve(!1),Un}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ne(s).pipe(St(c=>(this.events.next(new ni(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Un:Promise.resolve(c))),JA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Te(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Ea(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:h,restoredState:m,extras:_}=s,p=new ni(c,this.urlSerializer.serialize(d),h,m);this.events.next(p);let g=Iy(this.rootComponentType).snapshot;return this.currentTransition=i=Te(U({},s),{targetSnapshot:g,urlAfterRedirects:d,extras:Te(U({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,ne(i)}else{let c="";return this.events.next(new vi(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Vo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Un}}),Ge(s=>{let a=new _d(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=i=Te(U({},s),{guards:vA(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),RA(this.environmentInjector,s=>this.events.next(s)),Ge(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Id(this.urlSerializer,s.guardsResult);let a=new vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Me(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",cn.GuardRejected),!1)),cf(s=>{if(s.guards.canActivateChecks.length!==0)return ne(s).pipe(Ge(a=>{let l=new yd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),St(a=>{let l=!1;return ne(a).pipe(ek(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",cn.NoDataFromResolver)}}))}),Ge(a=>{let l=new Sd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),cf(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ge(d=>{l.component=d}),J(()=>{})));for(let d of l.children)c.push(...a(d));return c};return hn(a(s.targetSnapshot.root)).pipe(uh(null),Ht(1))}),cf(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ft(l).pipe(J(()=>i)):ne(i)}),J(s=>{let a=fA(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=Te(U({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Ge(()=>{this.events.next(new xa)}),_A(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ht(1),Ge({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Be(this.transitionAbortSubject.pipe(Ge(s=>{throw s}))),tn(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",cn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),pn(s=>{if(this.destroyed)return i.resolve(!1),Un;if(o=!0,Ny(s))this.events.next(new bi(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),bA(s)?this.events.next(new Uo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Bo(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=kn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof $o){let{message:c,cancellationCode:d}=Id(this.urlSerializer,l);this.events.next(new bi(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new Uo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Un}))}))}cancelNavigationTransition(e,i,r){let o=new bi(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ak(t){return t!==gd}var Yy=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(lk),providedIn:"root"})}return t})(),Md=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},lk=(()=>{class t extends Md{static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qy=(()=>{class t{urlSerializer=u(zr);options=u(Gr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=u(ci);urlHandlingStrategy=u(Ld);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _i;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof _i?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=Iy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:()=>u(ck),providedIn:"root"})}return t})(),ck=(()=>{class t extends qy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof ni?this.updateStateMemento():e instanceof vi?this.commitTransition(i):e instanceof Ea?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof xa?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof bi&&(e.code===cn.GuardRejected||e.code===cn.NoDataFromResolver)?this.restoreHistory(i):e instanceof Bo?this.restoreHistory(i,!0):e instanceof Pn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=U(U({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",l)}else{let a=U(U({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vd(t,n){t.events.pipe(Me(e=>e instanceof Pn||e instanceof bi||e instanceof Bo||e instanceof vi),J(e=>e instanceof Pn||e instanceof vi?0:(e instanceof bi?e.code===cn.Redirect||e.code===cn.SupersededByNewNavigation:!1)?2:1),Me(e=>e!==2),Ht(1)).subscribe(()=>{n()})}var dk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ln=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=u(mh);stateManager=u(qy);options=u(Gr,{optional:!0})||{};pendingTasks=u($l);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=u(Nd);urlSerializer=u(zr);location=u(ci);urlHandlingStrategy=u(Ld);_events=new te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=u(Yy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=u(Wo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!u(Fa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ct;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof bi&&i.code!==cn.Redirect&&i.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pn)this.navigated=!0;else if(i instanceof Uo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=U({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ak(r.source)},s);this.scheduleNavigation(a,gd,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}pk(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=U({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Tf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=r?r.snapshot:this.routerState.snapshot.root;h=Ay(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return ky(h,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=cr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,gd,null,i)}navigate(e,i={skipLocationChange:!1}){return hk(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=U({},dk):i===!1?r=U({},uk):r=i,cr(e))return ly(this.currentUrlTree,e,r);let o=this.parseUrl(e);return ly(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,m)=>{a=h,l=m});let d=this.pendingTasks.add();return Vd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hk(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new we(4008,!1)}function pk(t){return!(t instanceof xa)&&!(t instanceof Uo)}var Bd=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new te;constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(cr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:ob(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:cr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(X(Ln),X(Ni),ks("tabindex"),X(Lt),X(he),X(Wn))};static \u0275dir=_e({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&se("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ue("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ce],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ce],replaceUrl:[2,"replaceUrl","replaceUrl",Ce],routerLink:"routerLink"},features:[Qe]})}return t})();var La=class{};var Ky=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Me(e=>e instanceof Pn),$n(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Wl(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ft(r).pipe(ch())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=ne(null);let o=r.pipe(en(s=>s===null?ne(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Ft([o,s]).pipe(ch())}else return o})}static \u0275fac=function(i){return new(i||t)(oe(Ln),oe(nn),oe(La),oe(Pd))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xy=new Y(""),fk=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof vi&&e.code===Vo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jo&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Hl()};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function gk(t){return t.routerState.root}function Na(t,n){return{\u0275kind:t,\u0275providers:n}}function mk(){let t=u(dt);return n=>{let e=t.get(wr);if(n!==e.components[0])return;let i=t.get(Ln),r=t.get(Zy);t.get(Ff)===1&&i.initialNavigation(),t.get(e0,null,gh.Optional)?.setUpPreloading(),t.get(Xy,null,gh.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zy=new Y("",{factory:()=>new te}),Ff=new Y("",{providedIn:"root",factory:()=>1});function Qy(){let t=[{provide:Ff,useValue:0},bh(()=>{let n=u(dt);return n.get(wh,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(Ln),o=n.get(Zy);Vd(r,()=>{i(!0)}),n.get(Nd).afterPreactivation=()=>(i(!0),o.closed?ne(void 0):o),r.initialNavigation()}))})];return Na(2,t)}function Jy(){let t=[bh(()=>{u(Ln).setUpLocationChangeListener()}),{provide:Ff,useValue:2}];return Na(3,t)}var e0=new Y("");function t0(t){return Na(0,[{provide:e0,useExisting:Ky},{provide:La,useExisting:t}])}function n0(){return Na(8,[xf,{provide:Fa,useExisting:xf}])}function i0(t){Ms("NgRouterViewTransitions");let n=[{provide:Rf,useValue:Gy},{provide:If,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Na(9,n)}var r0=[ci,{provide:zr,useClass:lr},Ln,Wr,{provide:Ni,useFactory:gk,deps:[Ln]},Pd,[]],Pf=(()=>{class t{constructor(){}static forRoot(e,i){return{ngModule:t,providers:[r0,[],{provide:Wo,multi:!0,useValue:e},[],i?.errorHandler?{provide:Of,useValue:i.errorHandler}:[],{provide:Gr,useValue:i||{}},i?.useHash?_k():vk(),bk(),i?.preloadingStrategy?t0(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yk(i):[],i?.bindToComponentInputs?n0().\u0275providers:[],i?.enableViewTransitions?i0().\u0275providers:[],Sk()]}}static forChild(e){return{ngModule:t,providers:[{provide:Wo,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();function bk(){return{provide:Xy,useFactory:()=>{let t=u(jb),n=u(me),e=u(Gr),i=u(Nd),r=u(zr);return e.scrollOffset&&t.setOffset(e.scrollOffset),new fk(r,i,t,n,e)}}}function _k(){return{provide:Wn,useClass:Rh}}function vk(){return{provide:Wn,useClass:nc}}function yk(t){return[t.initialNavigation==="disabled"?Jy().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Qy().\u0275providers:[]]}var Mf=new Y("");function Sk(){return[{provide:Mf,useFactory:mk},{provide:lb,multi:!0,useExisting:Mf}]}var Ck=new Y("cdk-dir-doc",{providedIn:"root",factory:wk});function wk(){return u(le)}var Dk=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ek(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?Dk.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Lf=(()=>{class t{value="ltr";change=new Q;constructor(){let e=u(Ck,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=Ek(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Va=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();var xk=20,ja=(()=>{class t{_ngZone=u(me);_platform=u(ut);_renderer=u(Xt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new te;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=xk){return this._platform.isBrowser?new Ci(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(dh(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ne()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Me(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Fn(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ak=20,Go=(()=>{class t{_platform=u(ut);_listeners;_viewportSize;_change=new te;_document=u(le,{optional:!0});constructor(){let e=u(me),i=u(Xt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=Ak){return e>0?this._change.pipe(dh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ba=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})(),Nf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Va,Ba,Va,Ba]})}return t})();var o0=Hv(),jd=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,e){this._viewportRuler=n,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Dt(-this._previousScrollPosition.left),n.style.top=Dt(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),o0&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),o0&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Ud=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(Me(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Ua=class{enable(){}disable(){}attach(){}};function Vf(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,o=t.right<e.left,s=t.left>e.right;return i||r||o||s})}function s0(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,o=t.left<e.left,s=t.right>e.right;return i||r||o||s})}var $d=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Vf(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},h0=(()=>{class t{_scrollDispatcher=u(ja);_viewportRuler=u(Go);_ngZone=u(me);_document=u(le);constructor(){}noop=()=>new Ua;close=e=>new Ud(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new jd(this._viewportRuler,this._document);reposition=e=>new $d(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vi=class{positionStrategy;scrollStrategy=new Ua;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var Hd=class{connectionPair;scrollableViewProperties;constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var p0=(()=>{class t{_attachedOverlays=[];_document=u(le);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f0=(()=>{class t extends p0{_ngZone=u(me);_renderer=u(Xt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),g0=(()=>{class t extends p0{_platform=u(ut);_ngZone=u(me);_renderer=u(Xt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[yt(this._renderer,i,"pointerdown",this._pointerDownListener,r),yt(this._renderer,i,"click",this._clickListener,r),yt(this._renderer,i,"auxclick",this._clickListener,r),yt(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Qn(e)};_clickListener=e=>{let i=Qn(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(a0(a.overlayElement,i)||a0(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a0(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=n;for(;i;){if(i===t)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var m0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),b0=(()=>{class t{_platform=u(ut);_containerElement;_document=u(le);_styleLoader=u(Fi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||To()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),To()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(m0)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bf=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,e,i,r){this._renderer=e,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},zd=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new te;_attachments=new te;_detachments=new te;_positionStrategy;_scrollStrategy;_locationChanges=ct.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new te;_outsidePointerEvents=new te;_renders=new te;_afterRenderRef;_afterNextRenderRef;constructor(n,e,i,r,o,s,a,l,c,d=!1,h,m){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._renderer=m,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=rn(()=>Zm(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=gn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=U(U({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Te(U({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=Dt(this._config.width),n.height=Dt(this._config.height),n.minWidth=Dt(this._config.minWidth),n.minHeight=Dt(this._config.minHeight),n.maxWidth=Dt(this._config.maxWidth),n.maxHeight=Dt(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Bf(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,e,i){let r=Ao(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let n=this._renders.pipe(Be($t(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n?.disable(),n?.detach?.()}},l0="cdk-overlay-connected-position-bounding-box",kk=/([A-Za-z%]+)$/,Wd=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new te;_resizeSubscription=ct.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(l0),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(n,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(l0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r=i.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){let o=d0(e),{x:s,y:a}=n,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,h=s+o.width-i.width,m=0-a,_=a+o.height-i.height,p=this._subtractOverflows(o.width,d,h),g=this._subtractOverflows(o.height,m,_),S=p*g;return{visibleArea:S,isCompletelyWithinViewport:o.width*o.height===S,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,s=c0(this._overlayRef.getConfig().minHeight),a=c0(this._overlayRef.getConfig().minWidth),l=n.fitsInViewportVertically||s!=null&&s<=r,c=n.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=d0(e),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),a=Math.max(n.y+r.height-o.height,0),l=Math.max(o.top-i.top-n.y,0),c=Math.max(o.left-i.left-n.x,0),d=0,h=0;return r.width<=o.width?d=c||-s:d=n.x<this._viewportMargin?o.left-i.left-n.x:0,r.height<=o.height?h=l||-a:h=n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:d,y:h},{x:n.x+d,y:n.y+h}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!Tk(this._lastScrollVisibility,i)){let r=new Hd(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=n.y,o=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-n.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let _=Math.min(i.bottom-n.y+i.top,n.y),p=this._lastBoundingBoxSize.height;o=_*2,s=n.y-_,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-p/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,m;if(c)m=i.width-n.x+this._viewportMargin*2,d=n.x-this._viewportMargin;else if(l)h=n.x,d=i.right-n.x;else{let _=Math.min(i.right-n.x+i.left,n.x),p=this._lastBoundingBoxSize.width;d=_*2,h=n.x-_,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(h=n.x-p/2)}return{top:s,left:h,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Dt(i.height),r.top=Dt(i.top),r.bottom=Dt(i.bottom),r.width=Dt(i.width),r.left=Dt(i.left),r.right=Dt(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Dt(o)),s&&(r.maxWidth=Dt(s))}this._lastBoundingBoxSize=i,Yr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Yr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Yr(i,this._getExactOverlayY(e,n,d)),Yr(i,this._getExactOverlayX(e,n,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Dt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Dt(s.maxWidth):o&&(i.maxWidth="")),Yr(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Dt(o.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=n.overlayX==="end"?"left":"right":s=n.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Dt(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:s0(n,i),isOriginOutsideView:Vf(n,i),isOverlayClipped:s0(e,i),isOverlayOutsideView:Vf(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Ao(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof he)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}};function Yr(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function c0(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(kk);return!e||e==="px"?parseFloat(n):null}return t||null}function d0(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function Tk(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var u0="cdk-global-overlay-wrapper",Gd=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(u0),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,h=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",_="",p="",g="";l?g="flex-start":d==="center"?(g="center",m?p=h:_=h):m?d==="left"||d==="end"?(g="flex-end",_=h):(d==="right"||d==="start")&&(g="flex-start",p=h):d==="left"||d==="start"?(g="flex-start",_=h):(d==="right"||d==="end")&&(g="flex-end",p=h),n.position=this._cssPosition,n.marginLeft=l?"0":_,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":p,e.justifyContent=g,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(u0),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},_0=(()=>{class t{_viewportRuler=u(Go);_document=u(le);_platform=u(ut);_overlayContainer=u(b0);constructor(){}global(){return new Gd}flexibleConnectedTo(e){return new Wd(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gt=(()=>{class t{scrollStrategies=u(h0);_overlayContainer=u(b0);_positionBuilder=u(_0);_keyboardDispatcher=u(f0);_injector=u(dt);_ngZone=u(me);_document=u(le);_directionality=u(Lf);_location=u(ci);_outsideClickDispatcher=u(g0);_animationsModuleType=u(Zi,{optional:!0});_idGenerator=u(gt);_renderer=u(Xt).createRenderer(null,null);_appRef;_styleLoader=u(Fi);constructor(){}create(e){this._styleLoader.load(m0);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Vi(e);return s.direction=s.direction||this._directionality.value,new zd(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(nn),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(wr)),new _a(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rk=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],v0=new Y("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=u(Gt);return()=>t.scrollStrategies.reposition()}}),$a=(()=>{class t{elementRef=u(he);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),Yd=(()=>{class t{_overlay=u(Gt);_dir=u(Lf,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=ct.EMPTY;_attachSubscription=ct.EMPTY;_detachSubscription=ct.EMPTY;_positionSubscription=ct.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=u(v0);_disposeOnNavigation=!1;_ngZone=u(me);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Q;positionChange=new Q;attach=new Q;detach=new Q;overlayKeydown=new Q;overlayOutsideClick=new Q;constructor(){let e=u(bn),i=u(Nt);this._templatePortal=new Br(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Rk);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Jt(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=Qn(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Vi({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof $a?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof $a?this.origin.elementRef.nativeElement:this.origin instanceof he?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Um(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ce],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Ce],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ce],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ce],push:[2,"cdkConnectedOverlayPush","push",Ce],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ce]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Qe]})}return t})();function Ik(t){return()=>t.scrollStrategies.reposition()}var Ok={provide:v0,deps:[Gt],useFactory:Ik},yi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[Gt,Ok],imports:[Va,Li,Nf,Nf]})}return t})();var y0=["*"],Mk=["panelTarget"],Fk=["sbbHeaderMenu",""],Pk=["menu"],Lk=[[["sbb-header-environment"]],[["",8,"additional-header-content"],["sbb-header-icon-actions"],["",8,"sbb-header-icon-actions"]],[["sbb-usermenu"],["",8,"sbb-usermenu"]],[["","brand",""],["",8,"brand"]],[["sbb-app-chooser-section"]],[["sbb-header-menu"]],[["a"],["button"]]],Nk=["sbb-header-environment",".additional-header-content,sbb-header-icon-actions,.sbb-header-icon-actions","sbb-usermenu,.sbb-usermenu","[brand],.brand","sbb-app-chooser-section","sbb-header-menu","a,button"];function Vk(t,n){if(t&1&&(v(0,"span",7),j(1),y()),t&2){let e=x();f(),Se(e.subtitle)}}function Bk(t,n){}function jk(t,n){if(t&1&&H(0,Bk,0,0,"ng-template",9),t&2){x();let e=si(35);C("cdkPortalOutlet",e)}}function Uk(t,n){t&1&&(v(0,"div",14),Ul(),v(1,"svg",22),$(2,"path",23)(3,"path",24),y()())}function $k(t,n){if(t&1&&(v(0,"span",7),j(1),y()),t&2){let e=x();f(),Se(e.subtitle)}}function Hk(t,n){}function zk(t,n){if(t&1&&H(0,Hk,0,0,"ng-template",9),t&2){x();let e=si(35);C("cdkPortalOutlet",e)}}function Wk(t,n){t&1&&Fe(0,6)}var Gk=["*",[["a"],["button"],["hr"]]],Yk=["*","a, button, hr"];function qk(t,n){if(t&1){let e=pt();v(0,"div",5),se("keydown",function(r){Le(e);let o=x();return Ne(o._handlePanelKeydown(r))})("click",function(){Le(e);let r=x();return Ne(r.closed.emit("click"))}),Fe(1,1),y()}if(t&2){let e=x();C("id",e.id)("ngClass",e._classList)}}var qd=new Y("SBB_HEADER"),Kk=(()=>{class t{_header=u(qd);label;constructor(){}_handleChildClick(e){let i=e.target;i&&i.tagName&&(i.tagName==="A"||i.tagName==="BUTTON")&&(this._header.opened=!1)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-app-chooser-section"]],hostAttrs:[1,"sbb-app-chooser"],hostBindings:function(i,r){i&1&&se("click",function(s){return r._handleChildClick(s)})},inputs:{label:"label"},ngContentSelectors:y0,decls:3,vars:1,consts:[[1,"sbb-app-chooser-label"]],template:function(i,r){i&1&&(et(),v(0,"strong",0),j(1),y(),Fe(2)),i&2&&(f(),Se(r.label))},styles:[".sbb-app-chooser{display:flex;flex-direction:column;margin:0 calc(1rem*var(--sbb-scaling-factor))}.sbb-app-chooser:last-of-type{margin-bottom:var(--sbb-divider-small)}.sbb-app-chooser-label{display:block;font-family:var(--sbb-font-light);font-size:var(--sbb-font-size-large);line-height:var(--sbb-header-lean-label-line-height);margin-top:calc(1.6rem*var(--sbb-scaling-factor));margin-bottom:calc(1.0666666667rem*var(--sbb-scaling-factor))}.sbb-app-chooser a{font-size:var(--sbb-font-size);line-height:var(--sbb-line-height-medium);padding:calc(0.5333333333rem*var(--sbb-scaling-factor)) calc(2.1333333333rem*var(--sbb-scaling-factor)) calc(0.6666666667rem*var(--sbb-scaling-factor)) 0;border-top:var(--sbb-border-width-thin) solid var(--sbb-color-cloud);text-decoration:none;outline:none;position:relative}.sbb-app-chooser a::after{content:var(--sbb-url-icon-arrow-right-small-black);display:inline-block;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);position:absolute;right:0;vertical-align:middle}.sbb-app-chooser a:hover::after{content:var(--sbb-url-icon-arrow-right-small-red125)}.sbb-app-chooser a:last-child{border-bottom:var(--sbb-border-width-thin) solid var(--sbb-color-cloud)}.sbb-app-chooser a :is(.sbb-icon,img){vertical-align:middle;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);margin-top:calc(var(--sbb-icon-size-default)*-1);margin-bottom:calc(var(--sbb-icon-size-default)*-1)}.sbb-app-chooser a :is(.sbb-icon,img) svg{width:100%;height:100%}.sbb-app-chooser a :is(.sbb-icon,img):first-child{margin-right:calc(0.5333333333rem*var(--sbb-scaling-factor))}"],encapsulation:2,changeDetection:0})}return t})(),Xk={menu:Qi("menu",[vn("open",on({left:0})),vn("void",on({left:-305,visibility:"hidden"})),li("open => void, void => open",[ai("0.3s ease-in-out")])])},S0=new Y("sbb-header-menu-scroll-strategy");function Zk(t){return()=>t.scrollStrategies.reposition()}var Qk={provide:S0,deps:[Gt],useFactory:Zk},Jk={passive:!0},C0=(()=>{class t{_overlay=u(Gt);_element=u(he);_focusMonitor=u(Jn);_router=u(Ln,{optional:!0});_header=u(qd);_cleanupTouchstart;_openedBy=null;get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.closed.asObservable().subscribe(()=>{this._destroyMenu()})))}_menu;restoreFocus=!0;menuOpened=new Q;menuClosed=new Q;_panelTarget;get menuOpen(){return this._menuOpen}_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=ct.EMPTY;_menuCloseSubscription=ct.EMPTY;_destroyed=new te;_scrollStrategy=u(S0);_handleTouchStart=()=>this._openedBy="touch";constructor(){let e=u(Lt);this._cleanupTouchstart=yt(e,this._element.nativeElement,"touchstart",()=>{this._openedBy="touch"},Jk)}ngAfterContentInit(){this._checkMenu()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._cleanupTouchstart(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(!this._menuOpen){if(this._checkMenu(),this._header._menusCollapsed)this.menu._panelPortalOutlet.attachTemplatePortal(this.menu._panelPortal);else{let e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=!0,e.attach(this.menu._panelPortal)}this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu()}}closeMenu(){this._menuOpen&&(this._panelTarget.nativeElement.style.removeProperty("width"),this.menu.open=!1)}focus(e="program",i){this._focusMonitor?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}_handleMousedown(e){oa(e)||(this._openedBy=e.button===0?"mouse":null)}_handleClick(){this.toggleMenu()}_destroyMenu(){!this._overlayRef&&!this.menu._panelPortalOutlet||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.detach(),this.menu._panelPortalOutlet.detach(),this._setIsMenuOpen(!1),this._restoreFocus())}_initMenu(){this.menu.open=!0,this._setIsMenuOpen(!0)}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit()}_checkMenu(){if(!this.menu)throw Error(`sbbHeaderMenu: must pass in an sbb-header-menu instance.

      Example:
        <sbb-header-menu #menu="sbbHeaderMenu"></sbb-header-menu>
        <button [sbbHeaderMenu]="menu"></button>`)}_createOverlay(){if(!this._overlayRef){let e=this._getOverlayConfig();this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Vi({positionStrategy:this._overlay.position().flexibleConnectedTo(this._panelTarget).withFlexibleDimensions(!1).withGrowAfterOpen().withLockedPosition().withTransformOriginOn(".sbb-header-menu-panel"),backdropClass:"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),minWidth:this._getHostWidth()})}_setPosition(e){e.withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}_getHostWidth(){return this._element.nativeElement.getBoundingClientRect().width}_menuClosingActions(){let e=this._overlayRef?this._overlayRef.backdropClick():xs,i=this._overlayRef?this._overlayRef.detachments():xs,r=this._header._headerMenusCollapsed,o=this._router?this._router.events.pipe(Me(a=>a instanceof ni)):xs,s=this.menu._items.toArray().map(a=>a.click);return $t(e,i,r,o,...s)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["button","sbbHeaderMenu",""]],viewQuery:function(i,r){if(i&1&&Ye(Mk,7),i&2){let o;Ae(o=ke())&&(r._panelTarget=o.first)}},hostAttrs:["type","button","aria-haspopup","menu",1,"sbb-header-menu-trigger"],hostVars:1,hostBindings:function(i,r){i&1&&se("mousedown",function(s){return r._handleMousedown(s)})("click",function(){return r._handleClick()}),i&2&&ue("aria-expanded",r.menuOpen||null)},inputs:{menu:[0,"sbbHeaderMenu","menu"],restoreFocus:[0,"sbbHeaderMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",menuClosed:"menuClosed"},exportAs:["sbbHeaderMenu"],attrs:Fk,ngContentSelectors:y0,decls:4,vars:0,consts:[["panelTarget",""],[1,"sbb-header-menu-trigger-content"],["svgIcon","chevron-small-down-small",1,"sbb-header-menu-trigger-indicator"]],template:function(i,r){i&1&&(et(),v(0,"span",1,0),Fe(2),$(3,"sbb-icon",2),y())},dependencies:[$e,at],styles:[".sbb-header-menu-trigger{position:relative}.sbb-header-menu-trigger:is(:hover,:active,:focus){color:var(--sbb-color-call-to-action-hover)}.sbb-header-lean-main-menu .sbb-header-menu-trigger{padding:0}.sbb-header-lean-main-menu .sbb-header-menu-trigger[aria-expanded=true]{overflow:visible}.sbb-header-menu-trigger-content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border:var(--sbb-border-width-thin) solid rgba(0,0,0,0);display:block;padding-right:calc(1.6rem*var(--sbb-scaling-factor));background-color:var(--sbb-header-lean-background-color)}.sbb-header-lean-main-menu .sbb-header-menu-trigger-content{display:inline-block;position:relative;padding:calc(0.4rem*var(--sbb-scaling-factor)) calc(0.5333333333rem*var(--sbb-scaling-factor));padding-right:2.1333333333rem;max-width:100%}.sbb-header-lean-main-menu .sbb-header-menu-trigger[aria-expanded=true] .sbb-header-menu-trigger-content{border:var(--sbb-border-width-thin) solid var(--sbb-color-weak-accent);border-top-left-radius:var(--sbb-border-radius);border-top-right-radius:var(--sbb-border-radius);border-bottom:var(--sbb-border-width-thin) solid var(--sbb-color-cloud);width:150%;max-width:unset;z-index:1000}.sbb-header-lean-side-menu .sbb-header-menu-trigger-content{border:0}.sbb-header-menu-trigger .sbb-header-menu-trigger-indicator{display:inline-block;position:absolute;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);top:50%;right:0;transform:translateY(-50%) rotate(-90deg)}.sbb-header-lean-main-menu .sbb-header-menu-trigger .sbb-header-menu-trigger-indicator{right:.5333333333rem;transform:translateY(-50%) rotate(0);transition:transform var(--sbb-transition-default)}.sbb-header-lean-main-menu .sbb-header-menu-trigger[aria-expanded=true] .sbb-header-menu-trigger .sbb-header-menu-trigger-indicator{transform:translateY(-50%) rotate(180deg)}"],encapsulation:2})}return t})(),eT={mobile:[Ue.Mobile],tablet:[Ue.Mobile,Ue.Tablet],desktop:[Ue.Mobile,Ue.Tablet,Ue.Desktop],desktopLarge:[Ue.Mobile,Ue.Tablet,Ue.Desktop,Ue.DesktopLarge],desktop2k:[Ue.Mobile,Ue.Tablet,Ue.Desktop,Ue.DesktopLarge,Ue.Desktop2k],desktop4k:[Ue.Mobile,Ue.Tablet,Ue.Desktop,Ue.DesktopLarge,Ue.Desktop2k,Ue.Desktop4k],desktop5k:[Ue.Mobile,Ue.Tablet,Ue.Desktop,Ue.DesktopLarge,Ue.Desktop2k,Ue.Desktop4k,Ue.Desktop5k]},jf=(()=>{class t{_elementRef=u(he);_focusTrapFactory=u(nd);_focusMonitor=u(Jn);_ngZone=u(me);_breakpointObserver=u(Mr);_changeDetectorRef=u(qe);_router=u(Ln,{optional:!0});_doc=u(le,{optional:!0});_labelOpenMenu=$localize`:Button label to open the sidebar of the header@@sbbHeaderOpenMenu:Open Menu`;_labelCloseMenu=$localize`:Button label to close the sidebar of the header@@sbbHeaderCloseMenu:Close Menu`;label;subtitle;collapseBreakpoint="tablet";get opened(){return this._opened}set opened(e){this.toggleMenu(ei(e))}_opened=!1;_animationStarted=new te;_animationEnd=new te;_animationState="void";_headerMenusCollapsed;_menusCollapsed=!1;openedChange=new Q(!0);get _openedStream(){return this.openedChange.pipe(Me(e=>e),J(()=>{}))}get openedStart(){return this._animationStarted.pipe(Me(e=>e.fromState!==e.toState&&e.toState.indexOf("open")===0),J(()=>{}))}get _closedStream(){return this.openedChange.pipe(Me(e=>!e),J(()=>{}))}get closedStart(){return this._animationStarted.pipe(Me(e=>e.fromState!==e.toState&&e.toState==="void"),J(()=>{}))}_menuElement;_appChooserSections;_menuTriggers;_openedVia;_destroyed=new te;_collapseBreakpoint=new Pe(this.collapseBreakpoint);_focusTrap;_elementFocusedBeforeMenuWasOpened=null;constructor(){this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeMenuWasOpened=this._doc.activeElement),this.opened&&this._focusTrap&&this._trapFocus(),this._doc&&this.opened&&this._ngZone.runOutsideAngular(()=>{$t(Bl(this._menuElement.nativeElement,"keydown").pipe(Me(i=>i.keyCode===27&&!Jt(i))),this._router?this._router.events.pipe(Me(i=>i instanceof ni)):xs).pipe(Be(this.openedChange)).subscribe(()=>this._ngZone.run(()=>this.closeMenu()))})):this._restoreFocus()}),this._animationEnd.pipe(qi((e,i)=>e.fromState===i.fromState&&e.toState===i.toState)).subscribe(e=>{let{fromState:i,toState:r}=e;(r.indexOf("open")===0&&i==="void"||r==="void"&&i.indexOf("open")===0)&&this.openedChange.emit(this._opened)}),this._headerMenusCollapsed=this._collapseBreakpoint.pipe(St(e=>this._breakpointObserver.observe(eT[e])),J(e=>e.matches),qi(),fh(),Be(this._destroyed)),$t(this.closedStart,this._headerMenusCollapsed).subscribe(()=>{this._menuTriggers?.forEach(e=>e.closeMenu())}),this._headerMenusCollapsed.subscribe(e=>{Promise.resolve().then(()=>this._menusCollapsed=e)}),this._ngZone.runOutsideAngular(()=>{this._headerMenusCollapsed.subscribe(e=>{e?this._elementRef.nativeElement.classList.add("sbb-header-lean-menus-collapsed"):this._elementRef.nativeElement.classList.remove("sbb-header-lean-menus-collapsed")})})}ngOnChanges(e){e.collapseBreakpoint&&e.collapseBreakpoint.previousValue!==e.collapseBreakpoint.currentValue&&this._collapseBreakpoint.next(this.collapseBreakpoint)}ngAfterViewInit(){this._focusTrap=this._focusTrapFactory.create(this._menuElement.nativeElement),this._updateFocusTrapState()}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._destroyed.next(),this._destroyed.complete()}_openOnKeydownTrigger(e){(e.keyCode===32||e.keyCode===13)&&this.openMenu("keyboard")}openMenu(e){return this.toggleMenu(!0,e)}_closeOnKeydownTrigger(e){(e.keyCode===32||e.keyCode===13)&&this.closeMenu()}_onBackdropClicked(){this.closeMenu()}closeMenu(){return this.toggleMenu(!1)}toggleMenu(e=!this.opened,i="program"){return this._opened=e,e?(this._animationState="open",this._openedVia=i):(this._animationState="void",this._changeDetectorRef.markForCheck(),this._restoreFocus()),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(Ht(1)).subscribe(o=>r(o?"open":"close"))})}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}_trapFocus(){this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&typeof this._menuElement.nativeElement.focus=="function"&&this._menuElement.nativeElement.focus()})}_restoreFocus(){let e=this._doc&&this._doc.activeElement;e&&this._menuElement.nativeElement.contains(e)&&(this._elementFocusedBeforeMenuWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeMenuWasOpened,this._openedVia):this._menuElement.nativeElement.blur()),this._elementFocusedBeforeMenuWasOpened=null,this._openedVia=null}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-header-lean"]],contentQueries:function(i,r,o){if(i&1&&(zt(o,Kk,4),zt(o,C0,4)),i&2){let s;Ae(s=ke())&&(r._appChooserSections=s),Ae(s=ke())&&(r._menuTriggers=s)}},viewQuery:function(i,r){if(i&1&&Ye(Pk,7),i&2){let o;Ae(o=ke())&&(r._menuElement=o.first)}},hostAttrs:[1,"sbb-header-lean"],hostVars:4,hostBindings:function(i,r){i&2&&ye("sbb-header-lean-opened",r.opened)("sbb-header-lean-app-chooser-available",r._appChooserSections.length)},inputs:{label:"label",subtitle:"subtitle",collapseBreakpoint:"collapseBreakpoint"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["sbbHeader"],features:[Ct([{provide:qd,useExisting:t}]),Qe],ngContentSelectors:Nk,decls:36,vars:18,consts:[["iconContent",""],["menu",""],["menuActions","cdkPortal"],["type","button",1,"sbb-header-lean-open-menu","sbb-button-reset-frameless","sbb-icon-fit",3,"click","keydown"],[3,"svgIcon"],[1,"sbb-header-lean-titlebox"],[1,"sbb-header-lean-label"],[1,"sbb-header-lean-subtitle"],[1,"sbb-header-lean-main-menu"],[3,"cdkPortalOutlet"],[1,"sbb-header-lean-container-end"],[1,"sbb-header-lean-additional-content"],[1,"sbb-header-lean-usermenu"],[1,"sbb-header-lean-logo",3,"hidden"],[1,"sbb-header-lean-logo"],[1,"sbb-header-lean-side-menu-backdrop",3,"click"],[1,"sbb-header-lean-side-menu-container","sbb-scrollbar"],[1,"sbb-header-lean-side-menu-title-section"],["type","button",1,"sbb-header-lean-close-menu","sbb-button-reset-frameless",3,"click","keydown"],["svgIcon","cross-small"],[1,"sbb-header-lean-side-menu"],["cdkPortal",""],["viewBox","0 0 80 21","xmlns","http://www.w3.org/2000/svg",1,"sbb-header-lean-sbb-logo"],["d","M0 0h59.233v20.603H0V0z","fill","#EC0000"],["d","M35.186 17.02h3.75l-5.047-5.163h6.265v5.163h2.96v-5.163h6.267l-5.05 5.163h3.752l6.427-6.708-6.426-6.73h-3.752l5.05 5.185h-6.266V3.583h-2.96v5.184h-6.267l5.047-5.184h-3.75l-6.43 6.73 6.43 6.707","fill","#FFF"]],template:function(i,r){if(i&1){let o=pt();et(Lk),Fe(0),v(1,"button",3),se("click",function(){return Le(o),Ne(r.openMenu("mouse"))})("keydown",function(a){return Le(o),Ne(r._openOnKeydownTrigger(a))}),$(2,"sbb-icon",4),y(),v(3,"div",5)(4,"span",6),j(5),y(),H(6,Vk,2,1,"span",7),y(),v(7,"nav",8),H(8,jk,1,1,null,9),wt(9,"async"),y(),v(10,"div",10)(11,"div",11),Fe(12,1),y(),v(13,"div",12),Fe(14,2),y(),v(15,"div",13,0),Fe(17,3),y(),H(18,Uk,4,0,"div",14),y(),v(19,"div",15),se("click",function(){return Le(o),Ne(r._onBackdropClicked())}),y(),v(20,"div",16,1),se("@menu.start",function(a){return Le(o),Ne(r._animationStartListener(a))})("@menu.done",function(a){return Le(o),Ne(r._animationDoneListener(a))}),v(22,"div",17)(23,"button",18),se("click",function(){return Le(o),Ne(r.closeMenu())})("keydown",function(a){return Le(o),Ne(r._closeOnKeydownTrigger(a))}),$(24,"sbb-icon",19),y(),v(25,"div",5)(26,"span",6),j(27),y(),H(28,$k,2,1,"span",7),y()(),v(29,"nav",20),H(30,zk,1,1,null,9),wt(31,"async"),y(),Fe(32,4),y(),Fe(33,5),H(34,Wk,1,0,"ng-template",21,2,Hn)}if(i&2){let o=si(16);f(),ye("sbb-header-lean-app-chooser-available",r._appChooserSections.length),ue("aria-label",r._labelOpenMenu),f(),C("svgIcon",r._appChooserSections.length?"nine-squares-small":"hamburger-menu-small"),f(3),Se(r.label),f(),Ve(r.subtitle?6:-1),f(2),Ve(jt(9,14,r._headerMenusCollapsed)?-1:8),f(7),C("hidden",!o.childElementCount),f(3),Ve(o.childElementCount?-1:18),f(2),C("@menu",r._animationState),f(3),ue("aria-label",r._labelCloseMenu),f(4),Se(r.label),f(),Ve(r.subtitle?28:-1),f(2),Ve(jt(31,16,r._headerMenusCollapsed)?30:-1)}},dependencies:[$e,at,jr,va,Zt],styles:[".sbb-header-lean{display:flex;align-items:center;position:fixed;top:0;height:var(--sbb-header-lean-height);width:100%;z-index:var(--sbb-header-lean-base-z-index);background-color:var(--sbb-header-lean-background-color);border-bottom:var(--sbb-border-width-thin) solid var(--sbb-header-lean-border-bottom-color)}.sbb-header-lean-main-menu{overflow-x:hidden;display:flex;flex-grow:1}.sbb-header-lean-main-menu>:is(a,button){margin-right:calc(1rem*var(--sbb-scaling-factor))}.sbb-header-fixed-columns .sbb-header-lean-main-menu{margin-left:calc(3.3333333333rem*var(--sbb-scaling-factor))}.sbb-header-fixed-columns .sbb-header-lean-main-menu>:is(a,button){flex:0 0 20%;margin-right:unset}.sbb-header-icon-actions{display:flex;gap:calc(1rem*var(--sbb-scaling-factor))}.sbb-header-environment{z-index:1;pointer-events:none;width:calc(5.3333333333rem*var(--sbb-scaling-factor));position:absolute;top:calc(0.8rem*var(--sbb-scaling-factor));left:calc(-1.3333333333rem*var(--sbb-scaling-factor));text-align:center;line-height:calc(0.8rem*var(--sbb-scaling-factor));letter-spacing:0;font-size:calc(0.6666666667rem*var(--sbb-scaling-factor));color:var(--sbb-color-background);transform:rotate(-45deg)}.sbb-header-environment-local{background-color:var(--sbb-color-autumn)}.sbb-header-environment-dev{background-color:var(--sbb-color-peach)}.sbb-header-environment-test{background-color:var(--sbb-color-night)}.sbb-header-environment-edu{background-color:var(--sbb-color-green)}.sbb-header-environment-int,.sbb-header-environment-inte{background-color:var(--sbb-color-granite)}:is(.sbb-header-lean-open-menu,.sbb-header-lean-close-menu){flex-grow:0;flex-shrink:0;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);margin-left:calc(1rem*var(--sbb-scaling-factor));cursor:pointer;position:relative;outline:none}:is(.sbb-header-lean-open-menu,.sbb-header-lean-close-menu):is(:focus,:hover){color:var(--sbb-color-red125)}.sbb-header-lean-open-menu{visibility:hidden}.sbb-header-lean:is(.sbb-header-lean-menus-collapsed,.sbb-header-lean-app-chooser-available) .sbb-header-lean-open-menu{visibility:visible}.sbb-header-lean-titlebox{display:flex;flex-grow:0;flex-direction:column;width:auto;margin-left:calc(1rem*var(--sbb-scaling-factor));margin-right:calc(2.5333333333rem*var(--sbb-scaling-factor));font-family:var(--sbb-font-light)}.sbb-header-fixed-columns .sbb-header-lean-titlebox{width:calc(13.3333333333rem*var(--sbb-scaling-factor));margin-right:unset}.sbb-header-lean-label,.sbb-header-lean-subtitle{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sbb-header-lean-label{font-size:var(--sbb-font-size);line-height:var(--sbb-line-height);color:var(--sbb-color-text);font-family:var(--sbb-font-roman)}.sbb-header-lean-subtitle{font-size:var(--sbb-font-size-small);font-weight:300;line-height:calc(1.0666666667rem*var(--sbb-scaling-factor));color:var(--sbb-header-lean-subtitle-color)}:is(.sbb-header-lean-main-menu,.sbb-header-lean-side-menu)>a{text-decoration:none}:is(.sbb-header-lean-main-menu,.sbb-header-lean-side-menu)>button:where(:not(.sbb-menu-panel-trigger)){background:none;max-width:none;min-width:0;padding:0;margin:0;border:none}:is(.sbb-header-lean-main-menu,.sbb-header-lean-side-menu)>:is(a,button){font-size:var(--sbb-font-size);line-height:var(--sbb-line-height);border:var(--sbb-border-width-thin) solid rgba(0,0,0,0);padding:calc(0.4rem*var(--sbb-scaling-factor)) calc(0.5333333333rem*var(--sbb-scaling-factor));outline:none;color:var(--sbb-color-text);font-family:var(--sbb-font-roman);text-align:left;cursor:pointer}:is(.sbb-header-lean-main-menu,.sbb-header-lean-side-menu)>:is(a,button):is(:hover,:active,:focus,.sbb-active){color:var(--sbb-color-call-to-action-hover)}:is(.sbb-menu-trigger.sbb-menu-trigger-header,.sbb-menu-panel-type-header .sbb-menu-panel-trigger){position:relative;padding-right:calc(1.6rem*var(--sbb-scaling-factor));font-size:var(--sbb-font-size);line-height:var(--sbb-line-height)}:is(.sbb-menu-trigger.sbb-menu-trigger-header,.sbb-menu-panel-type-header .sbb-menu-panel-trigger)::after{content:var(--sbb-url-icon-chevron-small-down-small-black);display:inline-block;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);position:absolute;right:0;vertical-align:middle;transition:transform var(--sbb-transition-default);transform:rotate(0deg)}:is(.sbb-menu-trigger.sbb-menu-trigger-header,.sbb-menu-panel-type-header .sbb-menu-panel-trigger):is(:focus,:hover)::after{content:var(--sbb-url-icon-chevron-small-down-small-red125)}.sbb-menu-panel-type-header:is(:not(.ng-animating)) .sbb-menu-panel-trigger::after{transform:rotate(180deg)}.sbb-header-lean-side-menu .sbb-menu-trigger.sbb-menu-trigger-header::after,.sbb-header-lean-side-menu .sbb-menu-trigger.sbb-menu-trigger-header:is(:focus,:hover)::after{transform:rotate(-90deg)}.sbb-menu-panel-type-header .sbb-menu-panel-trigger{width:100%;text-align:left;padding-left:calc(0.5333333333rem*var(--sbb-scaling-factor));padding-right:calc(0.5333333333rem*var(--sbb-scaling-factor))}.sbb-header-lean-container-end{flex-grow:0;display:flex;align-items:center;justify-content:flex-end;margin-right:calc(2.3333333333rem*var(--sbb-scaling-factor))}.sbb-header-lean-container-end>.sbb-header-lean-usermenu{z-index:1;margin-left:calc(1rem*var(--sbb-scaling-factor));margin-right:calc(1rem*var(--sbb-scaling-factor))}.sbb-header-lean-logo{display:flex;height:var(--sbb-header-lean-height)}.sbb-header-lean-logo>svg{width:calc(5.3333333333rem*var(--sbb-scaling-factor))}:where(.sbb-off-brand-colors) .sbb-header-lean-logo>svg.sbb-header-lean-sbb-logo path:first-child{fill:var(--sbb-color-black)}.sbb-header-lean-side-menu-backdrop{display:none}.sbb-header-lean.sbb-header-lean-opened .sbb-header-lean-side-menu-backdrop{display:block;top:0;left:0;right:0;bottom:0;position:fixed}.sbb-header-lean-side-menu-container{display:flex;flex-direction:column;position:fixed;width:var(--sbb-header-lean-menu-width);height:100vh;top:0;background-color:var(--sbb-header-lean-background-color);border-right:var(--sbb-border-width-thin) solid var(--sbb-color-granite);box-shadow:var(--sbb-box-shadow-width) 0 0 0 var(--sbb-box-shadow-color);z-index:var(--sbb-header-lean-side-menu-z-index);overflow-y:auto}.sbb-header-lean-side-menu-title-section{display:flex;align-items:center;height:var(--sbb-header-lean-height);margin-bottom:calc(0.8rem*var(--sbb-scaling-factor));flex:0 0 auto}.sbb-header-lean-side-menu{flex-direction:column;margin:0 calc(1rem*var(--sbb-scaling-factor))}.sbb-header-lean-side-menu>:is(a,button){display:block;width:100%;padding-left:0;padding-right:0}"],encapsulation:2,data:{animation:[Xk.menu]},changeDetection:0})}return t})();var w0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["sbb-header-icon-actions"]],hostAttrs:[1,"sbb-header-icon-actions"],exportAs:["sbbHeaderIconActions"]})}return t})(),tT=(()=>{class t{_elementRef=u(he);_focusMonitor=u(Jn);role="menuitem";disabled=!1;_document=u(le);_highlighted=!1;_triggersSubmenu=!1;click=new Q;constructor(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}focus(e="program",i){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef)}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}getLabel(){let e=this._elementRef.nativeElement,i=this._document?this._document.TEXT_NODE:3,r="";if(e.childNodes){let o=e.childNodes.length;for(let s=0;s<o;s++)e.childNodes[s].nodeType===i&&(r+=e.childNodes[s].textContent)}return r.trim()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","sbbHeaderMenuItem",""]],hostAttrs:[1,"sbb-header-menu-item","sbb-menu-item"],hostVars:1,hostBindings:function(i,r){i&1&&se("click",function(s){return r._checkDisabled(s)}),i&2&&ue("role",r.role)},inputs:{role:"role",disabled:[2,"disabled","disabled",Ce]},outputs:{click:"click"}})}return t})(),nT=(()=>{class t{_elementRef=u(he);_header=u(qd);_backButton=$localize`:Go back to the app chooser navigation@@sbbHeaderMenuBack:Back`;id=u(gt).getId("sbb-header-menu-");closed=new Q;_items;_panelPortal;_panelPortalOutlet;get open(){return this._open&&!!this.showPanel}set open(e){e!==this._open&&(this._open=e,e?this._header._menusCollapsed?this._animationState="open-menu":this._animationState="open-panel":this._animationState="closed")}_open=!1;set panelClass(e){let i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}_previousPanelClass;showPanel=!1;_keyManager;_classList={};_panel=null;_animationState="closed";_destroyed=new te;constructor(){this.closed.pipe(Be(this._destroyed)).subscribe(()=>{this._animationState!=="closed"&&(this._animationState="closed")})}ngAfterContentInit(){this._items.changes.pipe(Pt(this._items.toArray()),J(e=>!!e.length),Be(this._destroyed)).subscribe(e=>this.showPanel=e),this._keyManager=new ua(this._items).withWrap().withTypeAhead(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab"))}ngOnDestroy(){this._keyManager?.destroy(),this.closed.complete(),this._destroyed.next(),this._destroyed.complete()}focusFirstItem(e="program"){let i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._items.length){let r=this._items.first._getHostElement().parentElement;for(;r;)if(r.getAttribute("role")==="menu"){r.focus();break}else r=r.parentElement}}resetActiveItem(){this._keyManager.setActiveItem(-1)}_onAnimationDone(e){e.toState==="closed"&&e.fromState!=="void"&&this.closed.emit()}_handleMenuKeydown(e){e.keyCode===27&&(this.open=!1)}_handlePanelKeydown(e){let i=e.keyCode,r=this._keyManager;switch(i){case 27:Jt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 36:case 35:Jt(e)||(i===36?r.setFirstItemActive():r.setLastItemActive(),e.preventDefault());break;default:i===38||i===40?r.setFocusOrigin("keyboard"):this._header._menusCollapsed||r.onKeydown(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-header-menu"]],contentQueries:function(i,r,o){if(i&1&&zt(o,tT,4),i&2){let s;Ae(s=ke())&&(r._items=s)}},viewQuery:function(i,r){if(i&1&&(Ye(va,5),Ye(jr,7)),i&2){let o;Ae(o=ke())&&(r._panelPortal=o.first),Ae(o=ke())&&(r._panelPortalOutlet=o.first)}},hostAttrs:[1,"sbb-header-menu"],hostVars:4,hostBindings:function(i,r){i&1&&(Xl("@open.done",function(s){return r._onAnimationDone(s)}),se("keydown",function(s){return r._handleMenuKeydown(s)})),i&2&&(_n("id",r.id),Kl("@open",r._animationState),ye("sbb-header-menus-collapsed",r._header._menusCollapsed))},inputs:{panelClass:[0,"class","panelClass"]},outputs:{closed:"closed"},exportAs:["sbbHeaderMenu"],ngContentSelectors:Yk,decls:8,vars:1,consts:[["type","button",1,"sbb-header-menu-back",3,"click"],["svgIcon","chevron-small-left-small"],[1,"sbb-header-menu-title"],[1,"sbb-header-menu-panel-container"],["cdkPortal","","cdkPortalOutlet",""],["role","listbox","tabindex","-1","role","menu",1,"sbb-header-menu-panel","sbb-panel","sbb-panel-padded","sbb-scrollbar",3,"keydown","click","id","ngClass"]],template:function(i,r){i&1&&(et(Gk),v(0,"button",0),se("click",function(){return r.open=!1}),$(1,"sbb-icon",1),v(2,"span"),j(3),y()(),v(4,"div",2),Fe(5),y(),v(6,"div",3),H(7,qk,2,2,"ng-template",4),y()),i&2&&(f(3),Se(r._backButton))},dependencies:[$e,at,va,jr,ki],styles:[".sbb-header-menu{display:none;position:fixed;top:0;right:0;height:100vh;width:100vw;background-color:var(--sbb-color-milk);z-index:var(--sbb-header-lean-menu-mobile-z-index)}@media all and (min-width: 40.1875em){.sbb-header-menu{width:calc(100vw - var(--sbb-header-lean-menu-width));z-index:var(--sbb-header-lean-menu-tablet-z-index)}}.sbb-header-menu.sbb-header-menus-collapsed{display:block}button.sbb-header-menu-back,.sbb-header-menu>div.sbb-header-menu-title{background:none;max-width:none;min-width:0;padding:0;margin:0;border:none;height:var(--sbb-header-lean-height);width:100%;font-size:var(--sbb-font-size);line-height:var(--sbb-line-height);color:var(--sbb-color-text);background-color:var(--sbb-color-white);border-bottom:var(--sbb-border-width-thin) solid var(--sbb-color-silver)}button.sbb-header-menu-back{display:flex;padding-top:calc(1rem*var(--sbb-scaling-factor));padding-left:calc(0.5333333333rem*var(--sbb-scaling-factor));cursor:pointer}@media all and (min-width: 40.1875em){button.sbb-header-menu-back{display:none}}button.sbb-header-menu-back:is(:hover,:active,:focus){color:var(--sbb-color-call-to-action-hover)}.sbb-header-menu>div.sbb-header-menu-title{font-size:var(--sbb-font-size-large);line-height:var(--sbb-header-lean-label-line-height);padding-top:calc(1rem*var(--sbb-scaling-factor));padding-left:calc(1rem*var(--sbb-scaling-factor))}.sbb-header-menu>div.sbb-header-menu-panel-container{height:calc(100% - var(--sbb-header-lean-height)*2)}@media all and (min-width: 40.1875em){.sbb-header-menu>div.sbb-header-menu-panel-container{height:calc(100% - var(--sbb-header-lean-height))}}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel{display:flex;flex-direction:column;overflow-y:auto;padding:0;margin-top:calc(2.1333333333rem*var(--sbb-scaling-factor));box-shadow:none;border:0}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel>hr{display:none}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel>:is(a,button){padding:calc(0.4666666667rem*var(--sbb-scaling-factor)) calc(3.2rem*var(--sbb-scaling-factor)) calc(0.7333333333rem*var(--sbb-scaling-factor)) calc(1.0666666667rem*var(--sbb-scaling-factor));color:var(--sbb-color-weak-accent);line-height:var(--sbb-line-height-medium);font-size:var(--sbb-font-size);text-decoration:none;outline:0;position:relative}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel>:is(a,button)::after{content:var(--sbb-url-icon-arrow-right-small-black);display:inline-block;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);position:absolute;right:calc(1.0666666667rem*var(--sbb-scaling-factor));vertical-align:middle}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel>:is(a,button):hover::after{content:var(--sbb-url-icon-arrow-right-small-red125)}.sbb-header-menu>div.sbb-header-menu-panel-container .sbb-header-menu-panel>:is(a,button):is(:hover,:active,:focus,.sbb-active){color:var(--sbb-color-call-to-action-hover)}.cdk-overlay-container .sbb-header-menu-panel .sbb-header-menu-item{font-size:var(--sbb-font-size);line-height:var(--sbb-line-height-medium)}"],encapsulation:2,data:{animation:[Qi("open",[vn("closed",on({transform:"translateX(-100vw)"})),vn("open-menu",on({transform:"translateX(0)"})),li("closed <=> open-menu",ai("0.3s cubic-bezier(0.785, 0.135, 0.15, 0.86)"))])]},changeDetection:0})}return t})(),D0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[Qk],imports:[Xc,yi,Li,Et,$e,jf,C0,nT]})}return t})();var x0=["sbb-button",""],A0=["*"];function rT(t,n){if(t&1&&$(0,"sbb-icon",0),t&2){let e=x();C("svgIcon",e.svgIcon)}}function oT(t,n){if(t&1&&$(0,"sbb-icon",1),t&2){let e=x();C("svgIcon",e.svgIcon)}}function sT(t,n){if(t&1&&$(0,"sbb-icon",0),t&2){let e=x();C("svgIcon",e.svgIcon)}}function aT(t,n){if(t&1&&$(0,"sbb-icon",1),t&2){let e=x();C("svgIcon",e.svgIcon)}}var lT=["sbb-button","sbb-alt-button","sbb-secondary-button","sbb-ghost-button","sbb-frameless-button","sbb-link"],cT=["sbb-button","sbb-secondary-button","sbb-frameless-button","sbb-link"],dT=["sbb-button","sbb-alt-button","sbb-secondary-button","sbb-ghost-button"],E0={"sbb-button":"arrow-right-small","sbb-secondary-button":"arrow-right-small","sbb-frameless-button":"plus-small","sbb-link":"arrow-right-small"},uT=Oo(class{_elementRef;constructor(t){this._elementRef=t}}),Yo=(()=>{class t extends uT{_focusMonitor=u(Jn);_animationMode=u(Zi,{optional:!0});_contentObserver=u(Kc);_hasIconIndicator=this._hasHostAttributes(...cT);_leftIconVisible;_rightIconVisible;_hasIconButtonClass=!1;_isIconButton;svgIcon;disabled=!1;_iconRefs=new Is;constructor(){let e=u(he);super(e);for(let i of lT)this._hasHostAttributes(i)&&(this._getHostElement().classList.add(i),i in E0&&(this.svgIcon=E0[i]));e.nativeElement.classList.add("sbb-button-base")}ngAfterContentInit(){this._isIconButton=this._contentObserver.observe(this._elementRef).pipe(Pt([]),J(()=>this._hasHostAttributes(...dT)&&this._elementRef.nativeElement.textContent.trim()===""&&this._iconRefs.length===1)),this._isIconButton.subscribe(e=>this._hasIconButtonClass=e),this._leftIconVisible=hn([this.variant,this._isIconButton]).pipe(J(([e,i])=>!i&&e==="standard"&&this._hasIconIndicator)),this._rightIconVisible=hn([this.variant,this._isIconButton]).pipe(J(([e,i])=>!i&&(e==="standard"&&this._hasIconIndicator||e==="lean"&&this._hasHostAttributes("sbb-link"))))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["button","sbb-button",""],["button","sbb-alt-button",""],["button","sbb-secondary-button",""],["button","sbb-ghost-button",""],["button","sbb-frameless-button",""],["button","sbb-link",""]],contentQueries:function(i,r,o){if(i&1&&zt(o,at,4,he),i&2){let s;Ae(s=ke())&&(r._iconRefs=s)}},hostVars:7,hostBindings:function(i,r){i&2&&(ue("disabled",r.disabled||null),ye("_sbb-animation-noopable",r._animationMode==="NoopAnimations")("sbb-disabled",r.disabled)("sbb-icon-button",r._hasIconButtonClass))},inputs:{disabled:[2,"disabled","disabled",Ce],svgIcon:"svgIcon"},exportAs:["sbbButton"],features:[kt],attrs:x0,ngContentSelectors:A0,decls:5,vars:6,consts:[[1,"sbb-button-indicator-icon","sbb-button-left-icon",3,"svgIcon"],[1,"sbb-button-indicator-icon","sbb-button-right-icon",3,"svgIcon"]],template:function(i,r){i&1&&(et(),H(0,rT,1,1,"sbb-icon",0),wt(1,"async"),Fe(2),H(3,oT,1,1,"sbb-icon",1),wt(4,"async")),i&2&&(Ve(jt(1,2,r._leftIconVisible)&&r.svgIcon?0:-1),f(3),Ve(jt(4,4,r._rightIconVisible)&&r.svgIcon?3:-1))},dependencies:[$e,at,Zt],encapsulation:2,changeDetection:0})}return t})(),hT=(()=>{class t extends Yo{_ngZone=u(me);_renderer=u(Lt);_cleanupClick;tabIndex;ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())};static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275cmp=ce({type:t,selectors:[["a","sbb-button",""],["a","sbb-alt-button",""],["a","sbb-secondary-button",""],["a","sbb-ghost-button",""],["a","sbb-frameless-button",""],["a","sbb-link",""]],hostVars:7,hostBindings:function(i,r){i&2&&(ue("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),ye("_sbb-animation-noopable",r._animationMode==="NoopAnimations")("sbb-disabled",r.disabled))},inputs:{disabled:"disabled",tabIndex:"tabIndex"},exportAs:["sbbButton","sbbAnchor"],features:[kt],attrs:x0,ngContentSelectors:A0,decls:5,vars:6,consts:[[1,"sbb-button-indicator-icon","sbb-button-left-icon",3,"svgIcon"],[1,"sbb-button-indicator-icon","sbb-button-right-icon",3,"svgIcon"]],template:function(i,r){i&1&&(et(),H(0,sT,1,1,"sbb-icon",0),wt(1,"async"),Fe(2),H(3,aT,1,1,"sbb-icon",1),wt(4,"async")),i&2&&(Ve(jt(1,2,r._leftIconVisible)&&r.svgIcon?0:-1),f(3),Ve(jt(4,4,r._rightIconVisible)&&r.svgIcon?3:-1))},dependencies:[$e,at,Zt],encapsulation:2,changeDetection:0})}return t})(),Kd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Et,$e,Yo,hT]})}return t})();var pT=["tooltip"];function fT(t,n){t&1&&cb(0)}function gT(t,n){t&1&&H(0,fT,1,0,"ng-container",5),t&2&&C("ngTemplateOutlet",n)}function mT(t,n){if(t&1&&j(0),t&2){let e=x();Bt(" ",e.message," ")}}function bT(t,n){if(t&1){let e=pt();v(0,"button",6),se("click",function(){Le(e);let r=x();return Ne(r.hide(0))}),$(1,"sbb-icon",7),y()}}var _T=["*"];function vT(t,n){t&1&&Fe(0)}var yT=20,ur="tooltip-panel",Kr={passive:!0},ST=500;var T0=new Y("sbb-tooltip-scroll-strategy");function CT(t){return()=>t.scrollStrategies.reposition({scrollThrottle:yT})}var wT={provide:T0,deps:[Gt],useFactory:CT},DT=new Y("sbb-tooltip-default-options",{providedIn:"root",factory:ET});function ET(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500,autoFocus:!0,restoreFocus:!0}}var Xd=class{instance;constructor(n){this.instance=n}},hr=(()=>{class t{_overlay=u(Gt);_elementRef=u(he);_scrollDispatcher=u(ja);_viewContainerRef=u(Nt);_ngZone=u(me);_platform=u(ut);_ariaDescriber=u($v);_focusMonitor=u(Jn);_defaultOptions=u(DT,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_disabled=!1;_tooltipClass;_scrollStrategy=u(T0);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=R0;_viewportMargin=8;_currentPosition;_cssClassPrefix="sbb";_ariaDescriptionPending;_injector=u(dt);_renderer=u(Lt);get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}trigger="hover";get disabled(){return this._disabled}set disabled(e){let i=ei(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),typeof this.message=="string"&&this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=rr(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=rr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this.message;this._message=e instanceof bn?e:e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),typeof i=="string"&&this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}tooltipPanelClass="";_document=u(le);_eventCleanups=[];_touchstartTimeout=null;_destroyed=new te;_isDestroyed=!1;_tooltipPositions={above:[{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-2},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetX:5,offsetY:-2,panelClass:`${this._cssClassPrefix}-${ur}-start`},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetX:-5,offsetY:-2,panelClass:`${this._cssClassPrefix}-${ur}-end`}],below:[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:2},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:5,offsetY:2,panelClass:`${this._cssClassPrefix}-${ur}-start`},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetX:-5,offsetY:2,panelClass:`${this._cssClassPrefix}-${ur}-end`}],left:[{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:2,panelClass:`${this._cssClassPrefix}-${ur}-left`}],right:[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:-2,panelClass:`${this._cssClassPrefix}-${ur}-right`}]};opened=new Q;dismissed=new Q;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e?.position&&(this.position=e.position),e?.touchGestures&&(this.touchGestures=e.touchGestures))}_preventClickBubbling(e){!this.disabled&&this.trigger==="click"&&e.stopPropagation()}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Me(()=>this.trigger==="hover"),Be(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(i=>i()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,typeof this._message=="string"&&this._ariaDescriber.removeDescription(e,this._message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay();this._detach(),this._portal=this._portal||new Pi(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance._triggerElement=this._elementRef.nativeElement,this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay,this.message instanceof bn&&this._ariaDescriber.describe(this._elementRef.nativeElement,this._tooltipInstance._elementRef.nativeElement),this._tooltipInstance.afterShown().pipe(Be(this._destroyed)).subscribe(()=>this.opened.emit(new Xd(this))),this._tooltipInstance.afterHidden().pipe(Be(this._destroyed)).subscribe(()=>{this.dismissed.emit(new Xd(this)),this._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this.trigger==="click"?(this._tooltipInstance._config={autoFocus:this._defaultOptions.autoFocus??!0,restoreFocus:this._defaultOptions.restoreFocus??!0},this._tooltipInstance._initializeWithAttachedContent(),this._tooltipInstance._triggeredByClick=!0):(this._tooltipInstance._config=void 0,this._tooltipInstance._triggeredByClick=!1),this._tooltipInstance.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;let e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Be(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOriginOutsideView&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({positionStrategy:i,panelClass:Wv(this.tooltipPanelClass).concat(`${this._cssClassPrefix}-${ur}`),scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Be(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.keydownEvents().pipe(Be(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!Jt(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._overlayRef.outsidePointerEvents().pipe(Be(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&(this.message instanceof bn&&this._tooltipInstance&&this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._tooltipInstance._elementRef.nativeElement),this._overlayRef.detach()),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOverlayPositions();i.withPositions([...r])}_getOverlayPositions(){let e=this.position,i=[];return e==="above"?i=[...this._tooltipPositions.above,...this._tooltipPositions.below]:e==="below"?i=[...this._tooltipPositions.below,...this._tooltipPositions.above]:e==="left"?i=[...this._tooltipPositions.left,...this._tooltipPositions.right]:e==="right"&&(i=[...this._tooltipPositions.right,...this._tooltipPositions.left]),i}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),gn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,s;if(i==="center"?s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${ur}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){if(this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length)return;let e=this._elementRef.nativeElement;this.trigger==="click"?this._eventCleanups.push(yt(this._renderer,e,"click",()=>this.show(0),Kr)):this._platformSupportsMouseEvents()?this._eventCleanups.push(yt(this._renderer,e,"mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()},Kr)):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._eventCleanups.push(yt(this._renderer,e,"touchstart",()=>{this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show()},ST)},Kr)))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=this._elementRef.nativeElement;if(this._platformSupportsMouseEvents())this._eventCleanups.push(yt(this._renderer,e,"mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()},Kr),yt(this._renderer,e,"wheel",i=>this._wheelListener(i),Kr));else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._eventCleanups.push(yt(this._renderer,e,"touchend",i,Kr),yt(this._renderer,e,"touchcancel",i,Kr))}}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||gn({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["","sbbTooltip",""]],hostVars:3,hostBindings:function(i,r){i&1&&se("click",function(s){return r._preventClickBubbling(s)}),i&2&&(ue("aria-expanded",r.trigger==="click"?r._isTooltipVisible():null),ye("sbb-tooltip-trigger",r.trigger==="click"))},inputs:{position:[0,"sbbTooltipPosition","position"],trigger:[0,"sbbTooltipTrigger","trigger"],disabled:[0,"sbbTooltipDisabled","disabled"],showDelay:[0,"sbbTooltipShowDelay","showDelay"],hideDelay:[0,"sbbTooltipHideDelay","hideDelay"],touchGestures:[0,"sbbTooltipTouchGestures","touchGestures"],message:[0,"sbbTooltip","message"],tooltipClass:[0,"sbbTooltipClass","tooltipClass"],tooltipPanelClass:[0,"sbbTooltipPanelClass","tooltipPanelClass"]},outputs:{opened:"opened",dismissed:"dismissed"},exportAs:["sbbTooltip"]})}return t})(),R0=(()=>{class t{_elementRef=u(he);_focusTrapFactory=u(nd);_changeDetectorRef=u(qe);_focusMonitor=u(Jn);_breakpointObserver=u(Mr);_isHandset;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_tooltip;get _templateRef(){return this.message instanceof bn?this.message:null}_closeInteractionType=null;_config={};_document=u(le);_animationsDisabled;_closeOnInteraction=!1;_focusTrap;_elementFocusedBeforeDialogWasOpened=null;_isVisible=!1;_onShow=new te;_onHide=new te;_triggeredByClick=!1;_showAnimation="sbb-tooltip-container-show";_hideAnimation="sbb-tooltip-container-hide";constructor(){let e=u(Zi,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._isHandset=this._breakpointObserver.observe(Ue.MobileDevice)}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._showTimeoutId=void 0,this._toggleVisibility(!0)},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0,this._markForCheck()},e)}afterShown(){return this._onShow}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onShow.complete(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){!this._triggeredByClick&&(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next(),e&&this.isVisible()&&this._config&&this._trapFocus(),!e&&!this.isVisible()&&this._restoreFocus()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow.next(),this._animationsDisabled&&(i.classList.add("_sbb-animation-noopable"),this._finalizeAnimation(e))}_trapFocus(){this._config?.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){let e=this._elementFocusedBeforeDialogWasOpened;if(this._config?.restoreFocus&&e&&typeof e.focus=="function"){let i=Mi(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null)}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Mi())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,i=Mi();return e===i||e.contains(i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Ye(pT,7),i&2){let o;Ae(o=ke())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true",1,"sbb-tooltip-component"],hostBindings:function(i,r){i&1&&se("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:8,vars:9,consts:[["tooltip",""],[1,"sbb-tooltip-container",3,"animationend"],[1,"sbb-tooltip",3,"ngClass"],[1,"sbb-tooltip-content"],["type","button",1,"sbb-tooltip-icon","sbb-tooltip-close-button","sbb-icon-fit","sbb-button-reset-frameless"],[4,"ngTemplateOutlet"],["type","button",1,"sbb-tooltip-icon","sbb-tooltip-close-button","sbb-icon-fit","sbb-button-reset-frameless",3,"click"],["svgIcon","cross-small"]],template:function(i,r){if(i&1){let o=pt();v(0,"div",1,0),wt(2,"async"),se("animationend",function(a){return Le(o),Ne(r._handleAnimationEnd(a))}),v(3,"div",2)(4,"div",3),H(5,gT,1,1,"ng-container")(6,mT,1,1),y(),H(7,bT,2,0,"button",4),y()()}if(i&2){let o,s;ye("sbb-tooltip-handset",(o=jt(2,7,r._isHandset))==null?null:o.matches),f(3),ye("sbb-tooltip-has-close-button",r._triggeredByClick),C("ngClass",r.tooltipClass),f(2),Ve((s=r._templateRef)?5:6,s),f(2),Ve(r._triggeredByClick?7:-1)}},dependencies:[ki,Ih,at,Zt],styles:['.sbb-tooltip-component{display:block;filter:drop-shadow(0 var(--sbb-box-shadow-width) 0 var(--sbb-box-shadow-color))}.sbb-tooltip-container{height:100%;font-size:var(--sbb-font-size);line-height:var(--sbb-line-height);opacity:0}.sbb-tooltip-container._sbb-animation-noopable{animation:none;opacity:1}.sbb-tooltip-container::after,.sbb-tooltip-container::before{top:calc(.5*var(--sbb-border-width));left:0;right:0;margin-left:auto;margin-right:auto;content:"";height:var(--sbb-tooltip-content-arrow-size);width:var(--sbb-tooltip-content-arrow-size);position:absolute;pointer-events:none;transform:rotate(45deg);border:var(--sbb-border-width) solid rgba(0,0,0,0)}.sbb-tooltip-panel-above .sbb-tooltip-container::after,.sbb-tooltip-panel-above .sbb-tooltip-container::before{top:auto;bottom:calc(.5*var(--sbb-tooltip-shadow-arrow-size));transform:rotate(225deg)}.sbb-tooltip-panel-start .sbb-tooltip-container::after,.sbb-tooltip-panel-start .sbb-tooltip-container::before{margin-right:var(--sbb-tooltip-arrow-horizontal-space)}.sbb-tooltip-panel-end .sbb-tooltip-container::after,.sbb-tooltip-panel-end .sbb-tooltip-container::before{margin-left:var(--sbb-tooltip-arrow-horizontal-space)}:is(.sbb-tooltip-panel-left,.sbb-tooltip-panel-right) .sbb-tooltip-container::after,:is(.sbb-tooltip-panel-left,.sbb-tooltip-panel-right) .sbb-tooltip-container::before{top:0;bottom:0;margin-top:auto;margin-bottom:auto}.sbb-tooltip-panel-left .sbb-tooltip-container::after,.sbb-tooltip-panel-left .sbb-tooltip-container::before{left:auto;right:calc(.5*var(--sbb-tooltip-shadow-arrow-size));transform:rotate(135deg)}.sbb-tooltip-panel-right .sbb-tooltip-container::after,.sbb-tooltip-panel-right .sbb-tooltip-container::before{left:calc(.5*var(--sbb-tooltip-shadow-arrow-size));right:auto;transform:rotate(315deg)}.sbb-tooltip-container::before{border-color:var(--sbb-tooltip-border-color);z-index:1}.sbb-tooltip-container::after{background-color:var(--sbb-tooltip-background-color);background-clip:padding-box;z-index:2;--sbb-tooltip-arrow-padding-offset: 0rem;clip-path:polygon(0 0, calc(var(--sbb-tooltip-content-arrow-size) - var(--sbb-tooltip-arrow-padding-offset)) 0, 0 calc(var(--sbb-tooltip-content-arrow-size) - var(--sbb-tooltip-arrow-padding-offset)))}html.sbb-lean .sbb-tooltip-container::after{--sbb-tooltip-arrow-padding-offset: 0.0666666667rem}.sbb-tooltip-panel-above .sbb-tooltip-container{margin-bottom:calc(0.8rem*var(--sbb-scaling-factor))}.sbb-tooltip-panel-left .sbb-tooltip-container{margin-right:calc(0.8rem*var(--sbb-scaling-factor))}.sbb-tooltip-panel-right .sbb-tooltip-container{margin-left:calc(0.8rem*var(--sbb-scaling-factor))}@keyframes sbb-tooltip-container-show{0%{opacity:0}100%{opacity:1}}@keyframes sbb-tooltip-container-hide{0%{opacity:1}100%{opacity:0}}.sbb-tooltip-container-show{animation:sbb-tooltip-container-show var(--sbb-transition-duration-fast) cubic-bezier(0, 0, 0.2, 1) forwards}.sbb-tooltip-container-hide{animation:sbb-tooltip-container-hide 75ms cubic-bezier(0, 0, 0.2, 1) forwards}.sbb-tooltip{max-width:calc(30.6666666667rem*var(--sbb-scaling-factor));padding:var(--sbb-tooltip-padding);position:relative;overflow:hidden;color:var(--sbb-tooltip-color);text-overflow:ellipsis;background-color:var(--sbb-tooltip-background-color);border:var(--sbb-border-width) solid var(--sbb-tooltip-border-color);border-radius:var(--sbb-border-radius);z-index:2}@media(forced-colors: active){.sbb-tooltip{outline:solid 1px}}.sbb-tooltip-panel-below .sbb-tooltip{margin-top:var(--sbb-tooltip-arrow-offset)}.sbb-tooltip-zero-padding{--sbb-tooltip-padding: 0}.sbb-tooltip-has-close-button{padding-right:calc(4.7333333333rem*var(--sbb-scaling-factor))}:where(html.sbb-lean) .sbb-tooltip-has-close-button{padding-right:3.2rem}.sbb-tooltip-zero-padding .sbb-tooltip-has-close-button{padding-right:0}.sbb-tooltip-close-button{color:var(--sbb-tooltip-close-button-color);position:absolute;width:var(--sbb-icon-size-default);height:var(--sbb-icon-size-default);top:var(--sbb-tooltip-padding);right:var(--sbb-tooltip-padding);line-height:0}:where(html:not(.sbb-lean)) .sbb-tooltip-close-button{border:var(--sbb-border-width-thin) solid var(--sbb-color-storm);border-radius:50%}.sbb-tooltip-panel-non-interactive{pointer-events:none}'],encapsulation:2,changeDetection:0})}return t})(),xT=Oo(class{}),AT=(()=>{class t extends xT{id=u(gt).getId("sbb-tooltip-id-");trigger="click";hoverShowDelay;hoverHideDelay;position="below";_destroyed=new te;svgIcon;disabled=!1;_svgIconSubject=new Pe(null);_svgIcon=hn([this.variant,this._svgIconSubject]).pipe(J(([e,i])=>i||(e==="standard"?"circle-question-mark-small":"circle-information-small")));sbbTooltipClass;sbbTooltipPanelClass;_tooltip;opened=new Q;dismissed=new Q;ngOnInit(){this._tooltip.opened.pipe(Be(this._destroyed)).subscribe(e=>this.opened.emit(e)),this._tooltip.dismissed.pipe(Be(this._destroyed)).subscribe(e=>this.dismissed.emit(e))}ngOnChanges(e){e.svgIcon&&e.svgIcon.currentValue!==e.svgIcon.previousValue&&this._svgIconSubject.next(this.svgIcon)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}show(){this._tooltip.show(0)}hide(){this._tooltip.hide(0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275cmp=ce({type:t,selectors:[["sbb-tooltip"]],viewQuery:function(i,r){if(i&1&&Ye(hr,7),i&2){let o;Ae(o=ke())&&(r._tooltip=o.first)}},hostAttrs:[1,"sbb-tooltip-wrapper"],hostVars:2,hostBindings:function(i,r){i&2&&ue("id",r.id)("aria-expanded",r._tooltip._isTooltipVisible())},inputs:{id:"id",trigger:"trigger",hoverShowDelay:[2,"hoverShowDelay","hoverShowDelay",Ei],hoverHideDelay:[2,"hoverHideDelay","hoverHideDelay",Ei],position:"position",svgIcon:"svgIcon",disabled:[2,"disabled","disabled",Ce],sbbTooltipClass:"sbbTooltipClass",sbbTooltipPanelClass:"sbbTooltipPanelClass"},outputs:{opened:"opened",dismissed:"dismissed"},features:[kt,Qe],ngContentSelectors:_T,decls:6,vars:16,consts:[["tooltip","sbbTooltip"],["tooltipTemplate",""],["type","button",1,"sbb-tooltip-icon","sbb-tooltip-trigger","sbb-icon-scaled","sbb-button-reset-frameless",3,"click","sbbTooltipDisabled","disabled","sbbTooltipPosition","sbbTooltip","sbbTooltipTrigger","sbbTooltipShowDelay","sbbTooltipHideDelay","sbbTooltipClass","sbbTooltipPanelClass"],[3,"svgIcon"]],template:function(i,r){if(i&1){let o=pt();et(),v(0,"button",2,0),se("click",function(){Le(o);let a=si(1);return Ne(a.show(0))}),$(2,"sbb-icon",3),wt(3,"async"),y(),H(4,vT,1,0,"ng-template",null,1,Hn)}if(i&2){let o=si(1),s=si(5);ye("sbb-tooltip-trigger-active",o._isTooltipVisible())("sbb-disabled",r.disabled),C("sbbTooltipDisabled",r.disabled)("disabled",r.disabled)("sbbTooltipPosition",r.position)("sbbTooltip",s)("sbbTooltipTrigger",r.trigger)("sbbTooltipShowDelay",r.hoverShowDelay)("sbbTooltipHideDelay",r.hoverHideDelay)("sbbTooltipClass",r.sbbTooltipClass)("sbbTooltipPanelClass",r.sbbTooltipPanelClass),f(2),C("svgIcon",jt(3,14,r._svgIcon))}},dependencies:[hr,at,Zt],encapsulation:2,changeDetection:0})}return t})(),qo=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[wT],imports:[ca,yi,Li,Et,$e,R0,AT,Ba]})}return t})();var pu=function(t){return t.ADD_CSS_FILTER="bg-cs-add-css-filter",t.ADD_DYNAMIC_THEME="bg-cs-add-dynamic-theme",t.ADD_STATIC_THEME="bg-cs-add-static-theme",t.ADD_SVG_FILTER="bg-cs-add-svg-filter",t.CLEAN_UP="bg-cs-clean-up",t.FETCH_RESPONSE="bg-cs-fetch-response",t.UNSUPPORTED_SENDER="bg-cs-unsupported-sender",t}(pu||{});var Rg=function(t){return t.COLOR_SCHEME_CHANGE="cs-bg-color-scheme-change",t.DARK_THEME_DETECTED="cs-bg-dark-theme-detected",t.DARK_THEME_NOT_DETECTED="cs-bg-dark-theme-not-detected",t.FETCH="cs-bg-fetch",t.DOCUMENT_CONNECT="cs-bg-document-connect",t.DOCUMENT_FORGET="cs-bg-document-forget",t.DOCUMENT_FREEZE="cs-bg-document-freeze",t.DOCUMENT_RESUME="cs-bg-document-resume",t}(Rg||{});var Ig=typeof navigator<"u",zi=Ig?navigator.userAgentData&&Array.isArray(navigator.userAgentData.brands)?navigator.userAgentData.brands.map(t=>`${t.brand.toLowerCase()} ${t.version}`).join(" "):navigator.userAgent.toLowerCase():"some useragent",lS=Ig?navigator.userAgentData&&typeof navigator.userAgentData.platform=="string"?navigator.userAgentData.platform.toLowerCase():navigator.platform.toLowerCase():"some platform",Og=zi.includes("chrome")||zi.includes("chromium"),dl=zi.includes("firefox")||zi.includes("thunderbird")||zi.includes("librewolf"),fu=zi.includes("safari")&&!Og,kT=lS.startsWith("win"),TT=lS.startsWith("mac");Ig&&navigator.userAgentData?navigator.userAgentData.mobile:zi.includes("mobile");var cS=typeof ShadowRoot=="function",I0=typeof MediaQueryList=="function"&&typeof MediaQueryList.prototype.addEventListener=="function",dS=typeof CSSLayerBlockRule=="function";(()=>{let t=zi.match(/chrom(?:e|ium)(?:\/| )([^ ]+)/);return t&&t[1]?t[1]:""})();(()=>{let t=zi.match(/(?:firefox|librewolf)(?:\/| )([^ ]+)/);return t&&t[1]?t[1]:""})();var RT=(()=>{try{return document.querySelector(":defined"),!0}catch{return!1}})(),uS=(()=>{try{if(typeof document>"u")return!1;let t=document.createElement("div");return!t||typeof t.style!="object"?!1:typeof t.style.colorScheme=="string"?!0:(t.setAttribute("style","color-scheme: dark"),t.style.colorScheme==="dark")}catch{return!1}})();function Mg(t,n,e){return ot(this,null,function*(){let i=e&&t.startsWith(`${e}/`)?void 0:"omit",r=yield fetch(t,{cache:"force-cache",credentials:i,referrer:e});if(dl&&n==="text/css"&&t.startsWith("moz-extension://")&&t.endsWith(".css"))return r;if(n&&!r.headers.get("Content-Type").startsWith(n))throw new Error(`Mime type mismatch when loading ${t}`);if(!r.ok)throw new Error(`Unable to load ${t} ${r.status} ${r.statusText}`);return r})}function IT(t,n){return ot(this,null,function*(){let e=yield Mg(t,n);return yield hS(e)})}function OT(t,n){return ot(this,null,function*(){return yield(yield Mg(t,n)).blob()})}function hS(t){return ot(this,null,function*(){let n=yield t.blob();return yield new Promise(i=>{let r=new FileReader;r.onloadend=()=>i(r.result),r.readAsDataURL(n)})})}function MT(t,n,e){return ot(this,null,function*(){return yield(yield Mg(t,n,e)).text()})}var FT=t=>ot(void 0,null,function*(){return Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",t,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")))}),PT=FT;function LT(t){return ot(this,null,function*(){return yield PT(t)})}window.chrome||(window.chrome={});chrome.runtime||(chrome.runtime={});var rg=new Set;function O0(...t){return ot(this,null,function*(){if(t[0]&&t[0].type===Rg.FETCH){let{id:n}=t[0];try{let{url:e,responseType:i}=t[0].data,r=yield LT(e),o;i==="data-url"?o=yield hS(r):o=yield r.text(),rg.forEach(s=>s({type:pu.FETCH_RESPONSE,data:o,error:null,id:n}))}catch(e){console.error(e),rg.forEach(i=>i({type:pu.FETCH_RESPONSE,data:null,error:e,id:n}))}}})}function M0(t){rg.add(t)}if(typeof chrome.runtime.sendMessage=="function"){let t=chrome.runtime.sendMessage;chrome.runtime.sendMessage=(...n)=>{O0(...n),t.apply(chrome.runtime,n)}}else chrome.runtime.sendMessage=O0;chrome.runtime.onMessage||(chrome.runtime.onMessage={});if(typeof chrome.runtime.onMessage.addListener=="function"){let t=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=(...n)=>{M0(n[0]),t.apply(chrome.runtime.onMessage,n)}}else chrome.runtime.onMessage.addListener=(...t)=>M0(t[0]);var ol=function(t){return t.cssFilter="cssFilter",t.svgFilter="svgFilter",t.staticTheme="staticTheme",t.dynamicTheme="dynamicTheme",t}(ol||{}),pS=function(t){return t.NONE="",t.TIME="time",t.SYSTEM="system",t.LOCATION="location",t}(pS||{}),Zd={darkScheme:{background:"#181a1b",text:"#e8e6e3"},lightScheme:{background:"#dcdad7",text:"#181a1b"}},fS={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:TT?"Helvetica Neue":kT?"Segoe UI":"Open Sans",textStroke:0,engine:ol.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:Zd.darkScheme.background,darkSchemeTextColor:Zd.darkScheme.text,lightSchemeBackgroundColor:Zd.lightScheme.background,lightSchemeTextColor:Zd.lightScheme.text,scrollbarColor:"",selectionColor:"auto",styleSystemControls:!uS,lightColorScheme:"Default",darkColorScheme:"Default",immediateModify:!1},NT=["*.officeapps.live.com","*.sharepoint.com","docs.google.com","onedrive.live.com"];NT.map(t=>{let n=Og?ol.svgFilter:ol.cssFilter;return{url:[t],theme:Te(U({},fS),{engine:n}),builtIn:!0}}),pS.NONE;function og(t,n,e=0){let i=[],r;for(;r=t.exec(n);)i.push(r[e]);return i}function VT(t,n,e=0){let i=[],r;for(;r=t.exec(n);)i.push({text:r[e],offset:r.index});return i}function gS(t){let n=t.length,e=0;for(let i=0;i<n;i++){let r=t.charCodeAt(i);e=(e<<5)-e+r&4294967295}return e}function BT(t){return t.replaceAll(/[\^$.*+?\(\)\[\]{}|\-\\]/g,"\\$&")}function Fg(t,n=0){return jT(t,n,"(",")",[])}function jT(t,n,e,i,r){let o;r.length===0?o=(c,d)=>t.indexOf(c,d):o=(c,d)=>mS(t,c,d,r);let{length:s}=t,a=0,l=-1;for(let c=n;c<s;c++)if(a===0){let d=o(e,c);if(d<0)break;l=d,a++,c=d}else{let d=o(i,c);if(d<0)break;let h=o(e,c);if(h<0||d<=h){if(a--,a===0)return{start:l,end:d+1};c=d}else a++,c=h}return null}function mS(t,n,e,i){let r=t.indexOf(n,e),o=i.find(s=>r>=s.start&&r<s.end);return o?mS(t,n,o.end,i):r}var Qd,Xa=new Map;function F0(t){return Qd||(Qd=document.createElement("a")),Qd.href=t,Qd.href}function gu(t,n=null){let e=`${t}${n?`;${n}`:""}`;if(Xa.has(e))return Xa.get(e);if(n){let r=new URL(t,F0(n));return Xa.set(e,r),r}let i=new URL(F0(t));return Xa.set(t,i),i}function Au(t,n){if(n.match(/^data\\?\:/))return n;if(/^\/\//.test(n))return`${location.protocol}${n}`;let e=gu(t);return gu(n,e.href).href}function UT(t){if(t.startsWith("data:"))return!0;let n=gu(t);return n.protocol!==location.protocol||n.hostname!==location.hostname||n.port!==location.port?!1:n.pathname===location.pathname}var $T=["pre","pre *","code",'[aria-hidden="true"]','[class*="fa-"]',".fa",".fab",".fad",".fal",".far",".fas",".fass",".fasr",".fat",".icofont",'[style*="font-"]','[class*="icon"]','[class*="Icon"]','[class*="symbol"]','[class*="Symbol"]',".glyphicon",'[class*="material-symbol"]','[class*="material-icon"]',"mu",'[class*="mu-"]',".typcn",'[class*="vjs-"]'];function HT(t){let n=[];return n.push(`*:not(${$T.join(", ")}) {`),t.useFont&&t.fontFamily&&n.push(`  font-family: ${t.fontFamily} !important;`),t.textStroke>0&&(n.push(`  -webkit-text-stroke: ${t.textStroke}px !important;`),n.push(`  text-stroke: ${t.textStroke}px !important;`)),n.push("}"),n.join(`
`)}function zT(t){return t.length!=null}function Vn(t,n){if(zT(t))for(let e=0,i=t.length;e<i;e++)n(t[e]);else for(let e of t)n(e)}function Pg(t,n){Vn(n,e=>t.push(e))}function WT(t){let n=[];for(let e=0,i=t.length;e<i;e++)n.push(t[e]);return n}function ii(t,n,e,i,r){return(t-n)*(r-i)/(e-n)+i}function to(t,n,e){return Math.min(e,Math.max(n,t))}function Jo(t,n){let e=[];for(let i=0,r=t.length;i<r;i++){e[i]=[];for(let o=0,s=n[0].length;o<s;o++){let a=0;for(let l=0,c=t[0].length;l<c;l++)a+=t[i][l]*n[l][o];e[i][o]=a}}return e}function bS(t){let n=Ko.identity();return t.sepia!==0&&(n=Jo(n,Ko.sepia(t.sepia/100))),t.grayscale!==0&&(n=Jo(n,Ko.grayscale(t.grayscale/100))),t.contrast!==100&&(n=Jo(n,Ko.contrast(t.contrast/100))),t.brightness!==100&&(n=Jo(n,Ko.brightness(t.brightness/100))),t.mode===1&&(n=Jo(n,Ko.invertNHue())),n}function GT([t,n,e],i){let r=[[t/255],[n/255],[e/255],[1],[1]],o=Jo(i,r);return[0,1,2].map(s=>to(Math.round(o[s][0]*255),0,255))}var Ko={identity(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]]},invertNHue(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]]},brightness(t){return[[t,0,0,0,0],[0,t,0,0,0],[0,0,t,0,0],[0,0,0,1,0],[0,0,0,0,1]]},contrast(t){let n=(1-t)/2;return[[t,0,0,0,n],[0,t,0,0,n],[0,0,t,0,n],[0,0,0,1,0],[0,0,0,0,1]]},sepia(t){return[[.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),0,0],[.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),0,0],[.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t),0,0],[0,0,0,1,0],[0,0,0,0,1]]},grayscale(t){return[[.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),0,0],[.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),0,0],[.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t),0,0],[0,0,0,1,0],[0,0,0,0,1]]}},_S=function(t){return t[t.light=0]="light",t[t.dark=1]="dark",t}(_S||{});function vS(t){let n=[];return t.mode===_S.dark&&n.push("invert(100%) hue-rotate(180deg)"),t.brightness!==100&&n.push(`brightness(${t.brightness}%)`),t.contrast!==100&&n.push(`contrast(${t.contrast}%)`),t.grayscale!==0&&n.push(`grayscale(${t.grayscale}%)`),t.sepia!==0&&n.push(`sepia(${t.sepia}%)`),n.length===0?null:n.join(" ")}function YT(t){let n=[],e=[],i;for(let o=0,s=t.length;o<s;o++){let a=t[o];if(!(!a||a===" ")){if(Ha.has(a)){let l=Ha.get(a);for(;e.length;){let c=Ha.get(e[0]);if(!c)break;if(l.lessOrEqualThan(c))n.push(e.shift());else break}e.unshift(a)}else!i||Ha.has(i)?n.push(a):n[n.length-1]+=a;i=a}}n.push(...e);let r=[];for(let o=0,s=n.length;o<s;o++){let a=Ha.get(n[o]);if(a){let l=r.splice(0,2);r.push(a.exec(l[1],l[0]))}else r.unshift(parseFloat(n[o]))}return r[0]}var ts=class{constructor(n,e){this.precendce=n,this.execMethod=e}exec(n,e){return this.execMethod(n,e)}lessOrEqualThan(n){return this.precendce<=n.precendce}},Ha=new Map([["+",new ts(1,(t,n)=>t+n)],["-",new ts(1,(t,n)=>t-n)],["*",new ts(2,(t,n)=>t*n)],["/",new ts(2,(t,n)=>t/n)]]),qT=()=>matchMedia("(prefers-color-scheme: dark)").matches,su=new Map,au=new Map;function Ut(t){if(t=t.trim(),au.has(t))return au.get(t);t.includes("calc(")&&(t=dR(t));let n=SS(t);return n?(au.set(t,n),n):null}function P0(t){if(su.has(t))return su.get(t);let n=Ut(t);if(!n)return null;let e=ku(n);return su.set(t,e),e}function KT(){su.clear(),au.clear()}function yS({h:t,s:n,l:e,a:i=1}){if(n===0){let[d,h,m]=[e,e,e].map(_=>Math.round(_*255));return{r:d,g:m,b:h,a:i}}let r=(1-Math.abs(2*e-1))*n,o=r*(1-Math.abs(t/60%2-1)),s=e-r/2,[a,l,c]=(t<60?[r,o,0]:t<120?[o,r,0]:t<180?[0,r,o]:t<240?[0,o,r]:t<300?[o,0,r]:[r,0,o]).map(d=>Math.round((d+s)*255));return{r:a,g:l,b:c,a:i}}function ku({r:t,g:n,b:e,a:i=1}){let r=t/255,o=n/255,s=e/255,a=Math.max(r,o,s),l=Math.min(r,o,s),c=a-l,d=(a+l)/2;if(c===0)return{h:0,s:0,l:d,a:i};let h=(a===r?(o-s)/c%6:a===o?(s-r)/c+2:(r-o)/c+4)*60;h<0&&(h+=360);let m=c/(1-Math.abs(2*d-1));return{h,s:m,l:d,a:i}}function dn(t,n=0){let e=t.toFixed(n);if(n===0)return e;let i=e.indexOf(".");if(i>=0){let r=e.match(/0+$/);if(r)return r.index===i+1?e.substring(0,i):e.substring(0,r.index)}return e}function XT(t){let{r:n,g:e,b:i,a:r}=t;return r!=null&&r<1?`rgba(${dn(n)}, ${dn(e)}, ${dn(i)}, ${dn(r,2)})`:`rgb(${dn(n)}, ${dn(e)}, ${dn(i)})`}function Lg({r:t,g:n,b:e,a:i}){return`#${(i!=null&&i<1?[t,n,e,Math.round(i*255)]:[t,n,e]).map(r=>`${r<16?"0":""}${r.toString(16)}`).join("")}`}function L0(t){let{h:n,s:e,l:i,a:r}=t;return r!=null&&r<1?`hsla(${dn(n)}, ${dn(e*100)}%, ${dn(i*100)}%, ${dn(r,2)})`:`hsl(${dn(n)}, ${dn(e*100)}%, ${dn(i*100)}%)`}var ZT=/^rgba?\([^\(\)]+\)$/,QT=/^hsla?\([^\(\)]+\)$/,JT=/^#[0-9a-f]+$/i,eR=["color","color-mix","hwb","lab","lch","oklab","oklch"];function SS(t){let n=t.trim().toLowerCase();if(n.includes("(from "))return $f(n);if(n.match(ZT))return n.startsWith("rgb(#")||n.startsWith("rgba(#")?$f(n):wS(n);if(n.match(QT))return sR(n);if(n.match(JT))return aR(n);if(DS.has(n))return lR(n);if(ES.has(n))return cR(n);if(n==="transparent")return{r:0,g:0,b:0,a:0};if(n.endsWith(")")&&eR.some(e=>n.startsWith(e)&&n[e.length]==="("))return $f(n);if(n.startsWith("light-dark(")&&n.endsWith(")")){let e=n.match(/^light-dark\(\s*([a-z]+(\(.*\))?),\s*([a-z]+(\(.*\))?)\s*\)$/);if(e){let i=qT()?e[3]:e[1];return SS(i)}}return null}function tR(t){let n=[],e=0,i=!1,r=t.indexOf("(");t=t.substring(r+1,t.length-1);for(let o=0;o<t.length;o++){let s=t[o];s>="0"&&s<="9"||s==="."||s==="+"||s==="-"?i=!0:i&&(s===" "||s===","||s==="/")?(n.push(t.substring(e,o)),i=!1,e=o+1):i||(e=o+1)}return i&&n.push(t.substring(e,t.length)),n}function CS(t,n,e){let i=tR(t),r=Object.entries(e);return i.map(s=>s.trim()).map((s,a)=>{let l,c=r.find(([d])=>s.endsWith(d));return c?l=parseFloat(s.substring(0,s.length-c[0].length))/c[1]*n[a]:l=parseFloat(s),n[a]>1?Math.round(l):l})}var nR=[255,255,255,1],iR={"%":100};function wS(t){let[n,e,i,r=1]=CS(t,nR,iR);return n==null||e==null||i==null||r==null?null:{r:n,g:e,b:i,a:r}}var rR=[360,1,1,1],oR={"%":100,deg:360,rad:2*Math.PI,turn:1};function sR(t){let[n,e,i,r=1]=CS(t,rR,oR);return n==null||e==null||i==null||r==null?null:yS({h:n,s:e,l:i,a:r})}function aR(t){let n=t.substring(1);switch(n.length){case 3:case 4:{let[e,i,r]=[0,1,2].map(s=>parseInt(`${n[s]}${n[s]}`,16)),o=n.length===3?1:parseInt(`${n[3]}${n[3]}`,16)/255;return{r:e,g:i,b:r,a:o}}case 6:case 8:{let[e,i,r]=[0,2,4].map(s=>parseInt(n.substring(s,s+2),16)),o=n.length===6?1:parseInt(n.substring(6,8),16)/255;return{r:e,g:i,b:r,a:o}}}return null}function lR(t){let n=DS.get(t);return{r:n>>16&255,g:n>>8&255,b:n>>0&255,a:1}}function cR(t){let n=ES.get(t);return{r:n>>16&255,g:n>>8&255,b:n>>0&255,a:1}}function dR(t){let n=0,e=(i,r,o)=>{t=t.substring(0,i)+o+t.substring(r)};for(;(n=t.indexOf("calc("))!==-1;){let i=Fg(t,n);if(!i)break;let r=t.slice(i.start+1,i.end-1),o=r.includes("%");r=r.split("%").join("");let s=Math.round(YT(r));e(i.start-4,i.end,s+(o?"%":""))}return t}var DS=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),ES=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(([t,n])=>[t.toLowerCase(),n]));function xS(t,n,e){return(.2126*t+.7152*n+.0722*e)/255}var Jd,za;function $f(t){za||(Jd=document.createElement("canvas"),Jd.width=1,Jd.height=1,za=Jd.getContext("2d",{willReadFrequently:!0})),za.fillStyle=t,za.fillRect(0,0,1,1);let n=za.getImageData(0,0,1,1).data,e=`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${(n[3]/255).toFixed(2)})`;return wS(e)}function Ng(t){let n=!1,e=null,i;return Object.assign((...s)=>{i=s,e?n=!0:(t(...i),e=requestAnimationFrame(()=>{e=null,n&&(t(...i),n=!1)}))},{cancel:()=>{cancelAnimationFrame(e),n=!1,e=null}})}function uR(){let t=[],n=null;function e(){let o;for(;o=t.shift();)o();n=null}function i(o){t.push(o),n||(n=requestAnimationFrame(e))}function r(){t.splice(0),cancelAnimationFrame(n),n=null}return{add:i,cancel:r}}var Hf=new Set;function hR(t,n){Hf.has(t)||(Hf.add(t),requestAnimationFrame(()=>{Hf.delete(t),n()}))}function pR(t){return(t<16?"0":"")+t.toString(16)}function AS(){if("randomUUID"in crypto){let t=crypto.randomUUID();return t.substring(0,8)+t.substring(9,13)+t.substring(14,18)+t.substring(19,23)+t.substring(24)}return"getRandomValues"in crypto?Array.from(crypto.getRandomValues(new Uint8Array(16))).map(t=>pR(t)).join(""):Math.floor(Math.random()*2**55).toString(36)}var Wi=null,kS=!document.hidden,os={capture:!0,passive:!0};function fR(){document.addEventListener("visibilitychange",Wi,os),window.addEventListener("pageshow",Wi,os),window.addEventListener("focus",Wi,os)}function gR(){document.removeEventListener("visibilitychange",Wi,os),window.removeEventListener("pageshow",Wi,os),window.removeEventListener("focus",Wi,os)}function mR(t){let n=!!Wi;Wi=()=>{document.hidden||(TS(),t(),kS=!0)},n||fR()}function TS(){gR(),Wi=null}function RS(){return kS}function mu(t){let n=0;return t.seconds&&(n+=t.seconds*1e3),t.minutes&&(n+=t.minutes*60*1e3),t.hours&&(n+=t.hours*60*60*1e3),t.days&&(n+=t.days*24*60*60*1e3),n}function Ui(...t){}function Ze(...t){}function bR(...t){}function Vg(t,n){n||bR(t)}function $i(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function sg(t,n,e=Function.prototype){let r=mu({seconds:2}),o=mu({seconds:10}),s=t.previousSibling,a=t.parentNode;if(!a)throw new Error("Unable to watch for node position: parent element not found");if(n==="prev-sibling"&&!s)throw new Error("Unable to watch for node position: there is no previous sibling");let l=0,c=null,d=null,h=Ng(()=>{if(d)return;l++;let b=Date.now();if(c==null)c=b;else if(l>=10){if(b-c<o){Ze(`Node position watcher paused: retry in ${r}ms`,t,s),d=setTimeout(()=>{c=null,l=0,d=null,h()},r);return}c=b,l=1}if(n==="head"&&s&&s.parentNode!==a&&(Ze("Sibling moved, moving node to the head end",t,s,a),s=document.head.lastChild),n==="prev-sibling"){if(s.parentNode==null){Ze("Unable to restore node position: sibling was removed",t,s,a),p();return}s.parentNode!==a&&(Ze("Style was moved to another parent",t,s,a),S(s.parentNode))}n==="head"&&!a.isConnected&&(a=document.head),Ze("Restoring node position",t,s,a),a.insertBefore(t,s&&s.isConnected?s.nextSibling:a.firstChild),m.takeRecords(),e&&e()}),m=new MutationObserver(()=>{(n==="head"&&(t.parentNode!==a||!t.parentNode.isConnected)||n==="prev-sibling"&&t.previousSibling!==s)&&h()}),_=()=>{m.observe(a,{childList:!0})},p=()=>{clearTimeout(d),m.disconnect(),h.cancel()},g=()=>{m.takeRecords()},S=b=>{a=b,p(),_()};return _(),{run:_,stop:p,skip:g}}function hs(t,n){if(t==null)return;let e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(i){return i.shadowRoot==null?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});for(let i=t.shadowRoot?e.currentNode:e.nextNode();i!=null;i=e.nextNode())i.classList.contains("surfingkeys_hints_host")||(n(i),hs(i.shadowRoot,n))}var gr=()=>document.readyState==="complete"||document.readyState==="interactive";function _R(t){gr=t}var bu=new Set;function Bg(t){gr()?t():bu.add(t)}function IS(t){bu.delete(t)}function Tu(){return document.readyState==="complete"}var _u=new Set;function jg(t){Tu()?t():_u.add(t)}function vR(){_u.clear()}if(!gr()){let t=()=>{gr()&&(bu.forEach(n=>n()),bu.clear(),Tu()&&(document.removeEventListener("readystatechange",t),_u.forEach(n=>n()),_u.clear()))};document.addEventListener("readystatechange",t)}var N0=1e3;function yR(t){if(t.length>N0)return!0;let n=0;for(let e=0;e<t.length;e++)if(n+=t[e].addedNodes.length,n>N0)return!0;return!1}function SR(t){let n=new Set,e=new Set,i=new Set;t.forEach(s=>{Vn(s.addedNodes,a=>{a instanceof Element&&a.isConnected&&n.add(a)}),Vn(s.removedNodes,a=>{a instanceof Element&&(a.isConnected?(i.add(a),n.delete(a)):e.add(a))})});let r=[],o=[];return n.forEach(s=>{n.has(s.parentElement)&&r.push(s)}),e.forEach(s=>{e.has(s.parentElement)&&o.push(s)}),r.forEach(s=>n.delete(s)),o.forEach(s=>e.delete(s)),{additions:n,moves:i,deletions:e}}var eu=new Map,zf=new WeakMap;function OS(t,n){let e,i,r;if(eu.has(t))e=eu.get(t),i=zf.get(e);else{let o=!1,s=!1;e=new MutationObserver(a=>{if(yR(a))!o||gr()?i.forEach(({onHugeMutations:l})=>l(t)):s||(r=()=>i.forEach(({onHugeMutations:l})=>l(t)),Bg(r),s=!0),o=!0;else{let l=SR(a);i.forEach(({onMinorMutations:c})=>c(t,l))}}),e.observe(t,{childList:!0,subtree:!0}),eu.set(t,e),i=new Set,zf.set(e,i)}return i.add(n),{disconnect(){i.delete(n),r&&IS(r),i.size===0&&(e.disconnect(),zf.delete(e),eu.delete(t))}}}function eo(t,n,e){Vn(t,i=>{if(LS(i))n(i);else if(xR(i))try{eo(i.styleSheet.cssRules,n,e)}catch{e?.()}else if(ag(i)){let r=Array.from(i.media),o=r.some(a=>a.startsWith("screen")||a.startsWith("all")||a.startsWith("(")),s=r.some(a=>a.startsWith("print")||a.startsWith("speech"));(o||!s)&&eo(i.cssRules,n,e)}else AR(i)?CSS.supports(i.conditionText)&&eo(i.cssRules,n,e):NS(i)?eo(i.cssRules,n,e):Ze("CSSRule type not supported",i)})}var MS=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"],CR=fu?MS.map(t=>{let n=new RegExp(`${t}:\\s*(.*?)\\s*;`);return[t,n]}):null;function ns(t,n){Vn(t,i=>{let r=t.getPropertyValue(i).trim();r&&n(i,r)});let e=t.cssText;e.includes("var(")&&(fu?CR.forEach(([i,r])=>{let o=e.match(r);if(o&&o[1]){let s=o[1].trim();n(i,s)}}):MS.forEach(i=>{let r=t.getPropertyValue(i);r&&r.includes("var(")&&n(i,r)})),e.includes("background-color: ;")&&!t.getPropertyValue("background")&&V0("background",t,n),e.includes("border-")&&e.includes("-color: ;")&&!t.getPropertyValue("border")&&V0("border",t,n)}function V0(t,n,e){let i=n.parentRule;if(LS(i)){let r=i.parentStyleSheet?.ownerNode?.textContent;if(r){let o=BT(i.selectorText);o=o.replaceAll(/\s+/g,"\\s*"),o=o.replaceAll(/::/g,"::?");let s=new RegExp(`${o}\\s*{[^}]*${t}:\\s*([^;}]+)`),a=r.match(s);a&&e(t,a[1])}else t==="background"&&e("background-color","#ffffff")}}var FS=/url\((('.*?')|(".*?")|([^\)]*?))\)/g,PS=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;function Ug(t){return t.trim().replace(/[\n\r\\]+/g,"").replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1").replace(/(?:\\(.))/g,"$1")}function vu(t){let n=gu(t);return`${n.origin}${n.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1")}`}function wR(t,n){return t.replace(FS,e=>{try{let i=Ug(e);return`url('${Au(n,i).replaceAll("'","\\'")}')`}catch{return Ze("Not able to replace relative URL with Absolute URL, skipping"),e}})}var DR=/@font-face\s*{[^}]*}/g;function ER(t){return t.replace(DR,"")}var ds=new WeakSet,B0=new WeakSet,j0=new WeakSet,U0=new WeakSet,$0=new WeakSet;function LS(t){return t?ds.has(t)?!0:t.selectorText?(ds.add(t),!0):!1:!1}function xR(t){return!t||ds.has(t)?!1:B0.has(t)?!0:t.href?(B0.add(t),!0):!1}function ag(t){return!t||ds.has(t)?!1:j0.has(t)?!0:t.media?(j0.add(t),!0):!1}function AR(t){return!t||ds.has(t)?!1:U0.has(t)?!0:t instanceof CSSSupportsRule?(U0.add(t),!0):!1}function NS(t){return!t||ds.has(t)?!1:$0.has(t)?!0:dS&&t instanceof CSSLayerBlockRule?($0.add(t),!0):!1}var lg=new WeakMap;function VS(t,n){lg.set(t,n)}function kR(t){if(!t.ownerNode)return null;if(lg.has(t))return lg.get(t);let n=t.ownerNode;for(;n;){if(n instanceof ShadowRoot||n instanceof Document)return VS(t,n),n;n=n.parentNode}return null}var H0=8,cg="conic-",TR=cg.length,RR="radial-",IR="linear-";function OR(t){let n=[],e=0,i=cg.length;for(;(e=t.indexOf("gradient",i))!==-1;){let r;if([IR,RR,cg].find(l=>{if(e-l.length>=0&&t.substring(e-l.length,e)===l)return t.slice(e-l.length-10,e-l.length-1)==="repeating"?(r=`repeating-${l}gradient`,!0):t.slice(e-l.length-8,e-l.length-1)==="-webkit"?(r=`-webkit-${l}gradient`,!0):(r=`${l}gradient`,!0)}),!r)break;let{start:o,end:s}=Fg(t,e+H0),a=t.substring(o+1,s-1);i=s+1+TR,n.push({typeGradient:r,match:a,offset:r.length+2,index:e-r.length+H0,hasComma:!0})}return n.length&&(n[n.length-1].hasComma=!1),n}var BS="__darkreader__imageDetails_v2_list",jS="__darkreader__imageDetails_v2_",US="__darkreader__cssFetch_",z0=0,dg=new Map,W0=[];function MR(){dg.forEach((t,n)=>{if(n&&n.startsWith("https://"))try{let e=JSON.stringify(t);sessionStorage.setItem(`${jS}${n}`,e),W0.push(n)}catch{}}),dg.clear(),sessionStorage.setItem(BS,JSON.stringify(W0))}function FR(t,n){!t||!t.startsWith("https://")||(dg.set(t,n),clearTimeout(z0),z0=setTimeout(MR,1e3))}function PR(t){try{let n=sessionStorage.getItem(BS);if(!n)return;JSON.parse(n).forEach(i=>{let r=sessionStorage.getItem(`${jS}${i}`);if(r){let o=JSON.parse(r);t.set(i,o)}})}catch{}}function LR(t,n){let e=`${US}${t}`;try{sessionStorage.setItem(e,n)}catch{}}function NR(t){let n=`${US}${t}`;try{return sessionStorage.getItem(n)??null}catch{}return null}function VR(t){return t.slice(0,4).map(n=>n.map(e=>e.toFixed(3)).join(" ")).join(" ")}function BR(t){return VR(bS(t))}var jR=1e3/60,ug=class{constructor(){this.queue=[],this.timerId=null}addTask(n){this.queue.push(n),this.scheduleFrame()}stop(){this.timerId!==null&&(cancelAnimationFrame(this.timerId),this.timerId=null),this.queue=[]}scheduleFrame(){this.timerId||(this.timerId=requestAnimationFrame(()=>{this.timerId=null;let n=Date.now(),e;for(;e=this.queue.shift();)if(e(),Date.now()-n>=jR){this.scheduleFrame();break}}))}},hg=new Map,pg=new Map;function $S(t){return ot(this,null,function*(){return window.DarkReader?.Plugins?.fetch?window.DarkReader.Plugins.fetch(t):new Promise((n,e)=>{let i=AS();hg.set(i,n),pg.set(i,e),chrome.runtime.sendMessage({type:Rg.FETCH,data:t,id:i})})})}chrome.runtime.onMessage.addListener(({type:t,data:n,error:e,id:i})=>{if(t===pu.FETCH_RESPONSE){let r=hg.get(i),o=pg.get(i);hg.delete(i),pg.delete(i),e?o&&o(e):r&&r(n)}});var fg=new ug;function HS(t){return ot(this,null,function*(){return new Promise((n,e)=>ot(this,null,function*(){try{let i=t.startsWith("data:")?t:yield UR(t),r=WS(i)??(yield OT(t)),o;i.startsWith("data:image/svg+xml")?o=yield G0(i):o=(yield $R(r))??(yield G0(i)),fg.addTask(()=>{let s=qR(o);n(U({src:t,dataURL:s.isLarge?"":i,width:o.width,height:o.height},s))})}catch(i){e(i)}}))})}function UR(t){return ot(this,null,function*(){return new URL(t).origin===location.origin?yield IT(t):yield $S({url:t,responseType:"data-url"})})}function $R(t){return ot(this,null,function*(){try{return yield createImageBitmap(t)}catch(n){return Ze(`Unable to create image bitmap for type ${t.type}: ${String(n)}`),null}})}var HR=256,zR=0;function G0(t){return ot(this,null,function*(){return new Promise((n,e)=>{let i=new Image;i.onload=()=>n(i),i.onerror=()=>e(`Unable to load image ${t}`),++zR<=HR||Tu()?i.src=t:jg(()=>i.src=t)})})}var gg=32*32,is,ss;function WR(){let t=gg,n=gg;is=document.createElement("canvas"),is.width=t,is.height=n,ss=is.getContext("2d",{willReadFrequently:!0}),ss.imageSmoothingEnabled=!1}function GR(){is=null,ss=null}var YR=512*512;function qR(t){is||WR();let n,e;if(t instanceof HTMLImageElement?(n=t.naturalWidth,e=t.naturalHeight):(n=t.width,e=t.height),n===0||e===0)return Ze("Image is empty"),{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1};let i=n*e>YR,r=n*e,o=Math.min(1,Math.sqrt(gg/r)),s=Math.ceil(n*o),a=Math.ceil(e*o);ss.clearRect(0,0,s,a),ss.drawImage(t,0,0,n,e,0,0,s,a);let c=ss.getImageData(0,0,s,a).data,d=.05,h=.4,m=.7,_=0,p=0,g=0,S,b,R,D,A,k,I,F;for(R=0;R<a;R++)for(b=0;b<s;b++)S=4*(R*s+b),D=c[S+0],A=c[S+1],k=c[S+2],I=c[S+3],I/255<d?_++:(F=xS(D,A,k),F<h&&p++,F>m&&g++);let E=s*a,T=E-_;return{isDark:p/T>=.7,isLight:g/T>=.7,isTransparent:_/E>=.1,isLarge:i}}var ul=null,$g=!1,Y0=!1,Wf=[];document.addEventListener("__darkreader__inlineScriptsAllowed",()=>$g=!0,{once:!0});function KR(){return ot(this,null,function*(){if($g){if(Y0)return yield new Promise(t=>Wf.push(t));Y0=!0,yield new Promise(t=>{document.addEventListener("__darkreader__blobURLCheckResponse",n=>{ul=n.detail.blobURLAllowed,t(),Wf.forEach(e=>e()),Wf.splice(0)},{once:!0}),document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckRequest"))})}})}function XR(){return ul!=null||!$g}function zS(t){t.blockedURI==="blob"&&(ul=!1,document.removeEventListener("securitypolicyviolation",zS))}document.addEventListener("securitypolicyviolation",zS);var mg=new Set;function Gf({dataURL:t,width:n,height:e},i){t.startsWith("data:image/svg+xml")&&(t=QR(t));let r=BR(i),o=[`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${n}" height="${e}">`,"<defs>",'<filter id="darkreader-image-filter">',`<feColorMatrix type="matrix" values="${r}" />`,"</filter>","</defs>",`<image width="${n}" height="${e}" filter="url(#darkreader-image-filter)" xlink:href="${t}" />`,"</svg>"].join("");if(!ul)return`data:image/svg+xml;base64,${btoa(o)}`;let s=new Uint8Array(o.length);for(let c=0;c<o.length;c++)s[c]=o.charCodeAt(c);let a=new Blob([s],{type:"image/svg+xml"}),l=URL.createObjectURL(a);return mg.add(l),l}var ZR={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&apos;",'"':"&quot;"};function QR(t){return t.replace(/[<>&'"]/g,n=>ZR[n]??n)}var yu=new Map;function WS(t){let n=t.indexOf(":"),e=t.indexOf(";",n+1),i=t.indexOf(",",e+1),r=t.substring(e+1,i).toLocaleLowerCase(),o=t.substring(n+1,e);if(r!=="base64"||!o)return null;let s=atob(t.substring(i+1)),a=new Uint8Array(s.length);for(let l=0;l<s.length;l++)a[l]=s.charCodeAt(l);return new Blob([a],{type:o})}function JR(t){return ot(this,null,function*(){if(!ul)return null;let n=gS(t),e=yu.get(n);if(e)return e;let i=WS(t);return i||(i=yield(yield fetch(t)).blob()),e=URL.createObjectURL(i),yu.set(n,e),e})}function eI(){fg&&fg.stop(),GR(),mg.forEach(t=>URL.revokeObjectURL(t)),mg.clear(),yu.forEach(t=>URL.revokeObjectURL(t)),yu.clear()}var sl,no=new Map;function q0(t){sl=t;let n=["background","text","border"];no.forEach(e=>{n.forEach(i=>{if(e[i]){let{variable:r,value:o}=e[i];sl?.cssRules[0].style.setProperty(r,o)}})})}function tI(){sl=null,bg()}function GS(t,n){return`var(${n[t].variable}, ${n[t].value})`}function nI(t,n){let e=Lg(n),i=no.get(e);return i?.[t]?GS(t,i):null}function iI(t,n,e){let i=Lg(n),r;no.has(i)?r=no.get(i):(r={parsed:Ut(i)},no.set(i,r));let o=`--darkreader-${t}-${i.replace("#","")}`;return r[t]={variable:o,value:e},sl?.cssRules[0]?.style&&sl?.cssRules[0].style.setProperty(o,e),GS(t,r)}function rI(){let t=[],n=[],e=[];return no.forEach(i=>{i.background&&t.push(i.parsed),i.border&&n.push(i.parsed),i.text&&e.push(i.parsed)}),{background:t,border:n,text:e}}function bg(){no.clear()}function Hg(t){let e=t.mode===1?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor";return t[e]}function zg(t){let e=t.mode===1?"darkSchemeTextColor":"lightSchemeTextColor";return t[e]}var lu=new Map;function oI(){lu.clear()}var sI=["r","g","b","a"],aI=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function lI(t,n){let e="";return sI.forEach(i=>{e+=`${t[i]};`}),aI.forEach(i=>{e+=`${n[i]};`}),e}function Ru(t,n,e,i,r){let o;lu.has(e)?o=lu.get(e):(o=new Map,lu.set(e,o));let s=lI(t,n);if(o.has(s))return o.get(s);let a=ku(t),l=i==null?null:P0(i),c=r==null?null:P0(r),d=e(a,l,c),{r:h,g:m,b:_,a:p}=yS(d),g=bS(n),[S,b,R]=GT([h,m,_],g),D=p===1?Lg({r:S,g:b,b:R}):XT({r:S,g:b,b:R,a:p});return o.set(s,D),D}function Wg(t,n,e,i){let r=nI(t,n);if(r)return r;let o=i(n,e);return iI(t,n,o)}function Gg(t,n){let e=Hg(n),i=zg(n);return Ru(t,n,cI,i,e)}function cI({h:t,s:n,l:e,a:i},r,o){let s=e<.5,a;if(s)a=e<.2||n<.12;else{let h=t>200&&t<280;a=n<.24||e>.8&&h}let l=t,c=e;a&&(s?(l=r.h,c=r.s):(l=o.h,c=o.s));let d=ii(e,0,1,r.l,o.l);return{h:l,s:c,l:d,a:i}}var K0=.4;function dI({h:t,s:n,l:e,a:i},r){let o=e<.5,s=t>200&&t<280,a=n<.12||e>.8&&s;if(o){let h=ii(e,0,.5,0,K0);if(a){let m=r.h,_=r.s;return{h:m,s:_,l:h,a:i}}return{h:t,s:n,l:h,a:i}}let l=ii(e,.5,1,K0,r.l);if(a){let h=r.h,m=r.s;return{h,s:m,l,a:i}}let c=t;return t>60&&t<180&&(t>120?c=ii(t,120,180,135,180):c=ii(t,60,120,60,105)),c>40&&c<80&&(l*=.75),{h:c,s:n,l,a:i}}function X0(t,n){if(n.mode===0)return Gg(t,n);let e=Hg(n);return Ru(t,Te(U({},n),{mode:0}),dI,e)}function qt(t,n,e=!0){return e?Wg("background",t,n,X0):X0(t,n)}var tu=.55;function Z0(t){return ii(t,205,245,205,220)}function uI({h:t,s:n,l:e,a:i},r){let o=e>.5,s=e<.2||n<.24,a=!s&&t>205&&t<245;if(o){let d=ii(e,.5,1,tu,r.l);if(s){let m=r.h,_=r.s;return{h:m,s:_,l:d,a:i}}let h=t;return a&&(h=Z0(t)),{h,s:n,l:d,a:i}}if(s){let d=r.h,h=r.s,m=ii(e,0,.5,r.l,tu);return{h:d,s:h,l:m,a:i}}let l=t,c;return a?(l=Z0(t),c=ii(e,0,.5,r.l,Math.min(1,tu+.05))):c=ii(e,0,.5,r.l,tu),{h:l,s:n,l:c,a:i}}function Q0(t,n){if(n.mode===0)return Gg(t,n);let e=zg(n);return Ru(t,Te(U({},n),{mode:0}),uI,e)}function un(t,n,e=!0){return e?Wg("text",t,n,Q0):Q0(t,n)}function hI({h:t,s:n,l:e,a:i},r,o){let s=e<.5,a=e<.2||n<.24,l=t,c=n;a&&(s?(l=r.h,c=r.s):(l=o.h,c=o.s));let d=ii(e,0,1,.5,.2);return{h:l,s:c,l:d,a:i}}function J0(t,n){if(n.mode===0)return Gg(t,n);let e=zg(n),i=Hg(n);return Ru(t,Te(U({},n),{mode:0}),hI,e,i)}function us(t,n,e=!0){return e?Wg("border",t,n,J0):J0(t,n)}function pI(t,n){return qt(t,n)}function Yf(t,n){return qt(t,n)}function fI(t,n){return!!(t&&t.getPropertyPriority(n))}function YS(t,n,e,i,r,o){let s=null;if(t.startsWith("--"))s=AI(i,t,n,e,r,o);else if(n.includes("var("))s=kI(i,t,n);else if(t==="color-scheme")s=xI();else if(t==="scrollbar-color")s=EI(n);else if(t.includes("color")&&t!=="-webkit-print-color-adjust"||t==="fill"||t==="stroke"||t==="stop-color")if(t.startsWith("border")&&t!=="border-color"&&n==="initial"){let a=t.substring(0,t.length-6),l=e.style.getPropertyValue(a);l.startsWith("0px")||l==="none"?(t=a,s=l):s=n}else s=SI(t,n,e);else t==="background-image"||t==="list-style-image"?s=KS(n,e,r,o):t.includes("shadow")&&(s=DI(n));return s?{property:t,value:s,important:fI(e.style,t),sourceValue:n}:null}function eS(...t){return t.filter(Boolean).join(", ")}var gI=["calendar.google.com"];function mI(t,n,e){let i=[];n||(i.push("html {"),i.push(`    background-color: ${qt({r:255,g:255,b:255},t)} !important;`),i.push("}")),uS&&t.mode===1&&(i.push("html {"),i.push("    color-scheme: dark !important;"),i.push("}"),i.push("iframe {"),i.push("    color-scheme: dark !important;"),i.push("}"));let r=eS(n?"":"html, body",e?"input, textarea, select, button, dialog":"");return r&&(i.push(`${r} {`),i.push(`    background-color: ${qt({r:255,g:255,b:255},t)};`),i.push("}")),i.push(`${eS("html, body",e?"input, textarea, select, button":"")} {`),i.push(`    border-color: ${us({r:76,g:76,b:76},t)};`),i.push(`    color: ${un({r:0,g:0,b:0},t)};`),i.push("}"),i.push("a {"),i.push(`    color: ${un({r:0,g:64,b:255},t)};`),i.push("}"),i.push("table {"),i.push(`    border-color: ${us({r:128,g:128,b:128},t)};`),i.push("}"),i.push("mark {"),i.push(`    color: ${un({r:0,g:0,b:0},t)};`),i.push("}"),i.push("::placeholder {"),i.push(`    color: ${un({r:169,g:169,b:169},t)};`),i.push("}"),i.push("input:-webkit-autofill,"),i.push("textarea:-webkit-autofill,"),i.push("select:-webkit-autofill {"),i.push(`    background-color: ${qt({r:250,g:255,b:189},t)} !important;`),i.push(`    color: ${un({r:0,g:0,b:0},t)} !important;`),i.push("}"),t.scrollbarColor&&!gI.includes(location.hostname)&&i.push(_I(t)),t.selectionColor&&i.push(bI(t)),dS&&(i.unshift("@layer {"),i.push("}")),i.join(`
`)}function qS(t){let n,e;if(t.selectionColor==="auto")n=qt({r:0,g:96,b:212},Te(U({},t),{grayscale:0})),e=un({r:255,g:255,b:255},Te(U({},t),{grayscale:0}));else{let i=Ut(t.selectionColor),r=ku(i);n=t.selectionColor,r.l<.5?e="#FFF":e="#000"}return{backgroundColorSelection:n,foregroundColorSelection:e}}function bI(t){let n=[],e=qS(t),i=e.backgroundColorSelection,r=e.foregroundColorSelection;return["::selection","::-moz-selection"].forEach(o=>{n.push(`${o} {`),n.push(`    background-color: ${i} !important;`),n.push(`    color: ${r} !important;`),n.push("}")}),n.join(`
`)}function _I(t){let n,e;if(t.scrollbarColor==="auto")n=qt({r:241,g:241,b:241},t),e=qt({r:176,g:176,b:176},t);else{let i=Ut(t.scrollbarColor),r=ku(i);n=L0((s=>Te(U({},r),{l:to(r.l-s,0,1)}))(.4)),e=L0(r)}return["* {",`    scrollbar-color: ${e} ${n};`,"}"].join(`
`)}function Yg(t,{strict:n}){return vI(t,{strict:n})}function vI(t,{strict:n}){let e=[];return e.push(`html, body, ${n?"body :not(iframe)":"body > :not(iframe)"} {`),e.push(`    background-color: ${qt({r:255,g:255,b:255},t)} !important;`),e.push(`    border-color: ${us({r:64,g:64,b:64},t)} !important;`),e.push(`    color: ${un({r:0,g:0,b:0},t)} !important;`),e.push("}"),e.push('div[style*="background-color: rgb(135, 135, 135)"] {'),e.push("    background-color: #878787 !important;"),e.push("}"),e.join(`
`)}var yI=new Set(["inherit","transparent","initial","currentcolor","none","unset","auto"]);function SI(t,n,e){if(yI.has(n.toLowerCase()))return n;let i=Ut(n);return i?t.includes("background")?e.style.webkitMaskImage&&e.style.webkitMaskImage!=="none"||e.style.webkitMask&&!e.style.webkitMask.startsWith("none")||e.style.mask&&e.style.mask!=="none"||e.style.getPropertyValue("mask-image")&&e.style.getPropertyValue("mask-image")!=="none"?r=>un(i,r):r=>qt(i,r):t.includes("border")||t.includes("outline")?r=>us(i,r):r=>un(i,r):(Ze("Couldn't parse color",n),null)}var Za=new Map,Bi=new Map,tS=!1;function CI(t,n){if(!t||n.length===0)return!1;if(n.some(i=>i==="*"))return!0;let e=t.split(/,\s*/g);for(let i=0;i<n.length;i++){let r=n[i];if(r.startsWith("^")){let o=r.slice(1);if(e.some(s=>s.startsWith(o)))return!0}else if(r.endsWith("$")){let o=r.slice(0,r.length-1);if(e.some(s=>s.endsWith(o)))return!0}else if(e.some(o=>o===r))return!0}return!1}var as=new Map,wI=new Map,qf=new Set,Kf=null,el=null;function _g(t){for(let[n,e]of as)(t.querySelector(n)||t instanceof Element&&t.matches(n))&&(as.delete(n),e.forEach(i=>i()));el||(el=new MutationObserver(n=>{n.forEach(e=>{qf.add(e.target),Kf||(Kf=requestAnimationFrame(()=>{qf.forEach(i=>{_g(i)}),qf.clear(),Kf=null}))})}),el.observe(document.documentElement,{attributes:!0,attributeFilter:["class"],subtree:!0}))}function KS(t,n,e,i){try{if(CI(n.selectorText,e))return t;let r=OR(t),o=og(FS,t);if(o.length===0&&r.length===0)return t;let s=p=>{let g=0;return p.map(S=>{let b=t.indexOf(S,g);return g=b+S.length,{match:S,index:b}})},a=r.map(p=>U({type:"gradient"},p)).concat(s(o).map(p=>U({type:"url",offset:0},p))).sort((p,g)=>p.index>g.index?1:-1),l=p=>{let{typeGradient:g,match:S,hasComma:b}=p,R=/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?([^\(\), ]|( (?!calc)))*),?/g,D=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,A=og(R,S,1).map(k=>{k=k.trim();let I=Ut(k);if(I)return T=>Yf(I,T);let F=k.lastIndexOf(" ");if(I=Ut(k.substring(0,F)),I)return T=>`${Yf(I,T)} ${k.substring(F+1)}`;let E=k.match(D);return E&&(I=Ut(E[3]),I)?T=>`${E[1]}(${E[2]?`${E[2]}, `:""}${Yf(I,T)})`:()=>k});return k=>`${g}(${A.map(I=>I(k)).join(", ")})${b?", ":""}`},c=p=>{tS||(tS=!0,PR(Za));let g=Ug(p),S=g.length===0,{parentStyleSheet:b}=n,R=b?.ownerNode,D=(b&&kR(b))??document,A=b&&b.href?vu(b.href):R?.baseURI||location.origin;return g=Au(A,g),k=>ot(this,null,function*(){if(S)return"url('')";let I=n.selectorText;I&&(I.includes("::before")&&(I=I.replaceAll("::before","")),I.includes("::after")&&(I=I.replaceAll("::after","")),D.querySelector(I)||(yield new Promise(E=>{as.has(I)?as.get(I).push(E):(as.set(I,[E]),wI.set(I,p))})));let F=null;if(Za.has(g))F=Za.get(g);else try{if(XR()||(yield KR()),Bi.has(g)){let E=Bi.get(g);if(F=yield new Promise(T=>E.push(T)),!F)return null}else Bi.set(g,[]),F=yield HS(g),Za.set(g,F),FR(g,F),Bi.get(g).forEach(E=>E(F)),Bi.delete(g);if(i())return null}catch(E){Ze(E),Bi.has(g)&&(Bi.get(g).forEach(T=>T(null)),Bi.delete(g))}if(F){let E=d(F,k);if(E)return E}if(g.startsWith("data:")){let E=yield JR(g);if(E)return`url("${E}")`}return`url("${g}")`})},d=(p,g)=>{let{isDark:S,isLight:b,isTransparent:R,isLarge:D,width:A}=p,k,I=p.src.startsWith("data:")?"data:":p.src;return D&&b&&!R&&g.mode===1?(Ui(`Hiding large light image ${I}`),k="none"):S&&R&&g.mode===1&&A>2?(Ui(`Inverting dark image ${I}`),k=`url("${Gf(p,Te(U({},g),{sepia:to(g.sepia+10,0,100)}))}")`):b&&!R&&g.mode===1?(Ui(`Dimming light image ${I}`),k=`url("${Gf(p,g)}")`):g.mode===0&&b?(Ui(`Applying filter to image ${I}`),k=`url("${Gf(p,Te(U({},g),{brightness:to(g.brightness-10,5,200),sepia:to(g.sepia+10,0,100)}))}")`):(Ui(`Not modifying the image ${I}`),k=null),k},h=[],m=0,_=!1;return a.forEach(({type:p,match:g,index:S,typeGradient:b,hasComma:R,offset:D},A)=>{let k=S,I=m,F=k+g.length+D;m=F,I!==k&&(_?h.push(()=>{let E=t.substring(I,k);return E[0]===","&&(E=E.substring(1)),E}):h.push(()=>t.substring(I,k))),_=R||!1,p==="url"?h.push(c(g)):p==="gradient"&&h.push(l({match:g,index:S,typeGradient:b,hasComma:R||!1,offset:D})),A===a.length-1&&h.push(()=>t.substring(F))}),p=>{let g=h.filter(Boolean).map(b=>b(p));if(g.some(b=>b instanceof Promise))return Promise.all(g).then(b=>b.filter(Boolean).join(""));let S=g.join("");return S.endsWith(", initial")?S.slice(0,-9):S}}catch(r){return Ze(`Unable to parse gradient ${t}`,r),null}}function XS(t){try{let n=0,e=og(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,t,2),i=0,r=e.map((o,s)=>{let a=n,l=t.indexOf(o,n),c=l+o.length;n=c;let d=Ut(o);return d?h=>`${t.substring(a,l)}${pI(d,h)}${s===e.length-1?t.substring(c):""}`:(i++,()=>t.substring(a,c))});return o=>{let s=r.map(a=>a(o)).join("");return{matchesLength:e.length,unparsableMatchesLength:i,result:s}}}catch(n){return Ze(`Unable to parse shadow ${t}`,n),null}}function DI(t){let n=XS(t);return n?e=>n(e).result:null}function EI(t){let n=t.match(/^\s*([a-z]+(\(.*\))?)\s+([a-z]+(\(.*\))?)\s*$/);if(!n)return t;let e=Ut(n[1]),i=Ut(n[3]);return!e||!i?(Ze("Couldn't parse color",...[e,i].filter(r=>!r)),null):r=>`${un(e,r)} ${qt(e,r)}`}function xI(){return t=>t.mode===0?"dark light":"dark"}function AI(t,n,e,i,r,o){return t.getModifierForVariable({varName:n,sourceValue:e,rule:i,ignoredImgSelectors:r,isCancelled:o})}function kI(t,n,e){return t.getModifierForVarDependant(n,e)}function TI(){oI(),Za.clear(),eI(),Bi.clear(),as.clear(),el?.disconnect(),el=null}var xn=1,Xo=2,Zo=4,Wa=8,vg=class{constructor(){this.varTypes=new Map,this.rulesQueue=new Set,this.inlineStyleQueue=[],this.definedVars=new Set,this.varRefs=new Map,this.unknownColorVars=new Set,this.unknownBgVars=new Set,this.undefinedVars=new Set,this.initialVarTypes=new Map,this.changedTypeVars=new Set,this.typeChangeSubscriptions=new Map,this.unstableVarValues=new Map}clear(){this.varTypes.clear(),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0),this.definedVars.clear(),this.varRefs.clear(),this.unknownColorVars.clear(),this.unknownBgVars.clear(),this.undefinedVars.clear(),this.initialVarTypes.clear(),this.changedTypeVars.clear(),this.typeChangeSubscriptions.clear(),this.unstableVarValues.clear()}isVarType(n,e){return this.varTypes.has(n)&&(this.varTypes.get(n)&e)>0}addRulesForMatching(n){this.rulesQueue.add(n)}addInlineStyleForMatching(n){this.inlineStyleQueue.push(n)}matchVariablesAndDependents(){this.rulesQueue.size===0&&this.inlineStyleQueue.length===0||(this.changedTypeVars.clear(),this.initialVarTypes=new Map(this.varTypes),this.collectRootVariables(),this.collectVariablesAndVarDep(),this.collectRootVarDependents(),this.varRefs.forEach((n,e)=>{n.forEach(i=>{this.varTypes.has(e)&&this.resolveVariableType(i,this.varTypes.get(e))})}),this.unknownColorVars.forEach(n=>{this.unknownBgVars.has(n)?(this.unknownColorVars.delete(n),this.unknownBgVars.delete(n),this.resolveVariableType(n,xn)):this.isVarType(n,xn|Xo|Zo)?this.unknownColorVars.delete(n):this.undefinedVars.add(n)}),this.unknownBgVars.forEach(n=>{this.findVarRef(n,i=>this.unknownColorVars.has(i)||this.isVarType(i,xn|Xo|Zo))!=null?this.iterateVarRefs(n,i=>{this.resolveVariableType(i,xn)}):this.isVarType(n,xn|Wa)?this.unknownBgVars.delete(n):this.undefinedVars.add(n)}),this.changedTypeVars.forEach(n=>{this.typeChangeSubscriptions.has(n)&&this.typeChangeSubscriptions.get(n).forEach(e=>{e()})}),this.changedTypeVars.clear())}getModifierForVariable(n){return e=>{let{varName:i,sourceValue:r,rule:o,ignoredImgSelectors:s,isCancelled:a}=n,l=()=>{let m=[],_=(p,g,S)=>{if(!this.isVarType(i,p))return;let b=g(i),R;if(Qr(r))if(iS(r)){let D=yg(r,this.unstableVarValues);D||(D=p===xn?"#ffffff":"#000000"),R=S(D,e)}else R=pr(r,D=>g(D),D=>S(D,e));else R=S(r,e);m.push({property:b,value:R})};if(_(xn,Ga,Xr),_(Xo,Xf,Ya),_(Zo,Zf,iu),this.isVarType(i,Wa)){let p=nS(i),g=r;Qr(r)&&(g=pr(r,b=>Ga(b),b=>Xr(b,e)));let S=KS(g,o,s,a);g=typeof S=="function"?S(e):S,m.push({property:p,value:g})}return m},c=new Set,d=m=>{let _=()=>{let p=l();m(p)};c.add(_),this.subscribeForVarTypeChange(i,_)},h=()=>{c.forEach(m=>{this.unsubscribeFromVariableTypeChanges(i,m)})};return{declarations:l(),onTypeChange:{addListener:d,removeListeners:h}}}}getModifierForVarDependant(n,e){let i=e.match(/^\s*(rgb|hsl)a?\(/),r=e.match(/^rgba?\(var\(--[\-_A-Za-z0-9]+\)(\s*,?\/?\s*0?\.\d+)?\)$/);if(i&&!r){let o=n.startsWith("background"),s=Qf(n);return a=>{let l=yg(e,this.unstableVarValues);return l||(l=o?"#ffffff":"#000000"),(o?Xr:s?Ya:iu)(l,a)}}return n==="background-color"||r&&n==="background"?o=>{let s=Xr(i?"255, 255, 255":"#ffffff",o);return pr(e,a=>Ga(a),a=>Xr(a,o),s)}:Qf(n)?o=>{let s=Ya(i?"0, 0, 0":"#000000",o);return pr(e,a=>Xf(a),a=>Ya(a,o),s)}:n==="background"||n==="background-image"||n==="box-shadow"?o=>{let s=new Set,a=()=>{let c=pr(e,d=>this.isVarType(d,xn)?Ga(d):this.isVarType(d,Wa)?nS(d):(s.add(d),d),d=>Xr(d,o));if(n==="box-shadow"){let h=XS(c)(o);if(h.unparsableMatchesLength!==h.matchesLength)return h.result}return c},l=a();return s.size>0?l.match(/^var\(.*?, (var\(--darkreader-bg--.*\))|(#[0-9A-Fa-f]+)|([a-z]+)|(rgba?\(.+\))|(hsla?\(.+\))\)$/)?l:new Promise(d=>{for(let h of s.values()){let m=()=>{this.unsubscribeFromVariableTypeChanges(h,m);let _=a();d(_)};this.subscribeForVarTypeChange(h,m)}}):l}:n.startsWith("border")||n.startsWith("outline")?o=>pr(e,s=>Zf(s),s=>iu(s,o)):null}subscribeForVarTypeChange(n,e){this.typeChangeSubscriptions.has(n)||this.typeChangeSubscriptions.set(n,new Set);let i=this.typeChangeSubscriptions.get(n);i.has(e)||i.add(e)}unsubscribeFromVariableTypeChanges(n,e){this.typeChangeSubscriptions.has(n)&&this.typeChangeSubscriptions.get(n).delete(e)}collectVariablesAndVarDep(){this.rulesQueue.forEach(n=>{eo(n,e=>{e.style&&this.collectVarsFromCSSDeclarations(e.style)})}),this.inlineStyleQueue.forEach(n=>{this.collectVarsFromCSSDeclarations(n)}),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0)}collectVarsFromCSSDeclarations(n){ns(n,(e,i)=>{nu(e)&&this.inspectVariable(e,i),Qr(i)&&this.inspectVarDependant(e,i)})}shouldProcessRootVariables(){return this.rulesQueue.size>0&&document.documentElement.getAttribute("style")?.includes("--")}collectRootVariables(){this.shouldProcessRootVariables()&&ns(document.documentElement.style,(n,e)=>{nu(n)&&this.inspectVariable(n,e)})}inspectVariable(n,e){if(this.unstableVarValues.set(n,e),Qr(e)&&iS(e)&&(this.unknownColorVars.add(n),this.definedVars.add(n)),this.definedVars.has(n))return;this.definedVars.add(n),!!(e.match(JS)||e.match(eC)||Ut(e))?this.unknownColorVars.add(n):(e.includes("url(")||e.includes("linear-gradient(")||e.includes("radial-gradient("))&&this.resolveVariableType(n,Wa)}resolveVariableType(n,e){let i=this.initialVarTypes.get(n)||0,o=(this.varTypes.get(n)||0)|e;this.varTypes.set(n,o),(o!==i||this.undefinedVars.has(n))&&(this.changedTypeVars.add(n),this.undefinedVars.delete(n)),this.unknownColorVars.delete(n),this.unknownBgVars.delete(n)}collectRootVarDependents(){this.shouldProcessRootVariables()&&ns(document.documentElement.style,(n,e)=>{Qr(e)&&this.inspectVarDependant(n,e)})}inspectVarDependant(n,e){nu(n)?this.iterateVarDeps(e,i=>{this.varRefs.has(n)||this.varRefs.set(n,new Set),this.varRefs.get(n).add(i)}):n==="background-color"||n==="box-shadow"?this.iterateVarDeps(e,i=>this.resolveVariableType(i,xn)):Qf(n)?this.iterateVarDeps(e,i=>this.resolveVariableType(i,Xo)):n.startsWith("border")||n.startsWith("outline")?this.iterateVarDeps(e,i=>this.resolveVariableType(i,Zo)):(n==="background"||n==="background-image")&&this.iterateVarDeps(e,i=>{if(this.isVarType(i,xn|Wa))return;let r=this.findVarRef(i,o=>this.unknownColorVars.has(o)||this.isVarType(o,xn|Xo|Zo))!=null;this.iterateVarRefs(i,o=>{r?this.resolveVariableType(o,xn):this.unknownBgVars.add(o)})})}iterateVarDeps(n,e){let i=new Set;OI(n,r=>i.add(r)),i.forEach(r=>e(r))}findVarRef(n,e,i=new Set){if(i.has(n))return null;if(i.add(n),e(n))return n;let o=this.varRefs.get(n);if(!o||o.size===0)return null;for(let s of o){let a=this.findVarRef(s,e,i);if(a)return a}return null}iterateVarRefs(n,e){this.findVarRef(n,i=>(e(i),!1))}setOnRootVariableChange(n){this.onRootVariableDefined=n}putRootVars(n,e){let i=n.sheet;i.cssRules.length>0&&i.deleteRule(0);let r=new Map;ns(document.documentElement.style,(a,l)=>{nu(a)&&(this.isVarType(a,xn)&&r.set(Ga(a),Xr(l,e)),this.isVarType(a,Xo)&&r.set(Xf(a),Ya(l,e)),this.isVarType(a,Zo)&&r.set(Zf(a),iu(l,e)),this.subscribeForVarTypeChange(a,this.onRootVariableDefined))});let o=[];o.push(":root {");for(let[a,l]of r)o.push(`    ${a}: ${l};`);o.push("}");let s=o.join(`
`);i.insertRule(s)}},bt=new vg;function RI(t,n=0){let e=t.indexOf("var(",n);if(e>=0){let i=Fg(t,e+3);if(i)return{start:e,end:i.end}}return null}function II(t){let n=[],e=0,i;for(;i=RI(t,e);){let{start:r,end:o}=i;n.push({start:r,end:o,value:t.substring(r,o)}),e=i.end+1}return n}function ZS(t,n){let e=II(t),i=e.length;if(i===0)return t;let r=t.length,o=e.map(a=>n(a.value,e.length)),s=[];s.push(t.substring(0,e[0].start));for(let a=0;a<i;a++){s.push(o[a]);let l=e[a].end,c=a<i-1?e[a+1].start:r;s.push(t.substring(l,c))}return s.join("")}function QS(t){let n=t.indexOf(","),e,i;return n>=0?(e=t.substring(4,n).trim(),i=t.substring(n+1,t.length-1).trim()):(e=t.substring(4,t.length-1).trim(),i=""),{name:e,fallback:i}}function pr(t,n,e,i){return ZS(t,o=>{let{name:s,fallback:a}=QS(o),l=n(s);if(!a)return i?`var(${l}, ${i})`:`var(${l})`;let c;return Qr(a)?c=pr(a,n,e):e?c=e(a):c=a,`var(${l}, ${c})`})}function OI(t,n){pr(t,e=>(n(e),e))}function Ga(t){return`--darkreader-bg${t}`}function Xf(t){return`--darkreader-text${t}`}function Zf(t){return`--darkreader-border${t}`}function nS(t){return`--darkreader-bgimg${t}`}function nu(t){return t.startsWith("--")}function Qr(t){return t.includes("var(")}function iS(t){return t.match(/^\s*(rgb|hsl)a?\(/)||t.match(/^(((\d{1,3})|(var\([\-_A-Za-z0-9]+\))),?\s*?){3}$/)}var MI=["color","caret-color","-webkit-text-fill-color","fill","stroke"];function Qf(t){return MI.includes(t)}var JS=/^(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})$/,eC=/^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/;function FI(t){let n=t.match(JS)??t.match(eC);return n?{isRaw:!0,color:`rgb(${n[1]}, ${n[2]}, ${n[3]})`}:{isRaw:!1,color:t}}function qg(t,n,e){let{isRaw:i,color:r}=FI(t),o=Ut(r);if(o){let s=e(o,n,!i);if(i){let a=Ut(s);return a?`${a.r}, ${a.g}, ${a.b}`:s}return s}return r}function Xr(t,n){return qg(t,n,qt)}function Ya(t,n){return qg(t,n,un)}function iu(t,n){return qg(t,n,us)}function yg(t,n,e=new Set){let i=!1,o=ZS(t,(s,a)=>{let{name:l,fallback:c}=QS(s),d=a>1?new Set(e):e;if(d.has(l))return i=!0,null;d.add(l);let h=n.get(l)||c,m=null;return h&&(Qr(h)?m=yg(h,n,d):m=h),m||(i=!0,null)});return i?null:o}var PI=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function LI(t){let n="";return PI.forEach(e=>{n+=`${e}:${t[e]};`}),n}var NI=uR();function Kg(){let t=0;function n(d){let h=d.cssText;return ag(d.parentRule)&&(h=`${d.parentRule.media.mediaText} { ${h} }`),gS(h)}let e=new Set,i=new Map,r=new Set,o=null,s=!1,a=!1;function l(){return s&&!a}function c(d){let h=d.sourceCSSRules,{theme:m,ignoreImageAnalysis:_,force:p,prepareSheet:g,isAsyncCancelled:S}=d,b=i.size===0,R=new Set(i.keys()),D=LI(m),A=D!==o;s&&(a=!0);let k=[];if(eo(h,G=>{let K=n(G),re=!1;if(R.delete(K),e.has(K)||(e.add(K),re=!0),re)b=!0;else{k.push(i.get(K));return}if(G.style.all==="revert")return;let N=[];G.style&&ns(G.style,(w,L)=>{let O=YS(w,L,G,bt,_,S);O&&N.push(O)});let B=null;if(N.length>0){let w=G.parentRule;B={selector:G.selectorText,declarations:N,parentRule:w},k.push(B)}i.set(K,B)},()=>{s=!0}),R.forEach(G=>{e.delete(G),i.delete(G)}),o=D,!p&&!b&&!A)return;t++;function I(G,K,re){let{selector:N,declarations:B}=re,w=N,L=Og&&N.startsWith(":is(")&&(N.includes(":is()")||N.includes(":where()")||N.includes(":where(")&&N.includes(":-moz")),O=N.includes("::view-transition-");(L||O)&&(w=".darkreader-unsupported-selector");let V=`${w} {`;for(let q of B){let{property:Z,value:ee,important:de}=q;ee&&(V+=` ${Z}: ${ee}${de?" !important":""};`)}V+=" }",G.insertRule(V,K)}let F=new Map,E=new Map,T=0,P=0,z={rule:null,rules:[],isGroup:!0},W=new WeakMap;function ie(G){if(G==null)return z;if(W.has(G))return W.get(G);let K={rule:G,rules:[],isGroup:!0};return W.set(G,K),ie(G.parentRule).rules.push(K),K}r.forEach(G=>G()),r.clear(),k.filter(G=>G).forEach(({selector:G,declarations:K,parentRule:re})=>{let N=ie(re),B={selector:G,declarations:[],isGroup:!1},w=B.declarations;N.rules.push(B);function L(V,q,Z,ee){let de=++T,ze={property:V,value:null,important:Z,asyncKey:de,sourceValue:ee};w.push(ze);let Oe=t;q.then(We=>{!We||S()||Oe!==t||(ze.value=We,NI.add(()=>{S()||Oe!==t||Ie(de)}))})}function O(V,q,Z,ee){let{declarations:de,onTypeChange:ze}=q,Oe=++P,We=t,xe=w.length,tt=[];if(de.length===0){let nt={property:V,value:ee,important:Z,sourceValue:ee,varKey:Oe};w.push(nt),tt=[nt]}de.forEach(nt=>{if(nt.value instanceof Promise)L(nt.property,nt.value,Z,ee);else{let ht={property:nt.property,value:nt.value,important:Z,sourceValue:ee,varKey:Oe};w.push(ht),tt.push(ht)}}),ze.addListener(nt=>{if(S()||We!==t)return;let ht=nt.map(it=>({property:it.property,value:it.value,important:Z,sourceValue:ee,varKey:Oe})),Ot=w.indexOf(tt[0],xe);w.splice(Ot,tt.length,...ht),tt=ht,Re(Oe)}),r.add(()=>ze.removeListeners())}K.forEach(({property:V,value:q,important:Z,sourceValue:ee})=>{if(typeof q=="function"){let de=q(m);de instanceof Promise?L(V,de,Z,ee):V.startsWith("--")?O(V,de,Z,ee):w.push({property:V,value:de,important:Z,sourceValue:ee})}else w.push({property:V,value:q,important:Z,sourceValue:ee})})});let ae=g();function Ee(){function G(re,N){let{rule:B}=re;if(ag(B)){let{media:w}=B,L=N.cssRules.length;return N.insertRule(`@media ${w.mediaText} {}`,L),N.cssRules[L]}if(NS(B)){let{name:w}=B,L=N.cssRules.length;return N.insertRule(`@layer ${w} {}`,L),N.cssRules[L]}return N}function K(re,N,B){re.rules.forEach(w=>{if(w.isGroup){let L=G(w,N);K(w,L,B)}else B(w,N)})}K(z,ae,(re,N)=>{let B=N.cssRules.length;re.declarations.forEach(({asyncKey:w,varKey:L})=>{w!=null&&F.set(w,{rule:re,target:N,index:B}),L!=null&&E.set(L,{rule:re,target:N,index:B})}),I(N,B,re)})}function Ie(G){let{rule:K,target:re,index:N}=F.get(G);re.deleteRule(N),I(re,N,K),F.delete(G)}function Re(G){let{rule:K,target:re,index:N}=E.get(G);re.deleteRule(N),I(re,N,K)}Ee()}return{modifySheet:c,shouldRebuildStyle:l}}var cu=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>cu=!0,{once:!0});var qa=new WeakSet,Jf=new WeakMap;function VI(t){return Array.isArray(t.adoptedStyleSheets)}function BI(t){let n=!1;function e(D){t.adoptedStyleSheets.forEach(A=>{qa.has(A)||D(A),VS(A,t)})}function i(D,A){let k=[...t.adoptedStyleSheets],I=k.indexOf(D),F=k.indexOf(A);F>=0&&k.splice(F,1),k.splice(I+1,0,A),t.adoptedStyleSheets=k}function r(){let D=[...t.adoptedStyleSheets];for(let A=D.length-1;A>=0;A--){let k=D[A];qa.has(k)&&D.splice(A,1)}t.adoptedStyleSheets.length!==D.length&&(t.adoptedStyleSheets=D),c=new WeakSet,d=new WeakSet}let o=[];function s(){o.forEach(D=>D()),o.splice(0),n=!0,r(),g&&(cancelAnimationFrame(g),g=null)}let a=0;function l(){let D=0;if(e(A=>{D+=A.cssRules.length}),D===1){let A=t.adoptedStyleSheets[0].cssRules[0];return A instanceof CSSStyleRule?A.style.length:D}return D}let c=new WeakSet,d=new WeakSet;function h(D,A){r();for(let k=t.adoptedStyleSheets.length-1;k>=0;k--){let I=t.adoptedStyleSheets[k];if(qa.has(I))continue;c.add(I);let F=Jf.get(I);if(F){a=l(),i(I,F);continue}let E=I.cssRules,T=new CSSStyleSheet;Jf.set(I,T),eo(E,W=>d.add(W.style));let P=()=>{for(let W=T.cssRules.length-1;W>=0;W--)T.deleteRule(W);return T.insertRule("#__darkreader__adoptedOverride {}"),i(I,T),qa.add(T),T};Kg().modifySheet({prepareSheet:P,sourceCSSRules:E,theme:D,ignoreImageAnalysis:A,force:!1,isAsyncCancelled:()=>n})}a=l()}let m=!1;function _(D){m||(m=!0,queueMicrotask(()=>{m=!1;let A=t.adoptedStyleSheets.filter(k=>!qa.has(k));A.forEach(k=>Jf.delete(k)),D(A)}))}function p(){return l()!==a}let g=null;function S(D){g=requestAnimationFrame(()=>{cu||(p()&&_(D),S(D))})}function b(D,A){t.addEventListener(D,A),o.push(()=>t.removeEventListener(D,A))}function R(D){let A=()=>{cu=!0,_(D)};b("__darkreader__adoptedStyleSheetsChange",A),b("__darkreader__adoptedStyleSheetChange",A),b("__darkreader__adoptedStyleDeclarationChange",A),!cu&&S(D)}return{render:h,destroy:s,watch:R}}var Sg=class t{constructor(){this.cssRules=[],this.commands=[]}insertRule(n,e=0){return this.commands.push({type:"insert",index:e,cssText:n}),this.cssRules.splice(e,0,new t),e}deleteRule(n){this.commands.push({type:"delete",index:n}),this.cssRules.splice(n,1)}replaceSync(n){if(this.commands.splice(0),this.commands.push({type:"replace",cssText:n}),n==="")this.cssRules.splice(0);else throw new Error("StyleSheetCommandBuilder.replaceSync() is not fully supported")}getDeepCSSCommands(){let n=[];return this.commands.forEach(e=>{n.push({type:e.type,cssText:e.type!=="delete"?e.cssText:"",path:e.type==="replace"?[]:[e.index]})}),this.cssRules.forEach((e,i)=>{e.getDeepCSSCommands().forEach(o=>o.path.unshift(i))}),n}clearDeepCSSCommands(){this.commands.splice(0),this.cssRules.forEach(n=>n.clearDeepCSSCommands())}};function jI(){let t=!1,n=new Sg;function e(o){let s=()=>(n.replaceSync(""),n);Kg().modifySheet({prepareSheet:s,sourceCSSRules:o.cssRules,theme:o.theme,ignoreImageAnalysis:o.ignoreImageAnalysis,force:!1,isAsyncCancelled:()=>t})}function i(){let o=n.getDeepCSSCommands();return n.clearDeepCSSCommands(),o}function r(){t=!0}return{render:e,destroy:r,commands:i}}var es={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},Cg={background:{customProp:"--darkreader-inline-bg",cssProp:"background",dataAttr:"data-darkreader-inline-bg"},border:{customProp:"--darkreader-inline-border-short",cssProp:"border",dataAttr:"data-darkreader-inline-border-short"},"border-bottom":{customProp:"--darkreader-inline-border-bottom-short",cssProp:"border-bottom",dataAttr:"data-darkreader-inline-border-bottom-short"},"border-left":{customProp:"--darkreader-inline-border-left-short",cssProp:"border-left",dataAttr:"data-darkreader-inline-border-left-short"},"border-right":{customProp:"--darkreader-inline-border-right-short",cssProp:"border-right",dataAttr:"data-darkreader-inline-border-right-short"},"border-top":{customProp:"--darkreader-inline-border-top-short",cssProp:"border-top",dataAttr:"data-darkreader-inline-border-top-short"}},Xg=Object.values(es),wg={};Xg.forEach(({cssProp:t,customProp:n})=>wg[n]=t);var Su=["style","fill","stop-color","stroke","bgcolor","color","background"],al=Su.map(t=>`[${t}]`).join(", ");function tC(){return Xg.concat(Object.values(Cg)).map(({dataAttr:n,customProp:e,cssProp:i})=>[`[${n}] {`,`  ${i}: var(${e}) !important;`,"}"].join(`
`)).concat(["[data-darkreader-inline-invert] {","    filter: invert(100%) hue-rotate(180deg);","}"]).join(`
`)}function UI(t){let n=[];return t instanceof Element&&t.matches(al)&&n.push(t),(t instanceof Element||cS&&t instanceof ShadowRoot||t instanceof Document)&&Pg(n,t.querySelectorAll(al)),n}var tl=new Map,Cu=new Map;function $I(t,n){Dg(document,t,n),hs(document.documentElement,e=>{Dg(e.shadowRoot,t,n)})}function Dg(t,n,e){tl.has(t)&&(tl.get(t).disconnect(),Cu.get(t).disconnect());let i=new WeakSet;function r(g){UI(g).forEach(S=>{i.has(S)||(i.add(S),n(S))}),hs(g,S=>{i.has(g)||(i.add(g),e(S.shadowRoot),Dg(S.shadowRoot,n,e))}),bt.matchVariablesAndDependents()}let o=OS(t,{onMinorMutations:(g,{additions:S})=>{S.forEach(b=>r(b))},onHugeMutations:()=>{r(t)}});tl.set(t,o);let s=0,a=null,l=mu({seconds:10}),c=mu({seconds:2}),d=50,h=[],m=null,_=Ng(g=>{let S=new Set;g.forEach(b=>{let R=b.target;S.has(R)||Su.includes(b.attributeName)&&(S.add(R),n(R))}),bt.matchVariablesAndDependents()}),p=new MutationObserver(g=>{if(m){h.push(...g);return}s++;let S=Date.now();if(a==null)a=S;else if(s>=d){if(S-a<l){m=setTimeout(()=>{a=null,s=0,m=null;let b=h;h=[],_(b)},c),h.push(...g);return}a=S,s=1}_(g)});p.observe(t,{attributes:!0,attributeFilter:Su.concat(Xg.map(({dataAttr:g})=>g)),subtree:!0}),Cu.set(t,p)}function HI(){tl.forEach(t=>t.disconnect()),Cu.forEach(t=>t.disconnect()),tl.clear(),Cu.clear()}var eg=new WeakMap,rS=new WeakSet,tg=new WeakMap,zI=["brightness","contrast","grayscale","sepia","mode"];function WI(t){if(tg.has(t))return tg.get(t);let n=!!(t&&(t.getAttribute("class")?.includes("logo")||t.parentElement?.getAttribute("class")?.includes("logo")));return tg.set(t,n),n}function ng(t,n){return Su.map(e=>`${e}="${t.getAttribute(e)}"`).concat(zI.map(e=>`${e}="${n[e]}"`)).join(" ")}function GI(t,n){for(let e=0,i=n.length;e<i;e++){let r=n[e];if(t.matches(r))return!0}return!1}function Eg(t,n,e,i){if(ng(t,n)===eg.get(t))return;let o=new Set(Object.keys(es));function s(c,d,h){let m=YS(d,h,{style:t.style},bt,i,null);if(!m)return;function _(b){let{customProp:R,dataAttr:D}=es[c]??Cg[c];t.style.setProperty(R,b),t.hasAttribute(D)||t.setAttribute(D,""),o.delete(c)}function p(b){let R=[];function D(A){R.forEach(({property:k})=>{t.style.removeProperty(k)}),A.forEach(({property:k,value:I})=>{I instanceof Promise||t.style.setProperty(k,I)}),R=A}D(b.declarations),b.onTypeChange.addListener(D)}function g(b,R){b.then(D=>{D&&c==="background"&&D.startsWith("var(--darkreader-bg--")&&_(D),D&&c==="background-image"&&((t===document.documentElement||t===document.body)&&D===R&&(D="none"),_(D)),eg.set(t,ng(t,n))})}let S=typeof m.value=="function"?m.value(n):m.value;typeof S=="string"?_(S):S instanceof Promise?g(S,h):typeof S=="object"&&p(S)}if(e.length>0&&GI(t,e)){o.forEach(c=>{t.removeAttribute(es[c].dataAttr)});return}let a=t instanceof SVGElement,l=a?t.ownerSVGElement??(t instanceof SVGSVGElement?t:null):null;if(a&&n.mode===1&&l){if(rS.has(l))return;if(WI(l)){rS.add(l);let c=()=>{let d=l.outerHTML;d=d.replaceAll('<style class="darkreader darkreader--sync" media="screen"></style>',"");let h=`data:image/svg+xml;base64,${btoa(d)}`;HS(h).then(m=>{m.isDark&&m.isTransparent||m.isLarge&&m.isLight&&!m.isTransparent?l.setAttribute("data-darkreader-inline-invert",""):l.removeAttribute("data-darkreader-inline-invert")})};c(),gr()||Bg(c);return}}if(t.hasAttribute("bgcolor")){let c=t.getAttribute("bgcolor");(c.match(/^[0-9a-f]{3}$/i)||c.match(/^[0-9a-f]{6}$/i))&&(c=`#${c}`),s("background-color","background-color",c)}if((t===document.documentElement||t===document.body)&&t.hasAttribute("background")){let d=`url("${Au(location.href,t.getAttribute("background")??"")}")`;s("background-image","background-image",d)}if(t.hasAttribute("color")&&t.rel!=="mask-icon"){let c=t.getAttribute("color");(c.match(/^[0-9a-f]{3}$/i)||c.match(/^[0-9a-f]{6}$/i))&&(c=`#${c}`),s("color","color",c)}if(a){if(t.hasAttribute("fill")){let d=t.getAttribute("fill");if(d!=="none")if(t instanceof SVGTextElement)s("fill","color",d);else{let h=()=>{let{width:m,height:_}=t.getBoundingClientRect(),p=m>32||_>32;s("fill",p?"background-color":"color",d)};Tu()?h():jg(h)}}t.hasAttribute("stop-color")&&s("stop-color","background-color",t.getAttribute("stop-color"))}if(t.hasAttribute("stroke")){let c=t.getAttribute("stroke");s("stroke",t instanceof SVGLineElement||t instanceof SVGTextElement?"border-color":"color",c)}t.style&&ns(t.style,(c,d)=>{if(c==="background-image"&&d.includes("url")){(t===document.documentElement||t===document.body)&&s(c,c,d);return}if(es.hasOwnProperty(c)||c.startsWith("--")&&!wg[c])s(c,c,d);else if(Cg[c]&&d.includes("var("))s(c,c,d);else{let h=wg[c];if(h&&!t.style.getPropertyValue(h)&&!t.hasAttribute(h)){if(h==="background-color"&&t.hasAttribute("bgcolor"))return;t.style.setProperty(c,"")}}}),t.style&&t instanceof SVGTextElement&&t.style.fill&&s("fill","color",t.style.getPropertyValue("fill")),t.getAttribute("style")?.includes("--")&&bt.addInlineStyleForMatching(t.style),Vn(o,c=>{t.removeAttribute(es[c].dataAttr)}),eg.set(t,ng(t,n))}var nC="theme-color",iC=`meta[name="${nC}"]`,nl=null,ji=null;function oS(t,n){nl=nl||t.content;let e=Ut(nl);if(!e){Ze("Invalid meta color",e);return}t.content=qt(e,n,!1)}function YI(t){let n=document.querySelector(iC);n?oS(n,t):(ji&&ji.disconnect(),ji=new MutationObserver(e=>{e:for(let i=0;i<e.length;i++){let{addedNodes:r}=e[i];for(let o=0;o<r.length;o++){let s=r[o];if(s instanceof HTMLMetaElement&&s.name===nC){ji.disconnect(),ji=null,oS(s,t);break e}}}}),ji.observe(document.head,{childList:!0}))}function qI(){ji&&(ji.disconnect(),ji=null);let t=document.querySelector(iC);t&&nl&&(t.content=nl)}var KI=/\/\*[\s\S]*?\*\//g;function rC(t){return t.replace(KI,"")}var wu=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>wu=!0,{once:!0});function XI(t,n,e,i){let r=null;function o(){l(),wu&&t.sheet||(r=ZI(t,n,e,i),r.start())}let s=!1;function a(){if(wu=!0,r?.stop(),s)return;function h(){s=!1,!i()&&e()}s=!0,queueMicrotask(h)}function l(){t.addEventListener("__darkreader__updateSheet",a)}function c(){t.removeEventListener("__darkreader__updateSheet",a)}function d(){c(),r?.stop()}return{start:o,stop:d}}function ZI(t,n,e,i){let r=null,o=null;function s(){let d=n();return d?d.length:null}function a(){return s()!==r}function l(){r=s(),c();let d=()=>{let h=i();if(!h&&a()&&(r=s(),e()),h||wu&&t.sheet){c();return}o=requestAnimationFrame(d)};d()}function c(){o&&cancelAnimationFrame(o)}return{start:l,stop:c}}var QI='style, link[rel*="stylesheet" i]:not([disabled])';function JI(t){if(!t.href)return!1;try{return new URL(t.href).hostname==="fonts.googleapis.com"}catch{return Ui(`Couldn't construct ${t.href} as URL`),!1}}var eO=["account.containerstore.com","containerstore.com","www.onet.pl"];function oC(t){return(t instanceof HTMLStyleElement||t instanceof SVGStyleElement&&!eO.includes(location.hostname)||t instanceof HTMLLinkElement&&!!t.rel&&t.rel.toLowerCase().includes("stylesheet")&&!!t.href&&!t.disabled&&(dl?!t.href.startsWith("moz-extension://"):!0)&&!JI(t))&&!t.classList.contains("darkreader")&&t.media.toLowerCase()!=="print"&&!t.classList.contains("stylus")}function fr(t,n=[],e=!0){return oC(t)?n.push(t):(t instanceof Element||cS&&t instanceof ShadowRoot||t===document)&&(Vn(t.querySelectorAll(QI),i=>fr(i,n,!1)),e&&hs(t,i=>fr(i.shadowRoot,n,!1))),n}var sS=new WeakSet,sC=new WeakSet,tO=0,ls=new Map;function nO(){ls.clear()}function iO(t,{update:n,loadingStart:e,loadingEnd:i}){let r=[],o=t;for(;(o=o.nextElementSibling)&&o.matches(".darkreader");)r.push(o);let s=r.find(w=>w.matches(".darkreader--cors")&&!sC.has(w))||null,a=r.find(w=>w.matches(".darkreader--sync")&&!sS.has(w))||null,l=null,c=null,d=!1,h=!0,m=()=>d,_=Kg(),p=new MutationObserver(w=>{if(w.some(L=>L.type==="characterData")&&S()){let L=(t.textContent??"").trim();T(L,location.href).then(n)}else n()}),g={attributes:!0,childList:!0,subtree:!0,characterData:!0};function S(){return t instanceof HTMLStyleElement?rC(t.textContent??"").trim().match(PS):!1}function b(w,L){let O=!1;if(w){let V;e:for(let q=0,Z=w.length;q<Z;q++)if(V=w[q],V.href)if(L){if(!V.href.startsWith("https://fonts.googleapis.com/")&&V.href.startsWith("http")&&!V.href.startsWith(location.origin)){O=!0;break e}}else{O=!0;break e}}return O}function R(){if(s)return s.sheet.cssRules;if(S())return null;let w=Ee();return t instanceof HTMLLinkElement&&!UT(t.href)&&b(w,!1)||b(w,!0)?null:(!w&&Ze("[getRulesSync] cssRules is null, trying again."),w)}function D(){s?(t.nextSibling!==s&&t.parentNode.insertBefore(s,t.nextSibling),s.nextSibling!==a&&t.parentNode.insertBefore(a,s.nextSibling)):t.nextSibling!==a&&t.parentNode.insertBefore(a,t.nextSibling)}function A(){a=t instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style"),a.classList.add("darkreader"),a.classList.add("darkreader--sync"),a.media="screen",t.title&&(a.title=t.title),sS.add(a)}let k=!1,I=!1,F=++tO;function E(){return ot(this,null,function*(){let w,L;if(t instanceof HTMLLinkElement){let[O,V]=ie();if(V&&Ze(V),fu&&!t.sheet||!fu&&!O&&!V||ae(V)){try{Ui(`Linkelement ${F} is not loaded yet and thus will be await for`,t),yield rO(t,F)}catch(q){Ze(q),I=!0}if(d)return null;[O,V]=ie(),V&&Ze(V)}if(O&&!b(O,!1))return O;if(w=yield aC(t.href),L=vu(t.href),d)return null}else if(S())w=t.textContent.trim(),L=vu(location.href);else return null;return yield T(w,L),s?s.sheet.cssRules:null})}function T(w,L){return ot(this,null,function*(){if(w){try{let O=yield lC(w,L);s?(s.textContent?.length??0)<O.length&&(s.textContent=O):s=sO(t,O)}catch(O){Ze(O)}s&&(l=sg(s,"prev-sibling"))}})}function P(w){let L=R();return L?{rules:L}:w.secondRound?(Ze("Detected dead-lock at details(), returning early to prevent it."),null):(k||I||(k=!0,e(),E().then(O=>{k=!1,i(),O&&n()}).catch(O=>{Ze(O),k=!1,i()})),null)}let z=!1;function W(w,L){let O=R();if(!O)return;d=!1;function V(ee){if(ee)for(let de=ee.cssRules.length-1;de>=0;de--)ee.deleteRule(de)}function q(){a||A(),c&&c.stop(),D(),a.sheet==null&&(a.textContent="");let ee=a.sheet;return V(ee),c?c.run():c=sg(a,"prev-sibling",()=>{z=!0,Z()}),a.sheet}function Z(){let ee=z;z=!1,_.modifySheet({prepareSheet:q,sourceCSSRules:O,theme:w,ignoreImageAnalysis:L,force:ee,isAsyncCancelled:m}),h=a.sheet.cssRules.length===0,_.shouldRebuildStyle()&&jg(()=>n())}Z()}function ie(){try{return t.sheet==null?[null,null]:[t.sheet.cssRules,null]}catch(w){return[null,w]}}function ae(w){return w&&w.message&&w.message.includes("loading")}function Ee(){let[w,L]=ie();return L?(Ze(L),null):w}let Ie=XI(t,Ee,n,m);function Re(){p.disconnect(),d=!0,l&&l.stop(),c&&c.stop(),Ie.stop()}function G(){if(Re(),$i(s),$i(a),i(),ls.has(F)){let w=ls.get(F);ls.delete(F),w&&w()}}function K(){p.observe(t,g),t instanceof HTMLStyleElement&&Ie.start()}let re=10,N=0;function B(){if(a){if(N++,N>re){Ze("Style sheet was moved multiple times",t);return}Ze("Restore style",a,t),D(),l&&l.skip(),c&&c.skip(),h||(z=!0,n())}}return{details:P,render:W,pause:Re,destroy:G,watch:K,restore:B}}function rO(t,n){return ot(this,null,function*(){return new Promise((e,i)=>{let r=()=>{t.removeEventListener("load",o),t.removeEventListener("error",s),ls.delete(n)},o=()=>{r(),e()},s=()=>{r(),i(`Linkelement ${n} couldn't be loaded. ${t.href}`)};ls.set(n,()=>{r(),i()}),t.addEventListener("load",o,{passive:!0}),t.addEventListener("error",s,{passive:!0}),t.href||s()})})}function oO(t){return Ug(t.substring(7).trim().replace(/;$/,"").replace(/screen$/,""))}function aC(t){return ot(this,null,function*(){if(t.startsWith("data:"))return yield(yield fetch(t)).text();let n=NR(t);if(n)return n;let e=new URL(t),i;return e.origin===location.origin?i=yield MT(t,"text/css",location.origin):i=yield $S({url:t,responseType:"text",mimeType:"text/css",origin:location.origin}),LR(t,i),i})}function lC(i,r){return ot(this,arguments,function*(t,n,e=new Map){t=rC(t),t=ER(t),t=wR(t,n);let o=VT(PS,t),s=null,a=!1,l=0;for(let c of o){let d,h=s?s.offset+s.text.length:0,m=c.offset,_=t.indexOf("{",h),p=t.indexOf("}",h);if(a||_>=0&&_<m&&p>=0&&p<m)a=!0,d="";else{let g=oO(c.text),S=Au(n,g);if(e.has(S))d=e.get(S);else try{d=yield aC(S),e.set(S,d),d=yield lC(d,vu(S),e)}catch(b){Ze(b),d=""}}t=t.substring(0,c.offset+l)+d+t.substring(c.offset+c.text.length+l),l+=d.length-c.text.length,s=c}return t=t.trim(),t})}function sO(t,n){if(!n)return null;let e=document.createElement("style");return e.classList.add("darkreader"),e.classList.add("darkreader--cors"),e.media="screen",e.textContent=n,t.parentNode.insertBefore(e,t.nextSibling),e.sheet.disabled=!0,sC.add(e),e}function aO(t,n){document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));let e=[];function i(){e.forEach(E=>E()),e.splice(0)}function r(E,T,P){document.addEventListener(E,T,P),e.push(()=>document.removeEventListener(E,T))}function o(){(()=>{window?.WPDarkMode?.deactivate&&window.WPDarkMode.deactivate()})()}r("__darkreader__cleanUp",i),r("__darkreader__disableConflictingPlugins",o);function s(E,T,P){let z=E.prototype,W=Object.getOwnPropertyDescriptor(z,T);if(!W)return;let ie=U({},W);Object.keys(P).forEach(ae=>{let Ee=P[ae];ie[ae]=Ee(W[ae])}),Object.defineProperty(z,T,ie),e.push(()=>Object.defineProperty(z,T,W))}function a(E,T,P){s(E,T,{value:P})}function l(E){return E?.classList?.contains("darkreader")}function c(E){return l(E.ownerNode)}let d=new CustomEvent("__darkreader__updateSheet"),h=new CustomEvent("__darkreader__adoptedStyleSheetChange"),m=new CustomEvent("__darkreader__shadowDomAttaching",{bubbles:!0}),_=new WeakMap,p=new WeakMap;function g(E){let T=_.get(E);T?.forEach(P=>{P.isConnected?P.dispatchEvent(h):T.delete(P)})}function S(E){E.ownerNode&&!c(E)&&E.ownerNode.dispatchEvent(d),_.has(E)&&g(E)}function b(E,T){let{ownerNode:P}=E;P&&!c(E)&&T&&T instanceof Promise&&T.then(()=>P.dispatchEvent(d)),_.has(E)&&T&&T instanceof Promise&&T.then(()=>g(E))}a(CSSStyleSheet,"addRule",E=>function(T,P,z){return E.call(this,T,P,z),S(this),-1}),a(CSSStyleSheet,"insertRule",E=>function(T,P){let z=E.call(this,T,P);return S(this),z}),a(CSSStyleSheet,"deleteRule",E=>function(T){E.call(this,T),S(this)}),a(CSSStyleSheet,"removeRule",E=>function(T){E.call(this,T),S(this)}),a(CSSStyleSheet,"replace",E=>function(T){let P=E.call(this,T);return b(this,P),P}),a(CSSStyleSheet,"replaceSync",E=>function(T){E.call(this,T),S(this)}),a(Element,"attachShadow",E=>function(T){return this.dispatchEvent(m),E.call(this,T)}),(location.hostname==="baidu.com"||location.hostname.endsWith(".baidu.com"))&&a(Element,"getElementsByTagName",E=>function(T){if(T!=="style")return E.call(this,T);let P=()=>{let ie=E.call(this,T);return Object.setPrototypeOf([...ie].filter(ae=>ae&&!l(ae)),NodeList.prototype)},z=P(),W={get:function(ie,ae){return P()[Number(ae)||ae]}};return z=new Proxy(z,W),z}),["brilliant.org","www.vy.no"].includes(location.hostname)&&s(Node,"childNodes",{get:E=>function(){let T=E.call(this);return Object.setPrototypeOf([...T].filter(P=>!l(P)),NodeList.prototype)}});function A(E){customElements.whenDefined(E).then(()=>{document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:E}}))})}r("__darkreader__addUndefinedResolver",E=>A(E.detail.tag)),n&&a(CustomElementRegistry,"define",E=>function(T,P,z){A(T),E.call(this,T,P,z)});let k=null;function I(){if(k!=null){document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:k}}));return}let E='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><rect width="1" height="1" fill="transparent"/></svg>',T=new Uint8Array(E.length);for(let ie=0;ie<E.length;ie++)T[ie]=E.charCodeAt(ie);let P=new Blob([T],{type:"image/svg+xml"}),z=URL.createObjectURL(P),W=new Image;W.onload=()=>{k=!0,F()},W.onerror=()=>{k=!1,F()},W.src=z}function F(){document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:k}}))}r("__darkreader__blobURLCheckRequest",I),t&&s(Document,"styleSheets",{get:E=>function(){let T=()=>{let ie=[...E.call(this)].filter(ae=>ae.ownerNode&&!c(ae));return ie.item=ae=>ie[ae],Object.setPrototypeOf(ie,StyleSheetList.prototype)},P=T(),z={get:function(W,ie){return T()[ie]}};return P=new Proxy(P,z),P}});{let E=new WeakMap,T=new WeakMap,P=new CustomEvent("__darkreader__adoptedStyleSheetsChange"),z=new WeakSet,W=new WeakMap,ie=G=>!G||!G.cssRules?!1:z.has(G)?!0:G.cssRules.length>0&&G.cssRules[0].cssText.startsWith("#__darkreader__adoptedOverride")?(z.add(G),!0):!1,ae=(G,K)=>G.length===K.length&&G.every((re,N)=>re===K[N]),Ee=G=>{let K=W.get(G),re=(G.adoptedStyleSheets||[]).filter(N=>!ie(N));W.set(G,re),(!K||!ae(K,re))&&(re.forEach(N=>{_.has(N)||_.set(N,new Set),_.get(N).add(G);for(let B of N.cssRules){let w=B.style;w&&p.set(w,N)}}),G.dispatchEvent(P))},Ie=(G,K)=>{if(T.has(K))return K;if(E.has(K))return E.get(K);let re=new Proxy(K,{deleteProperty(N,B){return delete N[B],!0},set(N,B,w){return N[B]=w,B==="length"&&Ee(G),!0}});return E.set(K,re),T.set(re,K),re};[Document,ShadowRoot].forEach(G=>{s(G,"adoptedStyleSheets",{get:K=>function(){let re=K.call(this);return Ie(this,re)},set:K=>function(re){T.has(re)&&(re=T.get(re)),K.call(this,re),Ee(this)}})});let Re=new CustomEvent("__darkreader__adoptedStyleDeclarationChange");["setProperty","removeProperty"].forEach(G=>{a(CSSStyleDeclaration,G,K=>function(...re){let N=K.apply(this,re),B=p.get(this);if(B){let w=_.get(B);w&&w.forEach(L=>{L.dispatchEvent(Re)})}return N})})}}var cC=new Set,Jr=new Map,ll;function lO(t){return!!(t.tagName.includes("-")||t.getAttribute("is"))}function dC(t){let n=t.tagName.toLowerCase();if(!n.includes("-")){let e=t.getAttribute("is");if(e)n=e;else return}Jr.has(n)||(Jr.set(n,new Set),cO(n).then(()=>{if(ll){let e=Jr.get(n);Vg("recordUndefinedElement() undefined groups should not be empty",e),Jr.delete(n),ll(Array.from(e))}})),Jr.get(n).add(t)}function ru(t){RT&&Vn(t.querySelectorAll(":not(:defined)"),dC)}var Zg=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>{Zg=!0},{once:!0,passive:!0});var ou=new Set;document.addEventListener("__darkreader__shadowDomAttaching",t=>{let n=t.target;ou.size===0&&queueMicrotask(()=>{let e=[...ou].filter(i=>i.shadowRoot);ll?.(e),ou.clear()}),ou.add(n)});var cs=new Map;function uC(t){Zg=!0;let n=t.detail.tag;if(Vg("handleIsDefined() expects lower-case node names",()=>n.toLowerCase()===n),cC.add(n),cs.has(n)){let e=cs.get(n);cs.delete(n),e.forEach(i=>i())}}function cO(t){return ot(this,null,function*(){if(Vg("customElementsWhenDefined() expects lower-case node names",()=>t.toLowerCase()===t),!cC.has(t))return new Promise(n=>{if(window.customElements&&typeof customElements.whenDefined=="function")customElements.whenDefined(t).then(()=>n());else if(Zg)cs.has(t)?cs.get(t).push(n):cs.set(t,[n]),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:t}}));else{let e=()=>{let i=Jr.get(t);i&&i.size>0&&(i.values().next().value.matches(":defined")?n():requestAnimationFrame(e))};requestAnimationFrame(e)}})})}function dO(t){ll=t}function uO(){ll=null,Jr.clear(),document.removeEventListener("__darkreader__isDefined",uC)}var du=[],uu,xg;function hO(t,n,e){hC();let i=new WeakMap,r=b=>(i.has(b)||i.set(b,new Set),i.get(b));t.forEach(b=>{let R=b;for(;R=R.parentNode;)if(R===document||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r(R).add(b);break}});let o=new WeakMap,s=new WeakMap;function a(b){o.set(b,b.previousElementSibling),s.set(b,b.nextElementSibling)}function l(b){o.delete(b),s.delete(b)}function c(b){return b.previousElementSibling!==o.get(b)||b.nextElementSibling!==s.get(b)}t.forEach(a);function d(b,R){let{createdStyles:D,removedStyles:A,movedStyles:k}=R;D.forEach(F=>a(F)),k.forEach(F=>a(F)),A.forEach(F=>l(F));let I=r(b);D.forEach(F=>I.add(F)),A.forEach(F=>I.delete(F)),D.size+A.size+k.size>0&&n({created:Array.from(D),removed:Array.from(A),moved:Array.from(k),updated:[]})}function h(b,{additions:R,moves:D,deletions:A}){let k=new Set,I=new Set,F=new Set;R.forEach(E=>fr(E).forEach(T=>k.add(T))),A.forEach(E=>fr(E).forEach(T=>I.add(T))),D.forEach(E=>fr(E).forEach(T=>F.add(T))),d(b,{createdStyles:k,removedStyles:I,movedStyles:F}),R.forEach(E=>{S(E),ru(E)}),R.forEach(E=>lO(E)&&dC(E)),R.forEach(E=>_g(E))}function m(b){let R=new Set(fr(b)),D=new Set,A=new Set,k=new Set,I=r(b);R.forEach(F=>{I.has(F)||D.add(F)}),I.forEach(F=>{R.has(F)||A.add(F)}),R.forEach(F=>{!D.has(F)&&!A.has(F)&&c(F)&&k.add(F)}),d(b,{createdStyles:D,removedStyles:A,movedStyles:k}),S(b),ru(b),_g(b)}function _(b){let R=new Set,D=new Set;b.forEach(A=>{let{target:k}=A;k.isConnected&&(oC(k)?R.add(k):k instanceof HTMLLinkElement&&k.disabled&&D.add(k))}),R.size+D.size>0&&n({updated:Array.from(R),created:[],removed:Array.from(D),moved:[]})}function p(b){if(uu.has(b))return;let R=OS(b,{onMinorMutations:h,onHugeMutations:m}),D=new MutationObserver(_);D.observe(b,{attributeFilter:["rel","disabled","media","href"],subtree:!0}),du.push(R,D),uu.add(b)}function g(b){let{shadowRoot:R}=b;R==null||uu.has(R)||(p(R),e(R))}function S(b){hs(b,g)}p(document),S(document.documentElement),dO(b=>{b=b.filter(D=>!xg.has(D));let R=[];b.forEach(D=>Pg(R,fr(D.shadowRoot))),n({created:R,updated:[],removed:[],moved:[]}),b.forEach(D=>{let{shadowRoot:A}=D;A!=null&&(g(D),S(A),ru(A))}),b.forEach(D=>xg.add(D))}),document.addEventListener("__darkreader__isDefined",uC),ru(document)}function pO(){du.forEach(t=>t.disconnect()),du.splice(0,du.length),uu=new WeakSet,xg=new WeakSet}function hC(){pO(),uO()}function fO(t,n,e){hO(t,n,e)}function gO(){hC()}var Qg=AS(),Nn=new Map,Du=[],Eu=new Map,ig=new WeakMap,ve=null,lt=null,pC=null,An=[],cl=[],rs=new Map;function Yt(t,n=document.head||document){let e=n.querySelector(`.${t}`);return e?rs.set(t,e):rs.has(t)?e=rs.get(t):(e=document.createElement("style"),e.classList.add("darkreader"),e.classList.add(t),e.media="screen",e.textContent="",rs.set(t,e)),e}function mO(t,n=document.head||document){let e=n.querySelector(`.${t}`);return e||(e=document.createElement("script"),e.classList.add("darkreader"),e.classList.add(t)),e}var il=new Map;function Zr(t,n,e){il.has(n)&&il.get(n).stop(),il.set(n,sg(t,"head",e))}function bO(){Vn(il.values(),t=>t.stop()),il.clear()}function _O(){let t=Yt("darkreader--fallback",document);t.textContent=Yg(ve,{strict:!0}),document.head.insertBefore(t,document.head.firstChild),Zr(t,"fallback");let n=Yt("darkreader--user-agent");n.textContent=mI(ve,pC,ve.styleSystemControls),document.head.insertBefore(n,t.nextSibling),Zr(n,"user-agent");let e=Yt("darkreader--text");ve.useFont||ve.textStroke>0?e.textContent=HT(ve):e.textContent="",document.head.insertBefore(e,t.nextSibling),Zr(e,"text");let i=Yt("darkreader--invert");lt&&Array.isArray(lt.invert)&&lt.invert.length>0?i.textContent=[`${lt.invert.join(", ")} {`,`    filter: ${vS(Te(U({},ve),{contrast:ve.mode===0?ve.contrast:to(ve.contrast-10,0,100)}))} !important;`,"}"].join(`
`):i.textContent="",document.head.insertBefore(i,e.nextSibling),Zr(i,"invert");let r=Yt("darkreader--inline");r.textContent=tC(),document.head.insertBefore(r,i.nextSibling),Zr(r,"inline");let o=Yt("darkreader--override");o.textContent=lt&&lt.css?gC(lt.css):"",document.head.appendChild(o),Zr(o,"override");let s=Yt("darkreader--variables"),a=ve?.selectionColor?qS(ve):null,l=qt(Ut("#ffffff"),ve),c=un(Ut("#000000"),ve);s.textContent=[":root {",`   --darkreader-neutral-background: ${l};`,`   --darkreader-neutral-text: ${c};`,`   --darkreader-selection-background: ${a?.backgroundColorSelection??"initial"};`,`   --darkreader-selection-text: ${a?.foregroundColorSelection??"initial"};`,"}"].join(`
`),document.head.insertBefore(s,r.nextSibling),Zr(s,"variables",()=>q0(s.sheet)),q0(s.sheet);let d=Yt("darkreader--root-vars");document.head.insertBefore(d,s.nextSibling);let h=!(lt&&lt.disableStyleSheetsProxy),m=!(lt&&lt.disableCustomElementRegistryProxy);document.dispatchEvent(new CustomEvent("__darkreader__cleanUp"));{let _=mO("darkreader--proxy");_.append(`(${aO})(${h}, ${m})`),document.head.insertBefore(_,d.nextSibling),_.remove()}}var Ag=new Set;function fC(t){let n=Yt("darkreader--inline",t);n.textContent=tC(),t.insertBefore(n,t.firstChild);let e=Yt("darkreader--override",t);e.textContent=lt&&lt.css?gC(lt.css):"",t.insertBefore(e,n.nextSibling);let i=Yt("darkreader--invert",t);lt&&Array.isArray(lt.invert)&&lt.invert.length>0?i.textContent=[`${lt.invert.join(", ")} {`,`    filter: ${vS(Te(U({},ve),{contrast:ve.mode===0?ve.contrast:to(ve.contrast-10,0,100)}))} !important;`,"}"].join(`
`):i.textContent="",t.insertBefore(i,e.nextSibling),Ag.add(t)}function vO(t){new MutationObserver((e,i)=>{i.disconnect();for(let{type:r,removedNodes:o}of e)if(r==="childList"){for(let{nodeName:s,className:a}of o)if(s==="STYLE"&&["darkreader darkreader--inline","darkreader darkreader--override","darkreader darkreader--invert"].includes(a)){fC(t);return}}}).observe(t,{childList:!0})}function kg(t){let n=t.firstChild===null;fC(t),n&&vO(t)}function gC(t){return t.replace(/\${(.+?)}/g,(n,e)=>{let i=Ut(e);return i?xS(i.r,i.g,i.b)>.5?qt(i,ve):un(i,ve):(Ze("Couldn't parse CSSTemplate's color."),e)})}function Jg(){let t=rs.get("darkreader--fallback")||document.querySelector(".darkreader--fallback");t&&(t.textContent="")}function yO(){_C();let n=fr(document).filter(r=>!Nn.has(r)).map(r=>mC(r));n.map(r=>r.details({secondRound:!1})).filter(r=>r&&r.rules.length>0).forEach(r=>{bt.addRulesForMatching(r.rules)}),bt.matchVariablesAndDependents(),bt.setOnRootVariableChange(()=>{let r=Yt("darkreader--root-vars");bt.putRootVars(r,ve)});let e=Yt("darkreader--root-vars");bt.putRootVars(e,ve),Nn.forEach(r=>r.render(ve,An)),Hi.size===0&&Jg(),n.forEach(r=>r.watch());let i=WT(document.querySelectorAll(al));if(hs(document.documentElement,r=>{kg(r.shadowRoot);let o=r.shadowRoot.querySelectorAll(al);o.length>0&&Pg(i,o)}),i.forEach(r=>Eg(r,ve,cl,An)),yC(document),bt.matchVariablesAndDependents(),dl){let r=o=>{let{sheets:s}=o.detail;if(!Array.isArray(s)||s.length===0)return;s.forEach(({sheet:l})=>{let{cssRules:c}=l;bt.addRulesForMatching(c)}),bt.matchVariablesAndDependents();let a=[];s.forEach(({sheetId:l,sheet:c})=>{let d=EO(c),h=c.cssRules;d.render({theme:ve,ignoreImageAnalysis:An,cssRules:h});let m=d.commands();a.push({sheetId:l,commands:m})}),hR(DO(s[0].sheet),()=>{document.dispatchEvent(new CustomEvent("__darkreader__adoptedStyleSheetCommands",{detail:JSON.stringify(a)}))})};document.addEventListener("__darkreader__adoptedStyleSheetsChange",r),xu.push(()=>document.removeEventListener("__darkreader__adoptedStyleSheetsChange",r)),document.dispatchEvent(new CustomEvent("__darkreader__startAdoptedStyleSheetsWatcher"))}}var SO=0,Hi=new Set;function mC(t){let n=++SO;function e(){if(!gr()||!RS()){Hi.add(n),Ui(`Current amount of styles loading: ${Hi.size}`);let s=Yt("darkreader--fallback");s.textContent||(s.textContent=Yg(ve,{strict:!1}))}}function i(){Hi.delete(n),Ui(`Removed loadingStyle ${n}, now awaiting: ${Hi.size}`),Hi.size===0&&gr()&&Jg()}function r(){let s=o.details({secondRound:!0});s&&(bt.addRulesForMatching(s.rules),bt.matchVariablesAndDependents(),o.render(ve,An))}let o=iO(t,{update:r,loadingStart:e,loadingEnd:i});return Nn.set(t,o),o}function bC(t){let n=Nn.get(t);n&&(n.destroy(),Nn.delete(t))}var CO=Ng(t=>{Nn.forEach(n=>n.render(ve,An)),Du.forEach(n=>n.render(ve,An)),t&&t()}),_C=function(){CO.cancel()};function vC(){if(Hi.size===0){Jg();return}Ze("DOM is ready, but still have styles being loaded.",Hi)}function aS(){yO(),xO()}function wO(){_O(),!RS()&&!ve.immediateModify?mR(aS):aS(),YI(ve)}function yC(t){if(!dl&&VI(t)){t.adoptedStyleSheets.forEach(e=>{bt.addRulesForMatching(e.cssRules)});let n=BI(t);Du.push(n),n.render(ve,An),n.watch(e=>{e.forEach(i=>{bt.addRulesForMatching(i.cssRules)}),bt.matchVariablesAndDependents(),n.render(ve,An)})}}function DO(t){if(ig.has(t))return ig.get(t);let n=Symbol();return ig.set(t,n),n}function EO(t){let n=Eu.get(t);return n||(n=jI(),Eu.set(t,n)),n}function xO(){let t=Array.from(Nn.keys());fO(t,({created:n,updated:e,removed:i,moved:r})=>{let o=i,s=n.concat(e).concat(r).filter(c=>!Nn.has(c)),a=r.filter(c=>Nn.has(c));o.forEach(c=>bC(c));let l=s.map(c=>mC(c));l.map(c=>c.details({secondRound:!1})).filter(c=>c&&c.rules.length>0).forEach(c=>{bt.addRulesForMatching(c.rules)}),bt.matchVariablesAndDependents(),l.forEach(c=>c.render(ve,An)),l.forEach(c=>c.watch()),a.forEach(c=>Nn.get(c).restore())},n=>{kg(n),yC(n)}),$I(n=>{if(Eg(n,ve,cl,An),n===document.documentElement&&(n.getAttribute("style")||"").includes("--")){bt.matchVariablesAndDependents();let i=Yt("darkreader--root-vars");bt.putRootVars(i,ve)}},n=>{kg(n);let e=n.querySelectorAll(al);e.length>0&&Vn(e,i=>Eg(i,ve,cl,An))}),Bg(vC)}function AO(){Nn.forEach(t=>t.pause()),bO(),gO(),HI(),IS(vC),vR()}var rl,Qo=null;function kO(){rl=new MutationObserver(()=>{document.querySelector('meta[name="darkreader-lock"]')&&(rl.disconnect(),em())}),rl.observe(document.head,{childList:!0,subtree:!0})}function TO(){let t=document.createElement("meta");t.name="darkreader",t.content=Qg,document.head.appendChild(t)}function RO(){return document.querySelector('meta[name="darkreader-lock"]')!=null}function IO(){let t=document.querySelector('meta[name="darkreader"]');return t?t.content!==Qg:(TO(),kO(),!1)}var OO=2;function MO({success:t,failure:n}){if(--OO<=0){n();return}let e=document.head.querySelector('meta[name="darkreader"]');if(!e||e.content===Qg)return;let i=document.createElement("meta");i.name="darkreader-lock",document.head.append(i),queueMicrotask(()=>{i.remove(),t()})}function FO(){if(document.documentElement.hasAttribute("data-wp-dark-mode-preset")){let t=()=>{document.dispatchEvent(new CustomEvent("__darkreader__disableConflictingPlugins")),document.documentElement.classList.remove("wp-dark-mode-active"),document.documentElement.removeAttribute("data-wp-dark-mode-active")};t(),new MutationObserver(()=>{(document.documentElement.classList.contains("wp-dark-mode-active")||document.documentElement.hasAttribute("data-wp-dark-mode-active"))&&t()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-wp-dark-mode-active"]})}}var Qa=null,hu=null;function PO(t,n,e){ve=t,lt=n;let i=["brightness","contrast","darkSchemeBackgroundColor","darkSchemeTextColor","grayscale","lightSchemeBackgroundColor","lightSchemeTextColor","sepia"];if(Qa&&hu){let o=new Set([...Object.keys(ve),...Object.keys(Qa)]),s=!0;for(let a of o)if(ve[a]!==Qa[a]&&!i.includes(a)){s=!1;break}if(s&&JSON.stringify(lt)!==JSON.stringify(hu)&&(s=!1),s){let a=rI();bg(),a.background.forEach(l=>qt(l,ve)),a.text.forEach(l=>un(l,ve)),a.border.forEach(l=>us(l,ve));return}bg()}lt?(An=Array.isArray(lt.ignoreImageAnalysis)?lt.ignoreImageAnalysis:[],cl=Array.isArray(lt.ignoreInlineStyle)?lt.ignoreInlineStyle:[]):(An=[],cl=[]),ve.immediateModify&&_R(()=>!0),pC=e;let r=()=>{let o=()=>{FO(),document.documentElement.setAttribute("data-darkreader-mode","dynamic"),document.documentElement.setAttribute("data-darkreader-scheme",ve.mode?"dark":"dimmed"),wO()},s=()=>{em()};RO()?$i(document.querySelector(".darkreader--fallback")):IO()?MO({success:o,failure:s}):o()};if(document.head)r();else{if(!dl){let o=Yt("darkreader--fallback");document.documentElement.appendChild(o),o.textContent=Yg(ve,{strict:!0})}Qo?.disconnect(),Qo=new MutationObserver(()=>{document.head&&(Qo?.disconnect(),r())}),xu.push(()=>{Qo?.disconnect(),Qo=null}),Qo.observe(document,{childList:!0,subtree:!0})}Qa=ve,hu=lt}function LO(){document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),$i(document.head.querySelector(".darkreader--proxy"))}var xu=[];function em(){if(document.documentElement.removeAttribute("data-darkreader-mode"),document.documentElement.removeAttribute("data-darkreader-scheme"),NO(),$i(document.querySelector(".darkreader--fallback")),document.head){let t=[".darkreader--user-agent",".darkreader--text",".darkreader--invert",".darkreader--inline",".darkreader--override",".darkreader--variables",".darkreader--root-vars",'meta[name="darkreader"]'];qI(),t.forEach(n=>$i(document.head.querySelector(n))),rs.clear(),LO()}Ag.forEach(t=>{$i(t.querySelector(".darkreader--inline")),$i(t.querySelector(".darkreader--override"))}),Ag.clear(),Vn(Nn.keys(),t=>bC(t)),Hi.clear(),nO(),Vn(document.querySelectorAll(".darkreader"),$i),Du.forEach(t=>t.destroy()),Du.splice(0),Eu.forEach(t=>t.destroy()),Eu.clear(),rl&&rl.disconnect(),xu.forEach(t=>t()),xu.splice(0)}function NO(){bt.clear(),Xa.clear(),TS(),_C(),AO(),TI(),KT(),tI(),Qa=null,hu=null}var tm=!1,VO=(()=>{try{return window.self!==window.top}catch(t){return console.warn(t),!0}})();function nm(t={},n=null){let e=U(U({},fS),t);if(e.engine!==ol.dynamicTheme)throw new Error("Theme engine is not supported.");PO(e,n,VO),tm=!0}function SC(){return tm}function Iu(){em(),tm=!1}var Ja=typeof matchMedia=="function"?matchMedia("(prefers-color-scheme: dark)"):void 0,Tg={themeOptions:null,fixes:null};function Ka(){Ja?.matches?nm(Tg.themeOptions,Tg.fixes):Iu()}function CC(t={},n=null){t?(Tg={themeOptions:t,fixes:n},Ka(),I0?Ja?.addEventListener("change",Ka):Ja?.addListener(Ka)):(I0?Ja?.removeEventListener("change",Ka):Ja?.removeListener(Ka),Iu())}var mr=class t{static DARK_MODE_STORAGE_KEY="darkMode";static DARK_READER_CONFIG={brightness:100,contrast:100,sepia:0};static DARK_READER_FIXES={css:`
      /* Custom styling fixes for train visualization in dark mode */
      .boundary-line {
        background-color: #8faad7 !important;
      }
      .sector-horizontal-line {
        background-color: #373c3e !important;
      }
    `,invert:[],ignoreInlineStyle:[],ignoreImageAnalysis:[],disableStyleSheetsProxy:!1};darkModeSubject=new Pe(!1);darkMode$=this.darkModeSubject.asObservable();constructor(){this.initializeTheme()}initializeTheme(){this.ensureSpreadValuesPolyfill();let n=localStorage.getItem(t.DARK_MODE_STORAGE_KEY);n!==null?this.setDarkMode(n==="true"):this.followSystemPreference()}toggleDarkMode(){let n=!this.darkModeSubject.value;this.setDarkMode(n),localStorage.setItem(t.DARK_MODE_STORAGE_KEY,String(n))}isDarkMode(){return this.darkModeSubject.value}setDarkMode(n){n?nm(t.DARK_READER_CONFIG,t.DARK_READER_FIXES):Iu(),this.darkModeSubject.next(n)}followSystemPreference(){CC(t.DARK_READER_CONFIG,t.DARK_READER_FIXES),this.darkModeSubject.next(SC())}ensureSpreadValuesPolyfill(){let n=window;typeof n.__spreadValues>"u"&&(n.__spreadValues=function(e,i){let r={};for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o]);return r})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ou=class t{constructor(n){this.themeService=n;this.darkMode$=this.themeService.darkMode$}darkMode$;toggleDarkMode(){this.themeService.toggleDarkMode()}static \u0275fac=function(e){return new(e||t)(X(mr))};static \u0275cmp=ce({type:t,selectors:[["app-header"]],decls:6,vars:6,consts:[["label","Train Formation Visualization"],["sbb-frameless-button","",3,"click","sbbTooltip"],[3,"svgIcon"]],template:function(e,i){e&1&&(v(0,"sbb-header-lean",0)(1,"sbb-header-icon-actions")(2,"button",1),wt(3,"async"),se("click",function(){return i.toggleDarkMode()}),$(4,"sbb-icon",2),wt(5,"async"),y()()()),e&2&&(f(2),C("sbbTooltip",jt(3,2,i.darkMode$)?"Switch to Light Mode":"Switch to Dark Mode"),f(2),C("svgIcon",jt(5,4,i.darkMode$)?"sunshine-small":"moon-small"))},dependencies:[On,Zt,D0,jf,w0,$e,at,Kd,Yo,qo,hr],styles:[`app-header .sbb-header-lean-label{font-size:20px;padding-right:0;margin-right:0}app-header .sbb-header-lean-label:before{content:"SKI+ ";color:var(--sbb-color-blue);font-family:var(--sbb-font-bold);border-right:1px solid var(--sbb-color-iron);padding-right:4px;margin-right:10px}app-header .sbb-header-lean{border-bottom:2.5px solid var(--sbb-color-blue);background-color:var(--sbb-color-milk)}app-header .sbb-header-lean-logo,app-header .sbb-header-lean-open-menu,app-header .sbb-header-lean-side-menu-container,app-header .sbb-header-lean-side-menu-backdrop,app-header .sbb-header-lean-menu-trigger,app-header .sbb-header-lean-brand{display:none!important}app-header .sbb-header-lean-container-end{margin-right:0!important}app-header sbb-header-icon-actions{position:absolute;top:50%;right:16px;transform:translateY(-50%)}@media (max-width: 370px){app-header sbb-header-icon-actions{right:10px}}@media (max-width: 360px){app-header sbb-header-icon-actions{right:7px}}@media (max-width: 321px){app-header sbb-header-icon-actions{right:3px}}app-header sbb-header-icon-actions button[sbb-frameless-button]{display:flex;align-items:center;justify-content:center;transition:transform .2s ease;position:relative;height:auto;min-height:40px}app-header sbb-header-icon-actions button[sbb-frameless-button]:hover{transform:scale(1.1)}app-header sbb-header-icon-actions button[sbb-frameless-button] sbb-icon{width:30px!important;height:30px!important;display:flex;align-items:center;justify-content:center}app-header sbb-header-icon-actions button[sbb-frameless-button] sbb-icon svg{width:100%!important;height:100%!important;max-height:30px!important}@media (max-width: 500px){app-header sbb-header-icon-actions button[sbb-frameless-button]{padding:4px;min-height:36px}app-header sbb-header-icon-actions button[sbb-frameless-button] sbb-icon{width:28px!important;height:28px!important}app-header sbb-header-icon-actions button[sbb-frameless-button] sbb-icon svg{max-height:28px!important}}@media (max-width: 500px){app-header .sbb-header-lean .sbb-header-lean-label{font-size:19px}app-header .sbb-header-lean .sbb-header-lean-label:before{margin-right:10px}}@media (max-width: 355px){app-header .sbb-header-lean .sbb-header-lean-label{font-size:17px}app-header .sbb-header-lean .sbb-header-lean-label:before{margin-right:8px}}
`],encapsulation:2})};var RC=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(X(Lt),X(he))};static \u0275dir=_e({type:t})}return t})(),BO=(()=>{class t extends RC{static \u0275fac=(()=>{let e;return function(r){return(e||(e=fn(t)))(r||t)}})();static \u0275dir=_e({type:t,features:[kt]})}return t})(),zu=new Y("");var jO={provide:zu,useExisting:Di(()=>Wu),multi:!0};function UO(){let t=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $O=new Y(""),Wu=(()=>{class t extends RC{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!UO())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(X(Lt),X(he),X($O,8))};static \u0275dir=_e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&se("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ct([jO]),kt]})}return t})();function lm(t){return t==null||cm(t)===0}function cm(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var bl=new Y(""),dm=new Y(""),HO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ri=class{static min(n){return zO(n)}static max(n){return WO(n)}static required(n){return GO(n)}static requiredTrue(n){return YO(n)}static email(n){return qO(n)}static minLength(n){return KO(n)}static maxLength(n){return XO(n)}static pattern(n){return ZO(n)}static nullValidator(n){return IC()}static compose(n){return NC(n)}static composeAsync(n){return VC(n)}};function zO(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function WO(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function GO(t){return lm(t.value)?{required:!0}:null}function YO(t){return t.value===!0?null:{required:!0}}function qO(t){return lm(t.value)||HO.test(t.value)?null:{email:!0}}function KO(t){return n=>{let e=n.value?.length??cm(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function XO(t){return n=>{let e=n.value?.length??cm(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function ZO(t){if(!t)return IC;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(lm(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function IC(t){return null}function OC(t){return t!=null}function MC(t){return ho(t)?Ft(t):t}function FC(t){let n={};return t.forEach(e=>{n=e!=null?U(U({},n),e):n}),Object.keys(n).length===0?null:n}function PC(t,n){return n.map(e=>e(t))}function QO(t){return!t.validate}function LC(t){return t.map(n=>QO(n)?n:e=>n.validate(e))}function NC(t){if(!t)return null;let n=t.filter(OC);return n.length==0?null:function(e){return FC(PC(e,n))}}function um(t){return t!=null?NC(LC(t)):null}function VC(t){if(!t)return null;let n=t.filter(OC);return n.length==0?null:function(e){let i=PC(e,n).map(MC);return Vl(i).pipe(J(FC))}}function hm(t){return t!=null?VC(LC(t)):null}function wC(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function BC(t){return t._rawValidators}function jC(t){return t._rawAsyncValidators}function rm(t){return t?Array.isArray(t)?t:[t]:[]}function Lu(t,n){return Array.isArray(t)?t.includes(n):t===n}function DC(t,n){let e=rm(n);return rm(t).forEach(r=>{Lu(e,r)||e.push(r)}),e}function EC(t,n){return rm(n).filter(e=>!Lu(t,e))}var Nu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},br=class extends Nu{name;get formDirective(){return null}get path(){return null}},Gi=class extends Nu{_parent=null;name=null;valueAccessor=null},Vu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},UH=Te(U({},JO),{"[class.ng-submitted]":"isSubmitted"}),UC=(()=>{class t extends Vu{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(X(Gi,2))};static \u0275dir=_e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[kt]})}return t})(),$C=(()=>{class t extends Vu{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(X(br,10))};static \u0275dir=_e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[kt]})}return t})();var hl="VALID",Fu="INVALID",ps="PENDING",pl="DISABLED",_r=class{},Bu=class extends _r{value;source;constructor(n,e){super(),this.value=n,this.source=e}},gl=class extends _r{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},ml=class extends _r{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},fs=class extends _r{status;source;constructor(n,e){super(),this.status=n,this.source=e}},ju=class extends _r{source;constructor(n){super(),this.source=n}},Uu=class extends _r{source;constructor(n){super(),this.source=n}};function pm(t){return(Gu(t)?t.validators:t)||null}function eM(t){return Array.isArray(t)?um(t):t||null}function fm(t,n){return(Gu(n)?n.asyncValidators:t)||null}function tM(t){return Array.isArray(t)?hm(t):t||null}function Gu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function HC(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new we(1e3,"");if(!i[e])throw new we(1001,"")}function zC(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new we(1002,"")})}var gs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return rn(this.statusReactive)}set status(n){rn(()=>this.statusReactive.set(n))}_status=po(()=>this.statusReactive());statusReactive=Xi(void 0);get valid(){return this.status===hl}get invalid(){return this.status===Fu}get pending(){return this.status==ps}get disabled(){return this.status===pl}get enabled(){return this.status!==pl}errors;get pristine(){return rn(this.pristineReactive)}set pristine(n){rn(()=>this.pristineReactive.set(n))}_pristine=po(()=>this.pristineReactive());pristineReactive=Xi(!0);get dirty(){return!this.pristine}get touched(){return rn(this.touchedReactive)}set touched(n){rn(()=>this.touchedReactive.set(n))}_touched=po(()=>this.touchedReactive());touchedReactive=Xi(!1);get untouched(){return!this.touched}_events=new te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(DC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(DC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(EC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(EC(n,this._rawAsyncValidators))}hasValidator(n){return Lu(this._rawValidators,n)}hasAsyncValidator(n){return Lu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Te(U({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new ml(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new ml(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Te(U({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new gl(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new gl(!0,i))}markAsPending(n={}){this.status=ps;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new fs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Te(U({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=pl,this.errors=null,this._forEachChild(r=>{r.disable(Te(U({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bu(this.value,i)),this._events.next(new fs(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Te(U({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=hl,this._forEachChild(i=>{i.enable(Te(U({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Te(U({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hl||this.status===ps)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bu(this.value,e)),this._events.next(new fs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Te(U({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pl:hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=MC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new fs(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new Q,this.statusChanges=new Q}_calculateStatus(){return this._allControlsDisabled()?pl:this.errors?Fu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(Fu)?Fu:hl}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new gl(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new ml(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Gu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=eM(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=tM(this._rawAsyncValidators)}},ms=class extends gs{constructor(n,e,i){super(pm(e),fm(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){zC(this,!0,n),Object.keys(n).forEach(i=>{HC(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var om=class extends ms{};var gm=new Y("",{providedIn:"root",factory:()=>mm}),mm="always";function nM(t,n){return[...n.path,t]}function sm(t,n,e=mm){bm(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),rM(t,n),sM(t,n),oM(t,n),iM(t,n)}function xC(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Hu(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $u(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function iM(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function bm(t,n){let e=BC(t);n.validator!==null?t.setValidators(wC(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=jC(t);n.asyncValidator!==null?t.setAsyncValidators(wC(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();$u(n._rawValidators,r),$u(n._rawAsyncValidators,r)}function Hu(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=BC(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=jC(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return $u(n._rawValidators,i),$u(n._rawAsyncValidators,i),e}function rM(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WC(t,n)})}function oM(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WC(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function WC(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sM(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function GC(t,n){t==null,bm(t,n)}function aM(t,n){return Hu(t,n)}function lM(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function cM(t){return Object.getPrototypeOf(t.constructor)===BO}function YC(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dM(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===Wu?e=o:cM(o)?i=o:r=o}),r||i||e||null}function uM(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var hM={provide:br,useExisting:Di(()=>_l)},fl=Promise.resolve(),_l=(()=>{class t extends br{callSetDisabledState;get submitted(){return rn(this.submittedReactive)}_submitted=po(()=>this.submittedReactive());submittedReactive=Xi(!1);_directives=new Set;form;ngSubmit=new Q;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new ms({},um(e),hm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fl.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),sm(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fl.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){fl.then(()=>{let i=this._findContainer(e.path),r=new ms({});GC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fl.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){fl.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),YC(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new ju(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Uu(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||t)(X(bl,10),X(dm,10),X(gm,8))};static \u0275dir=_e({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&se("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ct([hM]),kt]})}return t})();function AC(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function kC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Pu=class extends gs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(pm(e),fm(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(kC(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){AC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){AC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){kC(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var pM=t=>t instanceof Pu;var qC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var KC=new Y("");var fM={provide:br,useExisting:Di(()=>io)},io=(()=>{class t extends br{callSetDisabledState;get submitted(){return rn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=po(()=>this._submittedReactive());_submittedReactive=Xi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Q;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return sm(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){xC(e.control||null,e,!1),uM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),YC(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ju(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Uu(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(xC(i||null,e),pM(r)&&(sm(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);GC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&aM(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bm(this.form,this),this._oldForm&&Hu(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(X(bl,10),X(dm,10),X(gm,8))};static \u0275dir=_e({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&se("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ct([fM]),kt,Qe]})}return t})();var gM={provide:Gi,useExisting:Di(()=>_m)},_m=(()=>{class t extends Gi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Q;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dM(this,o)}ngOnChanges(e){this._added||this._setUpControl(),lM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return nM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(X(br,13),X(bl,10),X(dm,10),X(zu,10),X(KC,8))};static \u0275dir=_e({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ct([gM]),kt,Qe]})}return t})();var mM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})(),am=class extends gs{constructor(n,e,i){super(pm(e),fm(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){zC(this,!1,n),n.forEach((i,r)=>{HC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function TC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var XC=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return TC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ms(r,o)}record(e,i=null){let r=this._reduceControls(e);return new om(r,i)}control(e,i,r){let o={};return this.useNonNullable?(TC(i)?o=i:(o.validators=i,o.asyncValidators=r),new Pu(e,Te(U({},o),{nonNullable:!0}))):new Pu(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new am(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Pu)return e;if(e instanceof gs)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZC=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:KC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gm,useValue:e.callSetDisabledState??mm}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[mM]})}return t})();var _M=["connectionContainer"],vM=["*",[["sbb-label"]],[["sbb-error"],["","sbbError",""]]],yM=["*","sbb-label","sbb-error,[sbbError]"];function SM(t,n){if(t&1&&(v(0,"span"),j(1),y()),t&2){let e=x();f(),Se(e.label)}}function CM(t,n){t&1&&Fe(0,1)}function wM(t,n){t&1&&Fe(0,2)}var DM=new Y("SbbError");var vr=class{value;stateChanges;id;ngControl;focused;empty;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling};var QC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["sbb-label"]],hostAttrs:[1,"sbb-label"]})}return t})(),vl=new Y("SBB_FORM_FIELD"),JC=(()=>{class t{_elementRef=u(he);_changeDetectorRef=u(qe);label;_destroyed=new te;_labelId=u(gt).getId("sbb-form-field-label-");_connectionContainerRef;_controlNonStatic;_controlStatic;get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}_explicitFormFieldControl;_labelChildNonStatic;_labelChildStatic;_errorChildren;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;constructor(){}getLabelId(){return this._hasLabel()||this.label?this._labelId:null}ngAfterContentInit(){this._validateControlChild()}ngAfterContentChecked(){this._validateControlChild(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_hasLabel(){return!!(this._labelChildNonStatic||this._labelChildStatic)}_hasErrors(){return!!(this._errorChildren&&this._errorChildren.length&&this._control.errorState)}_syncDescribedByIds(){if(this._control){let e=[];this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id)),this._control.setDescribedByIds(e)}}_validateControlChild(){this._control}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}_initializeControl(e){let i=this._control,r="sbb-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.pipe(Pt(null)).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Pt([void 0,void 0]),J(()=>[i.errorState,i.userAriaDescribedBy]),ph(),Me(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Be(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())),this._errorChildren.changes.pipe(Pt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-form-field"]],contentQueries:function(i,r,o){if(i&1&&(zt(o,vr,5),zt(o,vr,7),zt(o,QC,5),zt(o,QC,7),zt(o,DM,5)),i&2){let s;Ae(s=ke())&&(r._controlNonStatic=s.first),Ae(s=ke())&&(r._controlStatic=s.first),Ae(s=ke())&&(r._labelChildNonStatic=s.first),Ae(s=ke())&&(r._labelChildStatic=s.first),Ae(s=ke())&&(r._errorChildren=s)}},viewQuery:function(i,r){if(i&1&&Ye(_M,7),i&2){let o;Ae(o=ke())&&(r._connectionContainerRef=o.first)}},hostAttrs:[1,"sbb-form-field"],hostVars:20,hostBindings:function(i,r){i&2&&ye("sbb-form-field-invalid",r._control==null?null:r._control.errorState)("sbb-form-field-disabled",r._control==null?null:r._control.disabled)("sbb-focused",r._control==null?null:r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{label:"label"},exportAs:["sbbFormField"],features:[Ct([{provide:vl,useExisting:t}])],ngContentSelectors:yM,decls:10,vars:6,consts:[["connectionContainer",""],[1,"sbb-form-field-wrapper"],[1,"sbb-form-field-label-wrapper",3,"click"],[1,"sbb-label","sbb-form-field-label",3,"id"],[1,"sbb-form-field-input-wrapper"],[1,"sbb-form-field-error-wrapper"]],template:function(i,r){if(i&1){let o=pt();et(vM),v(0,"div",1)(1,"div",2),se("click",function(a){return Le(o),Ne(r._control.onContainerClick(a))}),v(2,"label",3),H(3,SM,2,1,"span")(4,CM,1,0),y()(),v(5,"div",4,0),Fe(7),y(),v(8,"div",5),H(9,wM,1,0),y()()}if(i&2){let o;f(2),ye("sbb-form-field-empty",r._control.empty),C("id",r._labelId),ue("for",r._control.disableAutomaticLabeling?null:r._control.id),f(),Ve((o=r._hasLabel())===!1?3:o===!0?4:-1),f(6),Ve(r._hasErrors()?9:-1)}},styles:[".sbb-form-field{display:inline-block;position:relative;width:var(--sbb-form-field-width)}.sbb-form-field-short{width:33.333%}@media all and (min-width: 26.3125em){.sbb-form-field-short{width:25%}}@media all and (min-width: 64.0625em){.sbb-form-field-short{width:16.66666%}}.sbb-form-field-medium{width:100%}@media all and (min-width: 40.1875em){.sbb-form-field-medium{width:50%}}.sbb-form-field-long{width:100%}.sbb-form-field-wrapper{padding-bottom:calc(1.5333333333rem*var(--sbb-scaling-factor))}:where(html.sbb-lean) .sbb-form-field-wrapper{padding-bottom:1.0666666667rem}.sbb-form-field-flexible-errors .sbb-form-field-wrapper{padding-bottom:0}.sbb-form-field-label-wrapper{margin-bottom:var(--sbb-form-label-wrapper-margin-bottom);padding-left:var(--sbb-form-label-wrapper-padding-left)}.sbb-form-field .sbb-input-element{width:100%;max-width:100%}.sbb-form-field textarea.sbb-input-element{resize:vertical;overflow:auto}.sbb-form-field textarea.sbb-input-element.cdk-textarea-autosize{resize:none}.sbb-form-field-error-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.sbb-form-field-flexible-errors .sbb-form-field-error-wrapper{position:relative}:is(.sbb-form-field-error-wrapper,.sbb-form-field-label-wrapper,.sbb-label) :is(.sbb-icon,.sbb-tooltip-icon),:is(.sbb-form-field-error-wrapper,.sbb-form-field-label-wrapper,.sbb-label) .sbb-icon svg{vertical-align:bottom;width:calc(1.0666666667rem*var(--sbb-scaling-factor));height:calc(1.0666666667rem*var(--sbb-scaling-factor))}:is(.sbb-form-field-error-wrapper,.sbb-form-field-label-wrapper,.sbb-label) .sbb-tooltip-icon:not(:hover):not(:focus){color:inherit}:is(.sbb-form-field-error-wrapper,.sbb-form-field-label-wrapper,.sbb-label) .sbb-tooltip-trigger{margin-left:calc(0.5333333333rem*var(--sbb-scaling-factor))}.sbb-form-group,.sbb-form-group-center,.sbb-form-group-wrap,.sbb-form-group-vertical{display:flex;gap:var(--sbb-divider-thin)}:is(.sbb-form-group,.sbb-form-group-center,.sbb-form-group-wrap){align-items:flex-start}.sbb-form-group-wrap{flex-wrap:wrap}.sbb-form-group-center{justify-content:center}:is(.sbb-form-group,.sbb-form-group-center,.sbb-form-group-wrap):where(:not(.sbb-form-group-vertical)) :is(.sbb-button,.sbb-alt-button,.sbb-secondary-button,.sbb-ghost-button,.sbb-icon-button){margin-top:calc(var(--sbb-form-label-line-height) + var(--sbb-form-label-wrapper-margin-bottom))}.sbb-form-group-vertical{flex-direction:column}.sbb-form-group-vertical.sbb-form-group-center{justify-content:inherit;align-items:center}.sbb-form-group-vertical>:is(.sbb-button,.sbb-alt-button,.sbb-secondary-button,.sbb-ghost-button,.sbb-icon-button){width:var(--sbb-form-field-width)}:where(html:not(.sbb-lean)) .sbb-form-group-vertical>:is(.sbb-button,.sbb-alt-button,.sbb-secondary-button,.sbb-ghost-button,.sbb-icon-button) .sbb-button-right-icon{right:unset !important}"],encapsulation:2,changeDetection:0})}return t})(),yl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Et]})}return t})();var xM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return t})(),AM={passive:!0},ew=(()=>{class t{_platform=u(ut);_ngZone=u(me);_renderer=u(Xt).createRenderer(null,null);_styleLoader=u(Fi);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Un;this._styleLoader.load(xM);let i=Fn(e),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new te,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),yt(this._renderer,i,"animationstart",a,AM)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(e){let i=Fn(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vm=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({})}return t})();var ym=new Y("SBB_INPUT_VALUE_ACCESSOR"),kM=["button","checkbox","file","hidden","image","radio","range","reset","submit"],tw=(()=>{class t{_elementRef=u(he);_platform=u(ut);_renderer=u(Lt);_autofillMonitor=u(ew);_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_errorStateTracker;_cleanupIosKeyup;ngControl=u(Gi,{optional:!0,self:!0});_isNativeSelect;_isTextarea;focused=!1;controlType="sbb-input";autofilled=!1;stateChanges=new te;get disabled(){return this.ngControl&&this.ngControl.disabled!==null?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ei(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;id=u(gt).getId("sbb-native-input-");placeholder;name;get required(){return this._required}set required(e){this._required=ei(e)}_required=!1;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Qp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ei(e)}_readonly=!1;tabIndex;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Qp().has(e));constructor(){let e=u(_l,{optional:!0}),i=u(io,{optional:!0}),r=u(id),o=u(ym,{optional:!0,self:!0}),s=u(me),a=this._elementRef.nativeElement,l=a.nodeName.toLowerCase();o?Rs(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=a,this._previousNativeValue=this.value,this._platform.IOS&&s.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Io(r,this.ngControl,i,e,this.stateChanges),this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isNativeSelect&&(this.controlType=a.multiple?"sbb-native-select-multiple":"sbb-native-select"),this._signalBasedValueAccessor&&Ql(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.()}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){kM.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["input","sbbInput",""],["select","sbbInput",""],["textarea","sbbInput",""]],hostAttrs:[1,"sbb-input-element"],hostVars:9,hostBindings:function(i,r){i&1&&se("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)}),i&2&&(_n("disabled",r.disabled)("required",r.required),ue("id",r.id)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("placeholder",r.readonly?"-":r.placeholder||null)("tabindex",r.empty&&r.readonly?-1:r.tabIndex))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ei(e)]},exportAs:["sbbInput"],features:[Ct([{provide:vr,useExisting:t}]),Qe]})}return t})(),nw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[vm,Et,yl,vm,yl]})}return t})();var Sl=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new te;constructor(n=!1,e,i=!0,r){this._multiple=n,this._emitChanges=i,this.compareWith=r,e&&e.length&&(n?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);let e=this.selected,i=new Set(n.map(o=>this._getConcreteValue(o)));n.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();let e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){n.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(n,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(n,i))return i;return n}else return n}};var RM=["panel"],IM=["*"];function OM(t,n){if(t&1&&(v(0,"span",2),j(1),y()),t&2){let e=x();f(),Se(e.readonly?"-":e.placeholder||"\xA0")}}function MM(t,n){if(t&1&&(v(0,"span",3)(1,"span"),j(2),y()()),t&2){let e=x();f(2),Se(e.triggerValue||"\xA0")}}function FM(t,n){t&1&&$(0,"sbb-icon",4)}function PM(t,n){t&1&&$(0,"sbb-icon",5)}function LM(t,n){if(t&1){let e=pt();v(0,"div",7,0),se("@transformPanel.done",function(r){Le(e);let o=x();return Ne(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Le(e);let o=x();return Ne(o._handleKeydown(r))}),Fe(2),y()}if(t&2){let e=x();Vt("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),ye("sbb-select-multiple",e.multiple),C("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),ue("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var NM={transformPanel:Qi("transformPanel",[vn("void",on({opacity:0})),vn("showing",on({opacity:1})),vn("showing-multiple",on({opacity:1})),li("void => *",ai("120ms cubic-bezier(0, 0, 0.2, 1)")),li("* => void",ai("100ms 25ms linear",on({opacity:0})))])};var iw=new Y("sbb-select-scroll-strategy");function VM(t){return()=>t.scrollStrategies.reposition()}var BM=new Y("SBB_SELECT_CONFIG"),jM={provide:iw,deps:[Gt],useFactory:VM},Sm=class{source;value;constructor(n,e){this.source=n,this.value=e}},UM=Oo(class{_elementRef;constructor(t){this._elementRef=t}}),Cm=(()=>{class t extends UM{_viewportRuler=u(Go);_changeDetectorRef=u(qe);_parentFormField=u(vl,{optional:!0});ngControl=u(Gi,{self:!0,optional:!0});_liveAnnouncer=u(Hp);_defaultOptions=u(BM,{optional:!0});_initialized=new te;_scrollTop=0;_triggerRect;_triggerFontSize=0;_transformOrigin="top";_offsetY=0;options;optionGroups;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}];_overlayOrigin;_scrollStrategyFactory=u(iw);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=u(gt).getId("sbb-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new te;_errorStateTracker;stateChanges=new te;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_onChange=()=>{};_onTouched=()=>{};_valueId=u(gt).getId("sbb-select-value-");_panelDoneAnimatingStream=new te;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"sbb-overlay-panel";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="sbb-select";panel;overlayDir;panelClass;disabled=!1;tabIndex=0;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(ri.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;get readonly(){return this._readonly}set readonly(e){this._readonly=e,this.stateChanges.next()}_readonly=!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Es(()=>{let e=this.options;return e?e.changes.pipe(Pt(e),St(()=>$t(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(St(()=>this.optionSelectionChanges))});openedChange=new Q;_openedStream=this.openedChange.pipe(Me(e=>e),J(()=>{}));_closedStream=this.openedChange.pipe(Me(e=>!e),J(()=>{}));selectionChange=new Q;valueChange=new Q;constructor(){let e=u(id),i=u(he),r=u(_l,{optional:!0}),o=u(io,{optional:!0}),s=u(new Ts("tabindex"),{optional:!0});super(i);let a=this._defaultOptions;this.ngControl&&(this.ngControl.valueAccessor=this),a?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=a.typeaheadDebounceInterval),this._errorStateTracker=new Io(e,this.ngControl,o,r,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=s==null?0:parseInt(s,10)||0,this.id=this.id,this._overlayOrigin=new $a(i)}ngOnInit(){this._selectionModel=new Sl(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(qi(),Be(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Be(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this._elementRef.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Be(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Pt(null),Be(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}this.ngControl&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._keyManager?.destroy()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._triggerRect=this._elementRef.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this._elementRef.nativeElement).fontSize||"0",10),this._initialized.subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`),this._calculateOverlayPosition()}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation("ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){return this.empty?"":this._multiple?this._selectionModel.selected.map(i=>i.viewValue).join(", "):this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&o&&!Jt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&i.activeItem&&!Jt(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Ht(1)).subscribe(e=>{e.connectionPair.originY==="top"?(this.panel.nativeElement.classList.add("sbb-panel-above"),this._elementRef.nativeElement.classList.add("sbb-input-with-open-panel-above")):(this.panel.nativeElement.classList.remove("sbb-panel-above"),this._elementRef.nativeElement.classList.remove("sbb-input-with-open-panel-above")),this._changeDetectorRef.detectChanges(),this._positioningSettled()})}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_initKeyManager(){this._keyManager=new da(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation("ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=$t(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Be(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$t(...this.options.map(i=>i._stateChanges)).pipe(Be(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(new Sm(this,i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!this.readonly}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),e||this._elementRef.nativeElement.classList.remove("sbb-input-with-open-panel-above"),this.openedChange.emit(e)}_getOverlayMinWidth(){return this._triggerRect?.width}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}_calculateOverlayScroll(e,i,r){let o=e._getHostElement().offsetHeight,s=e._getHostElement().offsetTop,a=o/2,l=s-i+a;return Math.min(Math.max(0,l),r)}_scrollOptionIntoView(e){if(e===0)this.panel.nativeElement.scrollTop=0;else{let i=this.options.toArray()[e];if(i){let r=i._getHostElement();this.panel.nativeElement.scrollTop=Zv(r.offsetTop,r.offsetHeight,this.panel.nativeElement.scrollTop,this.panel.nativeElement.offsetHeight)}}}_positioningSettled(){this.panel.nativeElement.scrollTop=this._scrollTop}_calculateOverlayPosition(){if(!this.panel)return;let e=this.panel.nativeElement.clientHeight,r=this.panel.nativeElement.scrollHeight-e,o=this._selectionModel.selected[0];if(this.empty||this.options.toArray().indexOf(o)===-1){this._scrollTop=0;return}let s=e/2;this._scrollTop=this._calculateOverlayScroll(o,s,r)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-select"]],contentQueries:function(i,r,o){if(i&1&&(zt(o,od,5),zt(o,Xv,5)),i&2){let s;Ae(s=ke())&&(r.options=s),Ae(s=ke())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(i&1&&(Ye(RM,5),Ye(Yd,5)),i&2){let o;Ae(o=ke())&&(r.panel=o.first),Ae(o=ke())&&(r.overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"sbb-select","sbb-input-element"],hostVars:25,hostBindings:function(i,r){i&1&&se("click",function(){return r.toggle()})("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(ue("id",r.id)("tabindex",r.readonly||r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),ye("sbb-disabled",r.disabled)("sbb-select-invalid",r.errorState)("sbb-select-required",r.required)("sbb-select-empty",r.empty)("sbb-select-multiple",r.multiple)("sbb-readonly",r.readonly)("sbb-focused",r.focused)("sbb-input-with-open-panel",r.panelOpen))},inputs:{disabled:[2,"disabled","disabled",Ce],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ei(e)],userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:[2,"required","required",Ce],multiple:[2,"multiple","multiple",Ce],readonly:[2,"readonly","readonly",Ce],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ei],sortComparator:"sortComparator",id:"id",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Ce]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["sbbSelect"],features:[Ct([{provide:vr,useExisting:t},{provide:rd,useExisting:t}]),kt,Qe],ngContentSelectors:IM,decls:7,vars:16,consts:[["panel",""],["aria-hidden","true",1,"sbb-select-value"],[1,"sbb-select-placeholder"],[1,"sbb-select-value-text"],["svgIcon","chevron-small-down-small",1,"sbb-icon-scaled","sbb-select-arrow-icon"],["svgIcon","chevron-right-small",1,"sbb-icon-scaled","sbb-select-arrow-icon","sbb-select-arrow-icon-lean"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayFlexibleDimensions","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayOffsetX","cdkConnectedOverlayOffsetY","cdkConnectedOverlayMinHeight"],["role","listbox","tabindex","-1",1,"sbb-panel","sbb-panel-padded","sbb-select-panel","sbb-scrollbar",3,"keydown","ngClass"]],template:function(i,r){if(i&1&&(et(),v(0,"div",1),H(1,OM,2,1,"span",2)(2,MM,3,1,"span",3),y(),H(3,FM,1,0,"sbb-icon",4),wt(4,"async"),H(5,PM,1,0,"sbb-icon",5)(6,LM,3,12,"ng-template",6),se("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),i&2){let o,s;ye("sbb-select-value-empty",r.empty),ue("id",r._valueId),f(),Ve((o=r.empty)===!0?1:o===!1?2:-1),f(2),Ve((s=jt(4,14,r.variant))==="standard"?3:5),f(3),C("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._overlayOrigin)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._getOverlayMinWidth())("cdkConnectedOverlayOffsetX",0)("cdkConnectedOverlayOffsetY",r._offsetY)("cdkConnectedOverlayMinHeight",30)}},dependencies:[at,Yd,ki,Zt],styles:[".sbb-select{display:inline-block;cursor:pointer;position:relative;text-align:left;padding-right:calc(2.9333333333rem*var(--sbb-scaling-factor))}:where(html.sbb-lean) .sbb-select{padding-right:2.5333333333rem}.sbb-select:is([readonly],.sbb-readonly){cursor:default}.sbb-form-field .sbb-select,.sbb-table th.sbb-header-cell.sbb-table-filter .sbb-select{display:block}.sbb-select-value{overflow:hidden;text-overflow:ellipsis}:where(html.sbb-lean) .sbb-select-value-empty{color:var(--sbb-color-storm)}.sbb-select-arrow-icon{position:absolute;top:50%;transform:translateY(-50%);right:calc(0.6rem*var(--sbb-scaling-factor));color:var(--sbb-select-arrow-icon-color)}:where(html.sbb-lean) .sbb-select-arrow-icon{right:.4rem}.sbb-select:is([readonly],.sbb-readonly) .sbb-select-arrow-icon{display:none}.sbb-select-arrow-icon>svg{transition:transform 120ms cubic-bezier(0, 0, 0.2, 1)}.sbb-input-with-open-panel .sbb-select-arrow-icon>svg{transform:rotate(180deg)}.sbb-icon.sbb-select-arrow-icon-lean>svg{transform:rotate(90deg)}.sbb-input-with-open-panel .sbb-icon.sbb-select-arrow-icon-lean>svg{transform:rotate(-90deg)}.sbb-select-panel :is(.sbb-menu-group+.sbb-menu-group,.sbb-menu-item+.sbb-menu-group,.sbb-menu-group+.sbb-menu-item){border-top:none}:where(html:not(.sbb-lean)) .sbb-select-panel.sbb-select-multiple .sbb-menu-group .sbb-menu-item{padding-left:calc(0.9333333333rem*var(--sbb-scaling-factor))}"],encapsulation:2,data:{animation:[NM.transformPanel]},changeDetection:0})}return t})(),rw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[jM],imports:[yi,Et,$e,of,Cm,of,yi]})}return t})();var HM=["sbb-calendar-body",""];function zM(t,n){return this._trackRow(n)}var WM=(t,n)=>n.id;function GM(t,n){if(t&1){let e=pt();v(0,"button",7),se("click",function(){Le(e);let r=x(2).$index,o=x();return Ne(o.onWeekClicked(o.weeksInMonth[r]))}),v(1,"span",8),j(2),y()()}if(t&2){let e=x(2).$index,i=x();f(2),Se(i.weeksInMonth[e])}}function YM(t,n){if(t&1&&(v(0,"div",6)(1,"span",8),j(2),y()()),t&2){let e=x(2).$index,i=x();f(2),Se(i.weeksInMonth[e])}}function qM(t,n){if(t&1&&(v(0,"td",4),H(1,GM,3,1,"button",5)(2,YM,3,1,"div",6),y()),t&2){let e,i=x(2);Vt("width",100/(i.numCols+1),"%"),f(),Ve((e=i.isWeekSelectable)===!0?1:e===!1?2:-1)}}function KM(t,n){if(t&1&&$(0,"td",2),t&2){let e=x(2);ue("colspan",e.firstRowOffset)}}function XM(t,n){if(t&1){let e=pt();v(0,"td",9)(1,"button",10),se("click",function(){let r=Le(e).$implicit,o=x(2);return Ne(o.cellClicked(r))})("focus",function(r){let o=Le(e).$implicit,s=x(2);return Ne(s._emitActiveDateChange(o,r))}),v(2,"span",8),j(3),y()()()}if(t&2){let e=n.$implicit,i=n.$index,r=x().$index,o=x();Vt("width",100/(o.numCols+(o.weeksInMonth.length?1:0)),"%"),ye("sbb-first-cell",i===0),ue("data-sbb-row",r)("data-sbb-col",i),f(),_h(e.cssClasses),ye("sbb-calendar-body-disabled",!e.enabled)("sbb-calendar-body-active",o.isActiveCell(r,i))("sbb-calendar-body-range-background",e.rangeBackground==="range")("sbb-calendar-body-range-background-offset-start",e.rangeBackground!==null&&r===0&&o.firstRowOffset&&i===0)("sbb-calendar-body-selected-begin",e.rangeBackground==="begin")("sbb-calendar-body-selected-end",e.rangeBackground==="end")("sbb-calendar-body-selected",o.selectedValue===e.value)("sbb-calendar-body-today",o.todayValue===e.value),C("tabindex",o.isActiveCell(r,i)?0:-1),ue("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o.selectedValue===e.value)("aria-current",o.todayValue===e.value?"date":null),f(2),Se(e.displayValue)}}function ZM(t,n){if(t&1&&(v(0,"tr",0),H(1,qM,3,3,"td",1)(2,KM,1,1,"td",2),Yl(3,XM,4,30,"td",3,WM),y()),t&2){let e=n.$implicit,i=n.$index,r=x();f(),Ve(r.weeksInMonth.length?1:-1),f(),Ve(i===0&&r.firstRowOffset?2:-1),f(),ql(e)}}var QM=()=>[],JM=(t,n)=>n.index;function e1(t,n){t&1&&(v(0,"th"),j(1,"#"),y())}function t1(t,n){if(t&1){let e=pt();v(0,"button",5),se("click",function(){Le(e);let r=x().$implicit,o=x();return Ne(o.weekdaySelected(r.index))}),j(1),y()}if(t&2){let e=x().$implicit;ue("aria-label",e.long),f(),Bt(" ",e.narrow," ")}}function n1(t,n){if(t&1&&(v(0,"span",6),j(1),y(),v(2,"span",7),j(3),y()),t&2){let e=x().$implicit;f(),Se(e.long),f(2),Se(e.narrow)}}function i1(t,n){if(t&1&&(v(0,"th"),H(1,t1,2,2,"button",4)(2,n1,4,2),y()),t&2){let e,i=x();f(),Ve((e=i.isWeekdaySelectable)===!0?1:e===!1?2:-1)}}function r1(t,n){}var o1=["*"];function s1(t,n){if(t&1){let e=pt();v(0,"button",2),se("click",function(){Le(e);let r=x();return Ne(r.prevDay())}),$(1,"sbb-icon",3),y()}if(t&2){let e=x();C("disabled",e.disabled),ue("aria-label",e.prevDayAriaLabel)}}function a1(t,n){t&1&&$(0,"sbb-datepicker-toggle")}function l1(t,n){if(t&1){let e=pt();v(0,"button",4),se("click",function(){Le(e);let r=x();return Ne(r.nextDay())}),$(1,"sbb-icon",5),y()}if(t&2){let e=x();C("disabled",e.disabled),ue("aria-label",e.nextDayAriaLabel)}}var c1=0,Dm=class{value;displayValue;ariaLabel;enabled;rangeBackground;cssClasses;id=c1++;constructor(n,e,i,r,o,s={}){this.value=n,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.rangeBackground=o,this.cssClasses=s}},ow=(()=>{class t{_elementRef=u(he);_changeDetectorRef=u(qe);_focusActiveCellAfterViewChecked=!1;label;set rows(e){e!==this._rows&&(this._rows=e,this._changeDetectorRef.markForCheck())}get rows(){return this._rows}_rows;weeksInMonth=[];todayValue;selectedValue;labelMinRequiredCells;numCols=7;allowDisabledSelection=!1;activeCell=0;isWeekSelectable=!1;isWeekdaySelectable=!1;selectedValueChange=new Q;selectedWeekChange=new Q;activeDateChange=new Q;_injector=u(dt);_trackRow=e=>e;constructor(){}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this.focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}cellClicked(e){!this.allowDisabledSelection&&!e.enabled||this.selectedValueChange.emit(e.value)}onWeekClicked(e){this.selectedWeekChange.emit(e)}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit(e.value)}get firstRowOffset(){return this.rows&&this.rows.length&&this.rows[0].length?this.numCols-this.rows[0].length:0}isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this.firstRowOffset),r===this.activeCell}focusActiveCell(){gn(()=>{setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector(".sbb-calendar-body-active");e&&e.focus()})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["","sbb-calendar-body",""]],hostAttrs:["role","grid",1,"sbb-calendar-body"],hostVars:1,hostBindings:function(i,r){i&2&&ue("aria-readonly",!0)},inputs:{label:"label",rows:"rows",weeksInMonth:"weeksInMonth",todayValue:"todayValue",selectedValue:"selectedValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",allowDisabledSelection:"allowDisabledSelection",activeCell:"activeCell",isWeekSelectable:"isWeekSelectable",isWeekdaySelectable:"isWeekdaySelectable"},outputs:{selectedValueChange:"selectedValueChange",selectedWeekChange:"selectedWeekChange",activeDateChange:"activeDateChange"},exportAs:["sbbCalendarBody"],attrs:HM,decls:2,vars:0,consts:[["role","row"],["role","gridcell",3,"width"],[1,"sbb-calendar-body-label"],["role","gridcell",1,"sbb-calendar-body-cell-container",3,"sbb-first-cell","width"],["role","gridcell"],["type","button",1,"sbb-calendar-body-cell","sbb-button-reset-frameless","sbb-calendar-body-week"],[1,"sbb-calendar-body-cell","sbb-calendar-body-week"],["type","button",1,"sbb-calendar-body-cell","sbb-button-reset-frameless","sbb-calendar-body-week",3,"click"],[1,"sbb-calendar-body-cell-content"],["role","gridcell",1,"sbb-calendar-body-cell-container"],["type","button",1,"sbb-calendar-body-cell","sbb-button-reset-frameless",3,"click","focus","tabindex"]],template:function(i,r){i&1&&Yl(0,ZM,5,2,"tr",0,zM,!0),i&2&&ql(r.rows)},encapsulation:2,changeDetection:0})}return t})();function ro(t){return Error(`SbbDatepicker: No provider found for ${t}.`)}var Cl=class{start;end;constructor(n,e){this.start=n,this.end=e}},xm=new Y("SBB_DATEPICKER"),wm=7,sw=(()=>{class t{_dateAdapter=u(fi,{optional:!0});locale=u(Er);_changeDetectorRef=u(qe);_dateFormats=u(ha,{optional:!0});get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this.init()}_activeDate;get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this.selectedDate=this._getDateInCurrentMonth(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;get dateClass(){return this._dateClass}set dateClass(e){this._dateClass=e,this._updateDateClasses()}_dateClass;showWeekNumbers=!1;isWeekSelectable=!1;isWeekdaySelectable=!1;selectedChange=new Q;selectedWeekChange=new Q;selectedWeekdayChange=new Q;userSelection=new Q;activeDateChange=new Q;sbbCalendarBody;monthLabel;weeks;weeksInMonth=[];firstWeekOffset;selectedDate;selectedWeekday;todayDate;weekdays;get dateRange(){return this._dateRange}set dateRange(e){this._dateRange=e,this._updateRangeBackground()}_dateRange=null;_datePicker;constructor(){let e=u(xm,{optional:!0});if(!this._dateAdapter)throw ro("DateAdapter");if(!this._dateFormats)throw ro("SBB_DATE_FORMATS");this._datePicker=e;let i=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,l)=>({long:a,narrow:r[l],index:l}));this.weekdays=s.slice(i).concat(s.slice(0,i)),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this.init()}dateSelected(e){if(this.selectedDate!==e){let i=this._getDateFromDayOfMonth(e);this.selectedChange.emit(i)}this.userSelection.emit()}weekSelected(e){let i=this.weeksInMonth.findIndex(o=>o===e);if(i<0||i>=this.weeks.length)return;let r=this.weeks[i];this.selectedWeekChange.emit({week:e,rangeInMonth:new Cl(this._getDateFromDayOfMonth(r[0].value),this._getDateFromDayOfMonth(r[r.length-1].value))})}weekdaySelected(e){this.selectedWeekday!==e&&this.selectedWeekdayChange.emit(e)}_updateActiveDate(e){let i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}handleCalendarBodyKeydown(e){let i=this._activeDate;switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:(!this.dateFilter||this.dateFilter(this._activeDate))&&(this.dateSelected(this._dateAdapter.getDate(this._activeDate)),this.userSelection.emit(),e.preventDefault());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}init(){let e=this._datePicker;e&&e.connected&&e.datepickerInput.value&&e.connected.datepickerInput.value?this._dateRange=new Cl(e.datepickerInput.value,e.connected.datepickerInput.value):e&&e.main&&e.datepickerInput.value&&e.main.datepickerInput.value&&(this._dateRange=new Cl(e.main.datepickerInput.value,e.datepickerInput.value)),this.selectedDate=this._getDateInCurrentMonth(this.selected),this.todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this.monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this.firstWeekOffset=(wm+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%wm,this._createWeekCells(),this._changeDetectorRef.markForCheck()}focusActiveCell(){this.sbbCalendarBody.focusActiveCell()}_focusActiveCellAfterViewChecked(){this.sbbCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames(),r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getYear(this.activeDate);this.weeks=[[]],this.weeksInMonth=[];let s=this._dateAdapter.getFirstDayOfWeek()===1&&this.firstWeekOffset===6;for(let a=0,l=this.firstWeekOffset;a<e;a++,l++){l===wm&&(this.weeks.push([]),l=0);let c=this._dateAdapter.createDate(o,r,a+1);if(a===0||l===0)if(a===0&&s){let p=this._dateAdapter.addCalendarDays(c,-1);this.weeksInMonth.push(parseInt(this._dateAdapter.format(p,"w"),10))}else this.weeksInMonth.push(parseInt(this._dateAdapter.format(c,"w"),10));let d=this._shouldEnableDate(c),h=this._dateAdapter.format(c,this._dateFormats.dateA11yLabel),m=this._shouldApplyRangeBackground(c),_=this._dateClass?this._dateClass(c):void 0;this.weeks[this.weeks.length-1].push(new Dm(a+1,i[a],h,d,m,_))}}_updateDateClasses(){let e=!1,i=this._dateAdapter.getYear(this.activeDate),r=this._dateAdapter.getMonth(this.activeDate);if(this.weeks){for(let o=0;o<this.weeks.length;o++)for(let s=0;s<this.weeks[o].length;s++){let a=this._dateAdapter.createDate(i,r,this.weeks[o][s].value),l=this._dateClass?this._dateClass(a):void 0;e=e||this.weeks[o][s].cssClasses!==l,this.weeks[o][s].cssClasses=l||{}}e&&(this.weeks=[...this.weeks])}}_updateRangeBackground(){let e=!1;if(this.weeks){let i=this._dateAdapter.getYear(this.activeDate),r=this._dateAdapter.getMonth(this.activeDate);for(let o=0;o<this.weeks.length;o++)for(let s=0;s<this.weeks[o].length;s++){let a=this._dateAdapter.createDate(i,r,this.weeks[o][s].value),l=this._shouldApplyRangeBackground(a);e=e||this.weeks[o][s].rangeBackground!==l,this.weeks[o][s].rangeBackground=l}e&&(this.weeks=[...this.weeks])}}_shouldApplyRangeBackground(e){return this.dateRange&&this.dateRange.start&&this.dateRange.end&&!this._dateAdapter.sameDate(this.dateRange.start,this.dateRange.end)?this._dateAdapter.compareDate(e,this.dateRange.start)>0&&this._dateAdapter.compareDate(e,this.dateRange.end)<0?"range":this._isRangeLimit(e):null}_isRangeLimit(e){return this._dateAdapter.compareDate(e,this.dateRange.start)===0?"begin":this._dateAdapter.compareDate(e,this.dateRange.end)===0?"end":null}_shouldEnableDate(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)===this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)===this._dateAdapter.getYear(i))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-month-view"]],viewQuery:function(i,r){if(i&1&&Ye(ow,7),i&2){let o;Ae(o=ke())&&(r.sbbCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",showWeekNumbers:"showWeekNumbers",isWeekSelectable:"isWeekSelectable",isWeekdaySelectable:"isWeekdaySelectable",dateRange:"dateRange"},outputs:{selectedChange:"selectedChange",selectedWeekChange:"selectedWeekChange",selectedWeekdayChange:"selectedWeekdayChange",userSelection:"userSelection",activeDateChange:"activeDateChange"},exportAs:["sbbMonthView"],decls:9,vars:11,consts:[[1,"sbb-calendar-table"],[1,"sbb-calendar-table-header"],["colspan","7","aria-hidden","true",1,"sbb-calendar-table-header-divider"],["sbb-calendar-body","",3,"selectedValueChange","selectedWeekChange","activeDateChange","keydown","label","rows","weeksInMonth","todayValue","selectedValue","labelMinRequiredCells","activeCell","isWeekSelectable","isWeekdaySelectable"],["type","button","tabindex","0",1,"sbb-button-reset-frameless","sbb-calendar-body-weekday"],["type","button","tabindex","0",1,"sbb-button-reset-frameless","sbb-calendar-body-weekday",3,"click"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){i&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),H(3,e1,2,0,"th"),Yl(4,i1,3,1,"th",null,JM),y(),v(6,"tr"),$(7,"th",2),y()(),v(8,"tbody",3),se("selectedValueChange",function(s){return r.dateSelected(s)})("selectedWeekChange",function(s){return r.weekSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keydown",function(s){return r.handleCalendarBodyKeydown(s)}),y()()),i&2&&(f(3),Ve(r.showWeekNumbers?3:-1),f(),ql(r.weekdays),f(4),Dr("label",r.monthLabel),C("rows",r.weeks)("weeksInMonth",r.showWeekNumbers?r.weeksInMonth:fb(10,QM))("todayValue",r.todayDate)("selectedValue",r.selectedDate)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("isWeekSelectable",r.isWeekSelectable)("isWeekdaySelectable",r.isWeekdaySelectable))},dependencies:[ow],encapsulation:2,changeDetection:0})}return t})(),aw=(()=>{class t{_dateAdapter=u(fi,{optional:!0});_labelSwitchToPreviousMonth=$localize`:Button label to switch to the previous month@@sbbDatepickerSwitchToPreviousMonth:Change to the previous month`;_labelSwitchToNextMonth=$localize`:Button label to switch to the next month@@sbbDatepickerSwitchToNextMonth:Change to the next month`;_labelSwitchToPreviousYear=$localize`:Button label to switch to the previous year@@sbbDatepickerSwitchToPreviousYear:Change to the previous year`;_labelSwitchToNextYear=$localize`:Button label to switch to the next year@@sbbDatepickerSwitchToNextYear:Change to the next year`;calendar=u(Em);constructor(){let e=u(qe);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get monthText(){return this._dateAdapter.getMonthName(this.calendar.activeDate)}get yearText(){return this._dateAdapter.getYearName(this.calendar.activeDate)}previousMonthClicked(){let e=this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1);this._assignActiveDate(e)}nextMonthClicked(){let e=this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1);this._assignActiveDate(e)}previousMonthEnabled(){return!this.calendar.minDate||!this._isSameMonthView(this.calendar.activeDate,this.calendar.minDate)}nextMonthEnabled(){return!this.calendar.maxDate||!this._isSameMonthView(this.calendar.activeDate,this.calendar.maxDate)}_isSameMonthView(e,i){return this._dateAdapter.getYear(e)===this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)===this._dateAdapter.getMonth(i)}previousYearClicked(){let e=this._dateAdapter.addCalendarYears(this.calendar.activeDate,-1);this._assignActiveDate(e)}nextYearClicked(){let e=this._dateAdapter.addCalendarYears(this.calendar.activeDate,1);this._assignActiveDate(e)}previousYearEnabled(){return!this.calendar.minDate||!this._isSameYearView(this.calendar.activeDate,this.calendar.minDate)}nextYearEnabled(){return!this.calendar.maxDate||!this._isSameYearView(this.calendar.activeDate,this.calendar.maxDate)}_isSameYearView(e,i){return this._dateAdapter.getYear(e)===this._dateAdapter.getYear(i)}_assignActiveDate(e){this.calendar.minDate&&this._dateAdapter.compareDate(this.calendar.minDate,e)>0?this.calendar.activeDate=this.calendar.minDate:this.calendar.maxDate&&this._dateAdapter.compareDate(this.calendar.maxDate,e)<0?this.calendar.activeDate=this.calendar.maxDate:this.calendar.activeDate=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-calendar-header"]],hostAttrs:[1,"sbb-calendar-header","sbb-icon-scaled"],exportAs:["sbbCalendarHeader"],decls:15,vars:12,consts:[[1,"sbb-calendar-controls"],[1,"sbb-calendar-controls-months"],["type","button",1,"sbb-calendar-controls-button","sbb-calendar-controls-button-previous",3,"click","disabled"],["svgIcon","chevron-small-left-small"],["aria-live","polite",1,"sbb-calendar-controls-label"],["type","button",1,"sbb-calendar-controls-button","sbb-calendar-controls-button-next",3,"click","disabled"],["svgIcon","chevron-small-right-small"],[1,"sbb-calendar-controls-years"]],template:function(i,r){i&1&&(v(0,"div",0)(1,"div",1)(2,"button",2),se("click",function(){return r.previousMonthClicked()}),$(3,"sbb-icon",3),y(),v(4,"span",4),j(5),y(),v(6,"button",5),se("click",function(){return r.nextMonthClicked()}),$(7,"sbb-icon",6),y()(),v(8,"div",7)(9,"button",2),se("click",function(){return r.previousYearClicked()}),$(10,"sbb-icon",3),y(),v(11,"span",4),j(12),y(),v(13,"button",5),se("click",function(){return r.nextYearClicked()}),$(14,"sbb-icon",6),y()()()),i&2&&(f(2),C("disabled",!r.previousMonthEnabled()),ue("aria-label",r._labelSwitchToPreviousMonth),f(2),ue("aria-label",r.monthText),f(),Se(r.monthText),f(),C("disabled",!r.nextMonthEnabled()),ue("aria-label",r._labelSwitchToNextMonth),f(3),C("disabled",!r.previousYearEnabled()),ue("aria-label",r._labelSwitchToPreviousYear),f(2),ue("aria-label",r.yearText),f(),Se(r.yearText),f(),C("disabled",!r.nextYearEnabled()),ue("aria-label",r._labelSwitchToNextYear))},dependencies:[$e,at],encapsulation:2,changeDetection:0})}return t})(),Em=(()=>{class t{_dateAdapter=u(fi,{optional:!0});_dateFormats=u(ha,{optional:!0});_changeDetectorRef=u(qe);headerComponent;calendarHeaderPortal;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;showWeekNumbers=!1;dateRange=null;dateFilter;dateClass;_dateClassObservable;selectedChange=new Q;selectedWeekChange=new Q;selectedWeekdayChange=new Q;userSelection=new Q;monthView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next()}_clampedActiveDate;stateChanges=new te;constructor(){if(!this._dateAdapter)throw ro("DateAdapter");if(!this._dateFormats)throw ro("SBB_DATE_FORMATS")}ngAfterContentInit(){this.calendarHeaderPortal=new Pi(this.headerComponent||aw),this.activeDate=this.startAt||this._dateAdapter.today()}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s.init())}e.dateClass&&e.dateClass.previousValue!==e.dateClass.currentValue&&(this._dateClassObservable=Ds(this.dateClass)?this.dateClass:ne(this.dateClass)),this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent().focusActiveCell()}dateSelected(e){e&&!this._dateAdapter.sameDate(e,this.selected)&&this.selectedChange.emit(e)}weekSelected(e){this.selectedWeekChange.emit(e&&{week:e.week,start:e.rangeInMonth.start,end:e.rangeInMonth.end})}weekdaySelected(e){this.selectedWeekdayChange.emit(e)}userSelected(){this.userSelection.emit()}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_getCurrentViewComponent(){return this.monthView}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-calendar"]],viewQuery:function(i,r){if(i&1&&Ye(sw,7),i&2){let o;Ae(o=ke())&&(r.monthView=o.first)}},hostAttrs:[1,"sbb-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",showWeekNumbers:"showWeekNumbers",dateRange:"dateRange",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",selectedWeekChange:"selectedWeekChange",selectedWeekdayChange:"selectedWeekdayChange",userSelection:"userSelection"},exportAs:["sbbCalendar"],features:[Qe],decls:4,vars:13,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"sbb-calendar-content"],[3,"activeDateChange","selectedChange","selectedWeekChange","selectedWeekdayChange","userSelection","activeDate","selected","dateFilter","dateRange","dateClass","showWeekNumbers","maxDate","minDate","isWeekSelectable","isWeekdaySelectable"]],template:function(i,r){i&1&&(H(0,r1,0,0,"ng-template",0),v(1,"div",1)(2,"sbb-month-view",2),wt(3,"async"),pb("activeDateChange",function(s){return hb(r.activeDate,s)||(r.activeDate=s),s}),se("selectedChange",function(s){return r.dateSelected(s)})("selectedWeekChange",function(s){return r.weekSelected(s)})("selectedWeekdayChange",function(s){return r.weekdaySelected(s)})("userSelection",function(){return r.userSelected()}),y()()),i&2&&(C("cdkPortalOutlet",r.calendarHeaderPortal),f(2),ub("activeDate",r.activeDate),C("selected",r.selected)("dateFilter",r.dateFilter)("dateRange",r.dateRange)("dateClass",jt(3,11,r._dateClassObservable))("showWeekNumbers",r.showWeekNumbers)("maxDate",r.maxDate)("minDate",r.minDate)("isWeekSelectable",r.selectedWeekChange.observers.length>0)("isWeekdaySelectable",r.selectedWeekdayChange.observers.length>0))},dependencies:[jr,Bp,sw,Zt],styles:['.sbb-calendar{display:block;max-width:100%;width:var(--sbb-datepicker-calendar-width);height:var(--sbb-datepicker-calendar-height);background-color:var(--sbb-datepicker-calendar-background-color);border:var(--sbb-border-width) solid var(--sbb-color-weak-accent);border-radius:var(--sbb-border-radius)}.sbb-calendar-header{display:block;border-bottom:var(--sbb-border-width-thin) solid var(--sbb-datepicker-calendar-line-color)}.sbb-calendar-controls{display:flex;height:var(--sbb-datepicker-calendar-header-height);align-items:center}.sbb-calendar-controls-months,.sbb-calendar-controls-years{display:flex;height:var(--sbb-datepicker-calendar-header-height);flex:1 0 50%;text-align:center;position:relative}.sbb-calendar-controls-months::after{content:"";display:block;position:absolute;width:0;height:100%;top:0;right:0;border-right:var(--sbb-border-width-thin) solid var(--sbb-datepicker-calendar-line-color)}.sbb-calendar-controls-button{background:none;max-width:none;min-width:0;padding:0;margin:0;border:none;display:flex;align-items:center;justify-content:center;flex-shrink:0;flex-grow:0;outline:0;padding-left:var(--sbb-datepicker-calendar-controls-padding);padding-right:var(--sbb-datepicker-calendar-controls-padding);height:var(--sbb-datepicker-calendar-header-height);cursor:pointer;color:var(--sbb-datepicker-calendar-header-controls-color)}.sbb-calendar-controls-button:is(:hover,:focus,:active){color:var(--sbb-color-call-to-action-hover)}.sbb-calendar-controls-button:disabled{cursor:default;opacity:0}.sbb-calendar-controls-button-previous{float:left;padding-right:0}.sbb-calendar-controls-button-next{float:right;padding-left:0}.sbb-calendar-controls-label{flex-grow:1;flex-shrink:1;font-family:var(--sbb-font-light);font-size:1.4rem;line-height:3.2;color:var(--sbb-datepicker-calendar-header-color)}@media all and (min-width: 40.1875em){:where(html:not(.sbb-lean)) .sbb-calendar-controls-label{font-size:var(--sbb-font-size-large)}}:where(html.sbb-lean) .sbb-calendar-controls-label{font-size:var(--sbb-font-size);line-height:2.4rem}.sbb-calendar-content{padding:0 var(--sbb-datepicker-calendar-table-content-padding-width)}.sbb-calendar-table{width:100%;border-spacing:0;border-collapse:collapse;margin:0;position:relative}.sbb-calendar-table :is(td,th){color:var(--sbb-color-weak-accent);font-size:var(--sbb-font-size);line-height:1.5}.sbb-calendar-table-header::after{content:"";display:block;position:absolute;top:calc(2.2rem*var(--sbb-scaling-factor));border-bottom:var(--sbb-border-width-thin) solid var(--sbb-datepicker-calendar-line-color);width:calc(100% + var(--sbb-datepicker-calendar-table-content-padding-width)*2);left:calc(var(--sbb-datepicker-calendar-table-content-padding-width)*-1)}.sbb-calendar-table-header tr th{font-family:var(--sbb-font-roman);font-weight:400;font-size:var(--sbb-font-size-small);text-transform:uppercase;padding:calc(0.4666666667rem*var(--sbb-scaling-factor));color:var(--sbb-datepicker-calendar-header-color)}.sbb-calendar-table-header-divider{height:calc(1rem*var(--sbb-scaling-factor))}.sbb-calendar-body-cell-container{position:relative;height:0;padding:0;line-height:0;text-align:center}.sbb-calendar-body-cell{position:relative;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.sbb-calendar-body-cell:is(button){cursor:pointer}.sbb-calendar-body-cell:is(.sbb-calendar-body-range-background,.sbb-calendar-body-selected-begin,.sbb-calendar-body-selected-end)::before{position:absolute;top:12.5%;left:12.5%;display:flex;align-items:center;justify-content:center;width:var(--sbb-datepicker-calendar-body-cell-size);height:var(--sbb-datepicker-calendar-body-cell-size);line-height:1;padding-left:calc(0.0666666667rem*var(--sbb-scaling-factor));padding-bottom:calc(0.0666666667rem*var(--sbb-scaling-factor));content:"";background-color:var(--sbb-datepicker-calendar-table-range-bg-color);width:100%;left:0}:is(.sbb-calendar-body-cell-container:is(:last-child,.sbb-first-cell)>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell:is(.sbb-calendar-body-selected-begin,.sbb-calendar-body-selected-end,.sbb-calendar-body-range-background-offset-start))::before{width:50%}:is(.sbb-calendar-body-cell-container.sbb-first-cell>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell:is(.sbb-calendar-body-selected-begin,.sbb-calendar-body-range-background-offset-start))::before{left:auto;right:0}:is(.sbb-calendar-body-cell-container:is(:last-child,.sbb-first-cell)>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell.sbb-calendar-body-range-background-offset-start)::after{position:absolute;top:12.5%;left:12.5%;display:flex;align-items:center;justify-content:center;width:var(--sbb-datepicker-calendar-body-cell-size);height:var(--sbb-datepicker-calendar-body-cell-size);line-height:1;padding-left:calc(0.0666666667rem*var(--sbb-scaling-factor));padding-bottom:calc(0.0666666667rem*var(--sbb-scaling-factor));content:"";background-color:var(--sbb-datepicker-calendar-table-range-bg-color)}:is(.sbb-calendar-body-cell-container.sbb-first-cell>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell.sbb-calendar-body-range-background-offset-start)::after{border-radius:50% 0 0 50%}.sbb-calendar-body-cell-container:last-child>.sbb-calendar-body-cell.sbb-calendar-body-range-background::after{border-radius:0 50% 50% 0}:is(.sbb-calendar-body-cell-container.sbb-first-cell:last-child>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell-container:last-child>.sbb-calendar-body-cell:is(.sbb-calendar-body-range-background-offset-start,.sbb-calendar-body-selected-begin),.sbb-calendar-body-cell-container.sbb-first-cell:last-child>.sbb-calendar-body-cell.sbb-calendar-body-selected-end,.sbb-calendar-body-cell.sbb-calendar-body-range-background-offset-start.sbb-calendar-body-selected-end)::before{display:none}:is(.sbb-calendar-body-cell-container.sbb-first-cell:last-child>.sbb-calendar-body-cell.sbb-calendar-body-range-background,.sbb-calendar-body-cell-container:last-child>.sbb-calendar-body-cell:is(.sbb-calendar-body-range-background-offset-start,.sbb-calendar-body-selected-begin),.sbb-calendar-body-cell-container.sbb-first-cell:last-child>.sbb-calendar-body-cell.sbb-calendar-body-selected-end,.sbb-calendar-body-cell.sbb-calendar-body-range-background-offset-start.sbb-calendar-body-selected-end)::after{border-radius:50%}.sbb-calendar-body-cell,.sbb-calendar-body-label{padding-top:var(--sbb-datepicker-calendar-body-cell-padding);padding-bottom:var(--sbb-datepicker-calendar-body-cell-padding)}.sbb-calendar-body-cell.sbb-calendar-body-disabled{color:var(--sbb-datepicker-calendar-body-cell-disabled-color);cursor:default}.sbb-calendar-body-cell.sbb-calendar-body-disabled::after{content:"";width:calc(2.1333333333rem*var(--sbb-scaling-factor));height:calc(0.0666666667rem*var(--sbb-scaling-factor));top:calc(1.6666666667rem*var(--sbb-scaling-factor));left:calc(50% - var(--sbb-datepicker-calendar-body-cell-disabled-offset));background-color:var(--sbb-datepicker-calendar-body-cell-disabled-color);display:block;position:absolute;transform:rotate(-45deg)}:where(html.sbb-lean) .sbb-calendar-body-cell.sbb-calendar-body-disabled::after{width:1.6rem;top:1.2rem}.sbb-calendar-body-today{font-family:var(--sbb-font-bold);color:var(--sbb-color-text)}.sbb-calendar-body-week{font-size:var(--sbb-font-size-small)}.sbb-calendar-body-weekday{cursor:pointer}button:is(.sbb-calendar-body-weekday,.sbb-calendar-body-week):is(:hover,:focus){color:var(--sbb-color-call-to-action-hover);outline:none}.sbb-calendar-body-cell-content{position:absolute;top:12.5%;left:12.5%;display:flex;align-items:center;justify-content:center;width:var(--sbb-datepicker-calendar-body-cell-size);height:var(--sbb-datepicker-calendar-body-cell-size);line-height:1;padding-left:calc(0.0666666667rem*var(--sbb-scaling-factor));padding-bottom:calc(0.0666666667rem*var(--sbb-scaling-factor));border:var(--sbb-border-width) solid rgba(0,0,0,0);border-radius:50%;z-index:1}.sbb-calendar-body-cell:not(.sbb-calendar-body-disabled,.sbb-calendar-body-week):is(:hover,:focus) .sbb-calendar-body-cell-content{background-color:var(--sbb-datepicker-calendar-background-color);color:var(--sbb-color-call-to-action-hover);border-color:var(--sbb-color-call-to-action-hover)}:is(.sbb-calendar-body-cell:not(.sbb-calendar-body-disabled).sbb-calendar-body-selected,.sbb-calendar-body-selected-begin,.sbb-calendar-body-selected-end) .sbb-calendar-body-cell-content{background-color:var(--sbb-datepicker-calendar-background-color);color:var(--sbb-color-weak-accent);border-color:var(--sbb-color-weak-accent)}'],encapsulation:2,changeDetection:0})}return t})(),d1=(()=>{class t{calendar;datepicker;isAbove;_dialogLabelId;ngAfterViewInit(){this.calendar.focusActiveCell()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-datepicker-content"]],viewQuery:function(i,r){if(i&1&&Ye(Em,7),i&2){let o;Ae(o=ke())&&(r.calendar=o.first)}},hostAttrs:[1,"sbb-datepicker-content"],exportAs:["sbbDatepickerContent"],decls:1,vars:11,consts:[["cdkTrapFocus","","role","dialog",1,"sbb-datepicker-content-container",3,"selectedChange","userSelection","id","startAt","minDate","maxDate","dateFilter","headerComponent","selected"]],template:function(i,r){if(i&1&&(v(0,"sbb-calendar",0),se("selectedChange",function(s){return r.datepicker.select(s)})("userSelection",function(){return r.datepicker.close()}),y()),i&2){let o;_h(r.datepicker.panelClass),C("id",r.datepicker.id)("startAt",r.datepicker.startAt)("minDate",r.datepicker.minDate)("maxDate",r.datepicker.maxDate)("dateFilter",r.datepicker.dateFilter)("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r.datepicker.selected),ue("aria-modal",!0)("aria-labelledby",(o=r._dialogLabelId)!==null&&o!==void 0?o:void 0)}},dependencies:[Em,$p],styles:['.sbb-datepicker-content{position:relative;top:var(--sbb-datepicker-content-offset);font-size:var(--sbb-font-size);height:var(--sbb-datepicker-calendar-height);width:var(--sbb-datepicker-calendar-width)}.sbb-datepicker-panel-above .sbb-datepicker-content{top:auto;bottom:var(--sbb-datepicker-content-offset)}.sbb-datepicker-content::after{top:var(--sbb-datepicker-calendar-arrow-offset);left:calc(var(--sbb-datepicker-button-offset) + var(--sbb-border-width));content:"";height:var(--sbb-datepicker-calendar-arrow-width);width:var(--sbb-datepicker-calendar-arrow-width);position:absolute;pointer-events:none;transform:rotate(-135deg);background-color:var(--sbb-datepicker-calendar-background-color);border:var(--sbb-border-width) solid rgba(0,0,0,0);border-right-color:var(--sbb-color-weak-accent);border-bottom-color:var(--sbb-color-weak-accent);clip-path:polygon(-0.4px 100%, 100% -0.4px, 100% 100%)}.sbb-datepicker-with-arrows .sbb-datepicker-content::after{left:calc(var(--sbb-datepicker-button-offset) + var(--sbb-border-width) + var(--sbb-icon-size-default) + var(--sbb-datepicker-button-gap))}.sbb-datepicker-panel-above .sbb-datepicker-content::after{top:auto;bottom:var(--sbb-datepicker-calendar-arrow-offset);transform:rotate(45deg);clip-path:var(--sbb-box-shadow-arrow-clip-path);box-shadow:var(--sbb-box-shadow-arrow-width) var(--sbb-box-shadow-arrow-width) 0 var(--sbb-box-shadow-arrow-width) var(--sbb-box-shadow-color)}.sbb-datepicker-panel-centered .sbb-datepicker-content::after{display:none}.sbb-datepicker-content .sbb-calendar{box-shadow:var(--sbb-box-shadow-below)}'],encapsulation:2,changeDetection:0})}return t})(),lw=(()=>{class t{_changeDetectorRef=u(qe);_datepicker=u(xm);_labelShowCalendar=$localize`:Open calendar@@sbbDatepickerOpenCalendar:Show calendar`;_stateChanges=ct.EMPTY;tabIndex;get disabled(){return this._disabled===void 0?this._datepicker.disabled:this._disabled}set disabled(e){this._disabled=e}_disabled;constructor(){let e=u(new Ts("tabindex"),{optional:!0}),i=Number(e);this.tabIndex=i||i===0?i:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(e){this._datepicker&&!this.disabled&&(this._datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this._datepicker?this._datepicker.disabledChange:ne(),i=this._datepicker&&this._datepicker.datepickerInput?this._datepicker.datepickerInput.disabledChange:ne(),r=this._datepicker?$t(this._datepicker.openedStream,this._datepicker.closedStream):ne();this._stateChanges.unsubscribe(),this._stateChanges=$t(e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-datepicker-toggle"]],hostAttrs:[1,"sbb-datepicker-toggle"],hostVars:3,hostBindings:function(i,r){i&2&&(ue("tabindex",null),ye("sbb-datepicker-toggle-active",r._datepicker&&r._datepicker.opened))},inputs:{tabIndex:"tabIndex",disabled:[2,"disabled","disabled",Ce]},features:[Qe],decls:2,vars:3,consts:[["aria-haspopup","true","type","button",1,"sbb-datepicker-toggle-button","sbb-icon-scaled",3,"click","disabled"],["svgIcon","calendar-small"]],template:function(i,r){i&1&&(v(0,"button",0),se("click",function(s){return r.open(s)}),$(1,"sbb-icon",1),y()),i&2&&(C("disabled",r.disabled),ue("aria-label",r._labelShowCalendar)("tabindex",r.disabled?-1:r.tabIndex))},dependencies:[$e,at],encapsulation:2,changeDetection:0})}return t})(),cw=new Y("sbb-datepicker-scroll-strategy");function u1(t){return()=>t.scrollStrategies.reposition()}var h1={provide:cw,deps:[Gt],useFactory:u1},Yu=(()=>{class t{_overlay=u(Gt);_viewContainerRef=u(Nt);_changeDetectorRef=u(qe);_scrollStrategy=u(cw);_dateAdapter=u(fi,{optional:!0});locale=u(Er);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.value:null)}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}_disabled;panelClass;set connected(e){e!==this._connected&&this._connected&&(this._connected.main=null),e&&(e.main=this),this._connected=e}get connected(){return this._connected}_connected;main;arrows;get arrowsVisible(){return this.arrows&&!this.datepickerInput?.readonly}toggle=!0;set notoggle(e){this.toggle=!e}get toggleVisible(){return this.toggle&&!this.datepickerInput?.readonly}openedStream=new Q;closedStream=new Q;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=u(gt).getId("sbb-datepicker-");get selected(){return this._validSelected}set selected(e){this._validSelected=e,this._changeDetectorRef.markForCheck()}_validSelected=null;get minDate(){return this.datepickerInput&&this.datepickerInput.min}get maxDate(){return this.datepickerInput&&this.datepickerInput.max}get dateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}get prevDayActive(){return this.arrowsVisible&&this.datepickerInput&&!!this.datepickerInput.value&&(!this.minDate||this._dateAdapter.compareDate(this.datepickerInput.value,this.minDate)>0)}get nextDayActive(){return this.arrowsVisible&&this.datepickerInput&&!!this.datepickerInput.value&&(!this.maxDate||this._dateAdapter.compareDate(this.datepickerInput.value,this.maxDate)<0)}nextDayAriaLabel=$localize`:Next day button's aria-label@@sbbDatePickerNextDayAriaLabel:Next day`;prevDayAriaLabel=$localize`:Previous day button's aria-label@@sbbDatePickerPrevDayAriaLabel:Previous day`;popupRef;_calendarPortal;_popupComponentRef;_focusedElementBeforeOpen=null;_inputSubscription=ct.EMPTY;_inputChangeSubscription=ct.EMPTY;_connectedDatepickerSubscription=ct.EMPTY;_posStrategySubscription=ct.EMPTY;_mainDatepickerSubscription=ct.EMPTY;datepickerInput;disabledChange=new te;selectedChanged=new te;_injector=u(dt);constructor(){if(!this._dateAdapter)throw ro("DateAdapter");this._dateAdapter.setLocale(this.locale)}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._inputChangeSubscription.unsubscribe(),this._connectedDatepickerSubscription.unsubscribe(),this._mainDatepickerSubscription?.unsubscribe(),this.disabledChange.complete(),this.popupRef&&(this._posStrategySubscription.unsubscribe(),this.popupRef.dispose(),this._popupComponentRef=null)}select(e){let i=this.selected;this.selected=e,this._dateAdapter.sameDate(i,this.selected)||this.selectedChanged.next(e)}nextDay(){this.selected&&(this.selected=this._dateAdapter.addCalendarDays(this.selected,1),this.selectedChanged.next(this.selected))}prevDay(){this.selected&&(this.selected=this._dateAdapter.addCalendarDays(this.selected,-1),this.selectedChanged.next(this.selected))}registerInput(e){if(this.datepickerInput)throw Error("A SbbDatepicker can only be associated with a single input.");this.datepickerInput=e,this._inputSubscription=this.datepickerInput.valueChange.subscribe(i=>this.selected=i),this._inputChangeSubscription=$t(this.datepickerInput.disabledChange,this.datepickerInput.readonlyChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._mainDatepickerSubscription=this.main?.datepickerInput.valueChange.subscribe(()=>this._changeDetectorRef.markForCheck()),this._connectedDatepickerSubscription=$t(this.openedStream.pipe(so("opened")),this.selectedChanged.pipe(so("selected")),this.closedStream.pipe(so("closed"))).pipe(Lm(3,1),Me(([i,r,o])=>!!this.connected&&!!this.datepickerInput.value&&i==="opened"&&r==="selected"&&o==="closed"&&(!this.connected.datepickerInput.value||this._dateAdapter.compareDate(this.datepickerInput.value,this.connected.datepickerInput.value)>0)),Ge(()=>{this.connected.datepickerInput.value&&(this.connected.datepickerInput.value=null,this.connected.datepickerInput._cvaOnChange(null))})).subscribe(()=>this.connected.open())}open(){if(!(this._opened||this.disabled)){if(!this.datepickerInput)throw Error("Attempted to open an SbbDatepicker with no associated input.");this._focusedElementBeforeOpen=Mi(),this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();let e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function"?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_getPanelClasses(){return["sbb-datepicker-panel",this.arrows?"sbb-datepicker-with-arrows":"sbb-datepicker-no-arrows"]}_openAsPopup(){this._calendarPortal||(this._calendarPortal=new Pi(d1,this._viewContainerRef)),this.popupRef?this.popupRef.getConfig().panelClass=this._getPanelClasses():this._createPopup(),this.popupRef.hasAttached()||(this._popupComponentRef=this.popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._popupComponentRef.instance._dialogLabelId=this.datepickerInput.getOverlayLabelId(),gn(()=>{this.popupRef.updatePosition()},{injector:this._injector}))}_createPopup(){let e=new Vi({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"sbb-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),panelClass:this._getPanelClasses()});this.popupRef=this._overlay.create(e),$t(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(Me(i=>i.keyCode===27||this.datepickerInput&&i.altKey&&i.keyCode===38))).subscribe(()=>this.close())}_createPopupPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".sbb-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"center",overlayX:"start",overlayY:"center",panelClass:"sbb-datepicker-panel-centered"},{originX:"end",originY:"center",overlayX:"end",overlayY:"center",panelClass:"sbb-datepicker-panel-centered"}]);return this._posStrategySubscription=e.positionChanges.subscribe(i=>{i.connectionPair.originY==="top"?this.popupRef.hostElement.classList.add("sbb-datepicker-panel-above"):this.popupRef.hostElement.classList.remove("sbb-datepicker-panel-above")}),e}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-datepicker"]],hostAttrs:[1,"sbb-datepicker"],hostVars:6,hostBindings:function(i,r){i&2&&ye("sbb-datepicker-arrows-enabled",r.arrowsVisible)("sbb-datepicker-toggle-enabled",r.toggleVisible)("sbb-datepicker-disabled",r.disabled)},inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",disabled:[2,"disabled","disabled",Ce],panelClass:"panelClass",connected:"connected",arrows:[2,"arrows","arrows",Ce],toggle:[2,"toggle","toggle",Ce],notoggle:[2,"notoggle","notoggle",Ce],opened:[2,"opened","opened",Ce],nextDayAriaLabel:"nextDayAriaLabel",prevDayAriaLabel:"prevDayAriaLabel"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["sbbDatepicker"],features:[Ct([{provide:xm,useExisting:t}])],ngContentSelectors:o1,decls:4,vars:3,consts:[["type","button",1,"sbb-datepicker-arrow-button","sbb-datepicker-arrow-button-left","sbb-icon-scaled",3,"disabled"],["type","button",1,"sbb-datepicker-arrow-button","sbb-datepicker-arrow-button-right","sbb-icon-scaled",3,"disabled"],["type","button",1,"sbb-datepicker-arrow-button","sbb-datepicker-arrow-button-left","sbb-icon-scaled",3,"click","disabled"],["svgIcon","chevron-small-left-small"],["type","button",1,"sbb-datepicker-arrow-button","sbb-datepicker-arrow-button-right","sbb-icon-scaled",3,"click","disabled"],["svgIcon","chevron-small-right-small"]],template:function(i,r){i&1&&(et(),H(0,s1,2,2,"button",0)(1,a1,1,0,"sbb-datepicker-toggle"),Fe(2),H(3,l1,2,2,"button",1)),i&2&&(Ve(r.prevDayActive?0:-1),f(),Ve(r.toggleVisible?1:-1),f(2),Ve(r.nextDayActive?3:-1))},dependencies:[$e,at,lw],styles:[".sbb-datepicker{display:inline-block;position:relative;color:var(--sbb-color-weak-accent)}.sbb-form-field .sbb-datepicker{width:100%}.sbb-datepicker-disabled{color:var(--sbb-color-granite)}.sbb-datepicker>.sbb-date-input{width:100%}:is(.sbb-datepicker-toggle-enabled,.sbb-datepicker-arrows-enabled)>.sbb-date-input{padding-left:var(--sbb-datepicker-toggle-or-arrows-padding)}.sbb-datepicker-arrows-enabled>.sbb-date-input{padding-right:var(--sbb-datepicker-toggle-or-arrows-padding)}.sbb-datepicker-arrows-enabled.sbb-datepicker-toggle-enabled>.sbb-date-input{padding-left:var(--sbb-datepicker-toggle-and-arrows-padding)}:is(.sbb-datepicker-arrow-button,.sbb-datepicker-toggle-button){background:none;max-width:none;min-width:0;padding:0;margin:0;border:none;position:absolute;top:50%;transform:translateY(-50%);outline:0;color:inherit;line-height:0}:is(.sbb-datepicker-arrow-button,.sbb-datepicker-toggle-button):not(:disabled){cursor:pointer}:is(.sbb-datepicker-arrow-button,.sbb-datepicker-toggle-button):not(:disabled):is(:hover,:focus,:active){color:var(--sbb-color-call-to-action-hover)}.sbb-datepicker-arrow-button-left,.sbb-datepicker-toggle-button{left:var(--sbb-datepicker-button-offset)}.sbb-datepicker-arrows-enabled .sbb-datepicker-toggle-button{left:var(--sbb-datepicker-adjacent-button-offset)}.sbb-datepicker-arrow-button-right{right:var(--sbb-datepicker-button-offset)}"],encapsulation:2,changeDetection:0})}return t})(),bs=class{target;targetElement;value;constructor(n,e){this.target=n,this.targetElement=e,this.value=this.target.value}},p1={provide:zu,useExisting:Di(()=>qu),multi:!0},f1={provide:bl,useExisting:Di(()=>qu),multi:!0},qu=(()=>{class t{_elementRef=u(he);_dateAdapter=u(fi,{optional:!0});_dateFormats=u(ha,{optional:!0});_datepicker=u(Yu,{optional:!0});_formField=u(vl,{optional:!0});set dateFilter(e){this._dateFilter=e,this._validatorOnChange()}get dateFilter(){return this._dateFilter}_dateFilter;get value(){return this._value}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);let i=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(i,e)||this.valueChange.emit(e)}_value;get min(){return this._min||(this._datepicker&&this._datepicker.main&&this._datepicker.main.datepickerInput&&this._datepicker.main.datepickerInput.value?this._datepicker.main.datepickerInput.value:null)}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}_min;get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}_max;get disabled(){return this._disabled}set disabled(e){let i=e,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.disabledChange.emit(i)),i&&r.blur&&r.blur()}_disabled=!1;get readonly(){return this._readonly}set readonly(e){this._readonly=e,this.readonlyChange.next(this._readonly)}_readonly=!1;dateChange=new Q;dateInput=new Q;inputBlurred=new Q;valueChange=new Q;disabledChange=new Q;readonlyChange=new Q;_datepickerSubscription=ct.EMPTY;_lastValueValid=!1;_onTouched=()=>{};_cvaOnChange=()=>{};_validatorOnChange=()=>{};_parseValidator=()=>this._lastValueValid?null:{sbbDateParse:{text:this._elementRef.nativeElement.value}};_minValidator=e=>{let i=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.min||!i||this._dateAdapter.compareDate(this.min,i)<=0?null:{sbbDateMin:{min:this.min,actual:i}}};_maxValidator=e=>{let i=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.max||!i||this._dateAdapter.compareDate(this.max,i)>=0?null:{sbbDateMax:{max:this.max,actual:i}}};_filterValidator=e=>{let i=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this._dateFilter||!i||this._dateFilter(i)?null:{sbbDateFilter:!0}};_validator=ri.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]);constructor(){if(!this._dateAdapter)throw ro("DateAdapter");if(!this._dateFormats)throw ro("SBB_DATE_FORMATS")}ngOnInit(){this._datepicker&&(this._datepicker.registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker.selectedChanged.subscribe(e=>{this.value=e,this._cvaOnChange(e),this._onTouched(),this.dateInput.emit(new bs(this,this._elementRef.nativeElement)),this.dateChange.emit(new bs(this,this._elementRef.nativeElement))}))}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getConnectedOverlayOrigin(){return this._elementRef}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){this._datepicker&&e.altKey&&e.keyCode===40&&(this._datepicker.open(),e.preventDefault())}_onInput(e){let i=this._dateAdapter.parse(e);this._lastValueValid=!i||this._dateAdapter.isValid(i),i=this._getValidDateOrNull(i),this._dateAdapter.sameDate(i,this._value)?this._validatorOnChange():(this._value=i,this._cvaOnChange(i),this.valueChange.emit(i),this.dateInput.emit(new bs(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new bs(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched(),this.inputBlurred.emit()}_formatValue(e){let i=this._datepicker?this._dateFormats.dateInput:this._dateFormats.dateInputPure??this._dateFormats.dateInput;this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,i):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_e({type:t,selectors:[["input","sbbDateInput",""]],hostAttrs:[1,"sbb-date-input"],hostVars:5,hostBindings:function(i,r){i&1&&se("keydown",function(s){return r._onKeydown(s)})("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()}),i&2&&(_n("disabled",r.disabled),ue("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(r._datepicker==null?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null))},inputs:{dateFilter:"dateFilter",value:"value",min:"min",max:"max",disabled:[2,"disabled","disabled",Ce],readonly:[2,"readonly","readonly",Ce]},outputs:{dateChange:"dateChange",dateInput:"dateInput",inputBlurred:"inputBlurred"},exportAs:["sbbDateInput"],features:[Ct([p1,f1,{provide:ym,useExisting:t}])]})}return t})(),dw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({providers:[h1,qv()],imports:[Li,ca,yi,Et,$e,Yu,lw,aw]})}return t})();var Ku={manySeatsAvailable:{level:"manySeatsAvailable",icon:"low-occupancy",label:"Many seats available"},fewSeatsAvailable:{level:"fewSeatsAvailable",icon:"middle-occupancy",label:"Few seats available"},standingRoomOnly:{level:"standingRoomOnly",icon:"high-occupancy",label:"Standing room only"}};var Xu=class t{constructor(n){this.http=n}static CACHE_DURATION=24*60*60*1e3;static MAX_FORECAST_DAYS=3;static OPERATOR_MAPPING={11:"11",33:"33",65:"65",82:"82",SBBP:"11",BLS:"33",SOB:"65",ZB:"82"};cache=new Map;loadingSubject=new Pe(!1);loading$=this.loadingSubject.asObservable();getTrainOccupancy(n,e,i){let r=t.OPERATOR_MAPPING[n];if(!r)return console.debug("Occupancy data not available for operator:",n),ne(null);let o=this.formatDate(i);if(!this.isDateValid(o))return console.debug("Occupancy data not available for date:",o),ne(null);let s=this.getCacheKey(r,o),a=this.cache.get(s);return a&&this.isCacheValid(a.timestamp)?ne(this.findTrainOccupancy(a.data,e)):this.loadOccupancyData(r,o,e,s)}getOccupancyVisualization(n,e,i,r){if(!n)return null;try{let o=n.sections.find(a=>a.departureStationName===i&&a.destinationStationName===r);if(!o)return null;let s=o.expectedDepartureOccupancies.find(a=>a.fareClass===e);return s?Ku[s.occupancyLevel]:null}catch(o){return console.debug("Error processing occupancy data:",o),null}}isLoading(){return this.loadingSubject.value}formatDate(n){return typeof n=="string"?n:Yn(n,"yyyy-MM-dd","en-US")}loadOccupancyData(n,e,i,r){this.loadingSubject.next(!0);let o=`/train-formation-view/data/occupancy/${e}/operator-${n}.json`;return this.http.get(o).pipe(J(s=>(this.cacheOccupancyData(r,s),this.findTrainOccupancy(s,i))),pn(s=>this.handleLoadError(s,n,e)),Ge(()=>this.loadingSubject.next(!1)))}cacheOccupancyData(n,e){this.cache.set(n,{data:e,timestamp:Date.now()})}handleLoadError(n,e,i){return n.statusCode===404||n.status===404?console.debug("No occupancy data available for:",{operatorId:e,date:i}):console.warn("Error fetching occupancy data:",n),ne(null)}isDateValid(n){let e=new Date;e.setHours(0,0,0,0);let i=new Date(n),r=new Date(e);return r.setDate(r.getDate()+t.MAX_FORECAST_DAYS),i>=e&&i<=r}getCacheKey(n,e){return`${n}_${e}`}isCacheValid(n){return Date.now()-n<t.CACHE_DURATION}findTrainOccupancy(n,e){try{let i=this.normalizeTrainNumber(e);return n.trains.find(r=>this.normalizeTrainNumber(r.trainNumber)===i)||null}catch(i){return console.debug("Error finding train occupancy:",i),null}}normalizeTrainNumber(n){try{let e=n.replace(/^[A-Za-z\s]+/,"");return parseInt(e,10).toString()}catch(e){return console.debug("Error normalizing train number:",e),n}}static \u0275fac=function(e){return new(e||t)(oe(tr))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var Si=class t{constructor(n,e){this.http=n;this.occupancyService=e}apiUrl="https://api.opentransportdata.swiss/formation/v2/formations_full";static WAGON_TYPES=["1","2","12","CC","FA","WL","WR","W1","W2","LK","D","K","X"];static STATUS_CHARS=["-",">","=","%"];static FAMILY_WAGON_REGEX=/F[AZ]/;static RESTAURANT_WAGON_REGEX=/W[12R]/;static WAGON_TYPE_MAPPING={LK:"locomotive",1:"first-class",2:"second-class",12:"first-and-second-class",CC:"couchette",FA:"second-class",FZ:"second-class",WL:"sleeper",WR:"restaurant",W1:"restaurant-first",W2:"restaurant-second",D:"baggage",K:"classless",X:"parked"};static TYPE_LABELS={locomotive:"Locomotive","first-class":"1st Class Coach","second-class":"2nd Class Coach","first-and-second-class":"1st & 2nd Class Coach",couchette:"Couchette Compartments",sleeper:"Sleeping Compartments",restaurant:"2nd Class Coach","restaurant-first":"1st Class Coach","restaurant-second":"2nd Class Coach",baggage:"Luggage Coach",classless:"Classless Coach",parked:"Parked Vehicle",wagon:"Coach"};static OFFER_MAPPING={BHP:{label:"Wheelchair Spaces",icon:"wheelchair"},BZ:{label:"Business Zone",icon:"business"},FZ:{label:"Family Zone",icon:"family"},KW:{label:"Stroller Platform",icon:"stroller"},LA:{label:"Luggage",icon:"luggage"},NF:{label:"Low Floor Access",icon:"accessible"},VH:{label:"Bike Hooks",icon:"bicycle"},VR:{label:"Bike Hooks Reservation Required",icon:"bicycle-reserved"},WL:{label:"Sleeping Compartments",icon:"sleep"},CC:{label:"Couchette Compartments",icon:"couchette"}};static DEFAULT_STOP_INDEX=0;static DATE_FORMAT="yyyy-MM-dd";static LOCALE="en-US";currentFormationSubject=new Pe(null);currentFormation$=this.currentFormationSubject.asObservable();currentStopIndexSubject=new Pe(0);currentStopIndex$=this.currentStopIndexSubject.asObservable();currentErrorSubject=new Pe(null);currentError$=this.currentErrorSubject.asObservable();loadingSubject=new Pe(!1);loading$=this.loadingSubject.asObservable();lastApiResponse=null;getFormation(n){this.currentErrorSubject.next(null),this.currentFormationSubject.next(null),this.loadingSubject.next(!0);let e=n.operationDate;typeof n.operationDate=="object"&&(e=Yn(n.operationDate,t.DATE_FORMAT,t.LOCALE));let i=new qn().set("evu",n.evu).set("operationDate",e).set("trainNumber",n.trainNumber).set("includeOperationalStops",n.includeOperationalStops!==void 0?n.includeOperationalStops.toString():"false");return this.http.get(this.apiUrl,{params:i}).pipe(Ge(r=>{this.lastApiResponse=r}),St(r=>hn([this.occupancyService.getTrainOccupancy(r.trainMetaInformation.toCode,r.trainMetaInformation.trainNumber.toString(),e),Promise.resolve(r)])),J(([r,o])=>(this.processFormationData(o,r),o)),pn(r=>{throw this.currentErrorSubject.next(r),r}),tn(()=>{this.loadingSubject.next(!1)}))}isLoading(){return this.loadingSubject.value}setLoading(n){this.loadingSubject.next(n)}updateSelectedStop(n){if(!this.lastApiResponse||n<0||n>=this.lastApiResponse.formationsAtScheduledStops.length)return;this.currentStopIndexSubject.next(n);let e=this.lastApiResponse.journeyMetaInformation.operationDate,i=this.lastApiResponse.trainMetaInformation.trainNumber.toString(),r=this.lastApiResponse.trainMetaInformation.toCode;this.occupancyService.getTrainOccupancy(r,i,e).subscribe(o=>{this.processFormationData(this.lastApiResponse,o,n)})}clearError(){this.currentErrorSubject.next(null)}determineTravelDirection(n,e){if(!n?.trim()||!e?.sectors)return"unknown";try{let i=this.parseFormationString(n).map(a=>a.sector).filter(a=>a?.trim());if(!i.length)return"unknown";let r=e.sectors.split(",").map(a=>a.trim()).filter(a=>a);if(!r.length)return"unknown";let o=i[0],s=i[i.length-1];return r.includes(o)?"left":r.includes(s)?"right":"unknown"}catch(i){return console.warn("Failed to determine travel direction:",i),"unknown"}}processFormationData(n,e=null,i=0){if(!n?.formationsAtScheduledStops?.length){this.currentFormationSubject.next(null);return}let r=n.formationsAtScheduledStops.filter(d=>d.formationShort.formationShortString?.trim()).map(d=>{let h=d.scheduledStop,m=d.formationShort.formationShortString,_="unknown";if(n.formations?.[0]?.formationVehicles?.length){let g=n.formations[0].formationVehicles[0].formationVehicleAtScheduledStops.find(S=>S.stopPoint.uic===h.stopPoint.uic);g&&(_=this.determineTravelDirection(m,g))}return{name:h.stopPoint.name,uic:h.stopPoint.uic,arrivalTime:h.stopTime.arrivalTime,departureTime:h.stopTime.departureTime,track:h.track,hasSectors:m?.includes("@")||/\\@[A-Z]/.test(m),travelDirection:_}});if(!r.length){this.currentFormationSubject.next(null);return}let o=i;if(i===t.DEFAULT_STOP_INDEX){let d=r.findIndex(h=>h.name!==null);d>=0&&(o=d)}o>=r.length&&(o=0),this.currentStopIndexSubject.next(o);let s=n.formationsAtScheduledStops.find(d=>d.scheduledStop.stopPoint.uic===r[o].uic);if(!s){this.currentFormationSubject.next(null);return}let a=s.formationShort.formationShortString,l=this.parseFormationString(a);if(e?.sections){let d=r[o],h=e.sections.find(m=>m.departureStationName===d.name);h&&d&&l.forEach(m=>{m.wagons.forEach(_=>{if(_.classes.includes("1")){let p=this.occupancyService.getOccupancyVisualization(e,"firstClass",d.name,h.destinationStationName);p&&(_.firstClassOccupancy={icon:p.icon,label:p.label})}if(_.classes.includes("2")){let p=this.occupancyService.getOccupancyVisualization(e,"secondClass",d.name,h.destinationStationName);p&&(_.secondClassOccupancy={icon:p.icon,label:p.label})}})})}let c={trainNumber:n.trainMetaInformation.trainNumber.toString(),operationDate:n.journeyMetaInformation.operationDate,evu:n.trainMetaInformation.toCode,currentStop:s.scheduledStop.stopPoint.name,stops:r,sections:l};this.currentFormationSubject.next(c)}parseFormationString(n){if(!n||n.trim()==="")return console.warn("Empty formation string received"),[];let e=n.includes("@")||/\\@[A-Z]/.test(n),i=new Map,r="",o=0;if(e){let a=n.split(/(?=@[A-Z])/);for(let l of a){if(!l.trim())continue;let c=l.match(/@([A-Z])/);c&&(r=c[1],i.has(r)||i.set(r,[]),l=l.substring(l.indexOf(c[0])+2)),o=this.processSegment(l,r,o,i)}}else{let a=this.extractBracketContent(n,"[","]");a||(a=n),o=this.processSegment(a,r,o,i)}let s=[];for(let[a,l]of i.entries())l.length>0&&s.push({sector:a,wagons:[...l]});return this.finalizeTrainSections(s)}processSegment(n,e,i,r){let o;for(;(o=this.extractBracketContent(n,"[","]"))!==null;){let a=this.parseVehicleGroup(o,e,i);if(a.length>0){let d=r.get(e)||[];d.push(...a),r.set(e,d),i+=a.length}let l=n.indexOf("["),c=n.indexOf("]",l)+1;n=n.substring(0,l)+n.substring(c)}let s=n.split(/[,\\]/).filter(a=>a.trim());return s.length>0&&s.forEach(a=>{let l=a.trim();if(l==="F")i++;else if(this.isPotentialWagonToken(l)){let c=this.parseVehicleToken(l,e,i);if(c){let d=r.get(e)||[];d.push(c),r.set(e,d),i++}}}),i}tokenizeFormationString(n){let e=[],i="",r=0;for(let o=0;o<n.length;o++){let s=n[o];if(s==="@"){let a="@";o+1<n.length&&/[A-Z]/.test(n[o+1])&&(a+=n[++o]),i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:0,value:a,position:r++})}else s==="["?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:2,value:"[",position:r++})):s==="]"?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:3,value:"]",position:r++})):s==="("?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:4,value:"(",position:r++})):s===")"?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:5,value:")",position:r++})):s===","?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:6,value:",",position:r++})):s==="\\"?(i&&(e.push(this.createToken(i,r)),i="",r++),e.push({type:7,value:"\\",position:r++}),o+1<n.length&&n[o+1]):s==="F"&&!i?e.push({type:1,value:"F",position:r++}):i+=s}return i&&e.push(this.createToken(i,r)),e}createToken(n,e){return n.startsWith("@")&&n.length>1?{type:0,value:n,position:e}:n==="F"?{type:1,value:n,position:e}:this.isPotentialWagonToken(n)?{type:8,value:n,position:e}:{type:9,value:n,position:e}}isPotentialWagonToken(n){return t.STATUS_CHARS.some(e=>n.startsWith(e))?!0:t.WAGON_TYPES.some(e=>n.includes(e))}extractBracketContent(n,e,i){let r=0,o=-1;for(let s=0;s<n.length;s++)if(n[s]===e)r===0&&(o=s+1),r++;else if(n[s]===i&&(r--,r===0&&o!==-1))return n.substring(o,s);return null}parseVehicleGroup(n,e,i){let r=this.tokenizeFormationString(n),o=[],s=e,a=i,l=n.match(/(?:\)|\])(?:[:#]\d+)?(?:#([A-Z;]+))?$/),c=[];if(l&&l[1]){let m=l[1].split(";");for(let _ of m){let p=this.getAttributeObject(_);p&&c.push(p)}}let d=n.match(/\((.*?)\)/),h=!!d;for(let m=0;m<r.length;m++){let _=r[m];if(_.type===0){let g=_.value.match(/@([A-Z])/);g&&(s=g[1]);continue}if(_.type!==8&&_.type!==1)continue;let p=this.parseVehicleToken(_.value,s,a++);if(p){if(r.slice(m+1).every(S=>S.type!==8)&&c.length>0)for(let S of c)p.attributes.some(b=>b.code===S.code)||p.attributes.push(S);m===0&&h&&d&&d[0].startsWith("(")&&(p.noAccessToPrevious=!0,p.noAccessMessage="No passage to the neighbouring coach possible"),m===r.length-1&&h&&d&&d[0].endsWith(")")&&(p.noAccessToNext=!0,p.noAccessMessage="No passage to the neighbouring coach possible"),o.push(p)}}return o}getAttributeObject(n){let e=t.OFFER_MAPPING[n];return e?{code:n,label:e.label,icon:e.icon}:null}parseVehicleToken(n,e,i){if(!n||n.trim()==="")return null;let r=this.parseWagonStatus(n),o=n;if(n.startsWith("-"))o=n.substring(1);else if(t.STATUS_CHARS.some(g=>n.startsWith(g))){let g=0;for(;g<n.length&&t.STATUS_CHARS.includes(n[g]);)g++;o=n.substring(g)}let s=o;o.startsWith("[")&&(o=o.substring(1)),o.endsWith("]")&&(o=o.substring(0,o.length-1)),o.startsWith("(")&&(o=o.substring(1)),o.endsWith(")")&&(o=o.substring(0,o.length-1));let a=this.determineWagonType(o),l=this.getTypeLabel(a),c=o.replace(/[()[\]]/g,""),d=this.extractOrdnr(c),h=this.determineWagonClasses(s),m=this.parseWagonAttributes(o),_=s.startsWith("(")||n.startsWith("("),p=s.endsWith(")")||n.endsWith(")");return{position:i,number:d||"",type:a,typeLabel:l,classes:h,attributes:m,noAccessToPrevious:_,noAccessToNext:p,sector:e,statusCodes:r}}parseWagonStatus(n){let e=[];return n.startsWith("-")||n.includes("(-")||n.includes("@-")?e.push("Closed"):((n.startsWith(">")||n.includes(">"))&&e.push("Group boarding"),(n.startsWith("=")||n.includes("="))&&e.push("Reserved for transit"),(n.startsWith("%")||n.includes("%"))&&e.push("Open but unserviced")),e}determineWagonType(n){let e=Object.entries(t.WAGON_TYPE_MAPPING).sort(([i],[r])=>r.length-i.length);for(let[i,r]of e)if(new RegExp(`^${i}(?:[:#,]|$)`).test(n))return r;for(let[i,r]of e)if(n.includes(i))return r;return"wagon"}getTypeLabel(n){return t.TYPE_LABELS[n]||"Coach"}determineWagonClasses(n){let e=[];if(t.FAMILY_WAGON_REGEX.test(n))return e.push("2"),e;let i=n;i.match(/^[-=>%]+/)&&(i=i.replace(/^[-=>%]+/,"")),i.startsWith("[")&&(i=i.substring(1)),i.endsWith("]")&&(i=i.substring(0,i.length-1)),i.startsWith("(")&&(i=i.substring(1)),i.endsWith(")")&&(i=i.substring(0,i.length-1));let r=i.match(/^([12])(?::|\):|,:|@:)(\d+)/);return r?(e.push(r[1]),e):i.includes("WR")?(e.push("2"),e):i.includes("W1")?(e.push("1"),e):i.includes("W2")?(e.push("2"),e):((i.match(/^1(?:[:#,@)]|$)/)||i.match(/^12(?:[:#,@)]|$)/)||i.match(/[,@]1(?:[:#,@)]|$)/)||i.match(/\(1(?:[:#,@)]|$)/))&&e.push("1"),(i.match(/^2(?:[:#,@)]|$)/)||i.match(/^12(?:[:#,@)]|$)/)||i.match(/[,@]2(?:[:#,@)]|$)/)||i.match(/\(2(?:[:#,@)]|$)/))&&e.push("2"),e)}extractOrdnr(n){let e=[/[,:](\d{1,3})(?:[:#]|$|[)])/,/(\d{1,3}):(\d{1,3})/];for(let i of e){let r=n.match(i);if(r)return r.length>2?r[2]:r[1]}return null}parseWagonAttributes(n){let e=[],i=n.match(/#([A-Z;]+)/);if(t.FAMILY_WAGON_REGEX.test(n)&&e.push({code:"FZ",label:"Family Zone",icon:"family"}),n.includes("D")&&e.push({code:"LA",label:"Luggage",icon:"luggage"}),n.includes("WL")&&e.push({code:"WL",label:"Sleeping Compartments",icon:"sleep"}),n.includes("CC")&&e.push({code:"CC",label:"Couchette Compartments",icon:"couchette"}),t.RESTAURANT_WAGON_REGEX.test(n)&&!n.includes("%")&&e.push({code:"WR",label:"Restaurant",icon:"restaurant"}),!i)return e;let o=i[1].split(";");for(let s of o){let a=t.OFFER_MAPPING[s];a&&(e.some(l=>l.code===s)||e.push({code:s,label:a.label,icon:a.icon}))}return e}finalizeTrainSections(n){let e=n.filter(s=>s.wagons.length>0);e.forEach(s=>{s.wagons.length>0&&s.wagons.forEach(a=>{a.noAccessToPrevious&&(a.noAccessMessage="No passage to previous coach"),a.noAccessToNext&&(a.noAccessMessage="No passage to next coach")})});let i=null,r=0,o=[];return e.forEach(s=>{s.wagons.forEach(a=>{o.push(a)})}),o.forEach(s=>{if(s.position=r++,s.type==="locomotive"&&(s.statusCodes=[]),i){let a=s.type==="locomotive",l=i.type==="locomotive";(i.noAccessToNext||s.noAccessToPrevious)&&!a&&!l?(i.noAccessToNext=!0,s.noAccessToPrevious=!0,i.noAccessMessage||(i.noAccessMessage="No passage to next coach"),s.noAccessMessage||(s.noAccessMessage="No passage to previous coach")):(a||l)&&(a&&(s.noAccessToPrevious=!1,s.noAccessMessage=void 0,i&&(i.noAccessToNext=!1,i.noAccessMessage=void 0)),l&&!a&&(i.noAccessToNext=!1,i.noAccessMessage=void 0,s.noAccessToPrevious=!1,s.noAccessMessage=void 0))}i=s}),e}getStoredApiResponse(){return this.lastApiResponse}static \u0275fac=function(e){return new(e||t)(oe(tr),oe(Xu))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var _s=class t{static BASE_ANCHOR_POINT=78;static SCROLL_ANIMATION_DURATION=300;static USER_SCROLL_TIMEOUT=150;static MAX_SCROLL_POSITION=1e4;static RESPONSIVE_BREAKPOINTS={SMALL:320,MEDIUM:370};static ANCHOR_ADJUSTMENTS={SMALL_SCREEN:-8,MEDIUM_SCREEN:-4};isScrolling=!1;scrollQueue=[];isUserScrolling=!1;userScrollTimeout;bodyOsInstance=null;constructor(){this.initializeScrollListeners()}initializeScrollListeners(){window.addEventListener("wheel",this.handleUserScroll,{passive:!0}),window.addEventListener("touchmove",this.handleUserScroll,{passive:!0})}setBodyOverlayScrollbarsInstance(n){try{this.bodyOsInstance=n}catch(e){console.error("Error setting OverlayScrollbars instance:",e),this.bodyOsInstance=null}}scrollToAnchor(n,e="smooth",i=!1){this.performScroll(()=>{if(i||!this.isUserScrolling)try{let r=n.getBoundingClientRect(),o=this.calculateTargetPosition(r);this.executeScroll(o,e)}catch(r){console.error("Error in scrollToAnchor:",r),this.emergencyScrollToTop()}})}maintainAnchorPoint(n){this.scrollToAnchor(n,"smooth",!0)}scrollToTop(){this.performScroll(()=>{try{this.bodyOsInstance?this.executeOverlayScrollTop():this.executeNativeScrollTop()}catch(n){console.error("Error in scrollToTop:",n),this.executeNativeScrollTop()}})}destroy(){window.removeEventListener("wheel",this.handleUserScroll),window.removeEventListener("touchmove",this.handleUserScroll),this.userScrollTimeout&&clearTimeout(this.userScrollTimeout)}getResponsiveAnchorPoint(){let n=window.innerWidth;return n<=t.RESPONSIVE_BREAKPOINTS.SMALL?t.BASE_ANCHOR_POINT+t.ANCHOR_ADJUSTMENTS.SMALL_SCREEN:n<=t.RESPONSIVE_BREAKPOINTS.MEDIUM?t.BASE_ANCHOR_POINT+t.ANCHOR_ADJUSTMENTS.MEDIUM_SCREEN:t.BASE_ANCHOR_POINT}handleUserScroll=()=>{this.isUserScrolling=!0,this.userScrollTimeout&&clearTimeout(this.userScrollTimeout),this.userScrollTimeout=setTimeout(()=>{this.isUserScrolling=!1},t.USER_SCROLL_TIMEOUT)};performScroll(n){if(this.isScrolling){this.scrollQueue.push(n);return}this.isScrolling=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.isUserScrolling||n(),this.scheduleScrollCleanup()})})}scheduleScrollCleanup(){setTimeout(()=>{this.isScrolling=!1,this.processScrollQueue()},t.SCROLL_ANIMATION_DURATION)}processScrollQueue(){if(this.scrollQueue.length>0&&!this.isUserScrolling){let n=this.scrollQueue.shift();n&&this.performScroll(n)}}calculateTargetPosition(n){let e=this.getResponsiveAnchorPoint();if(this.bodyOsInstance){let{viewport:i}=this.bodyOsInstance.elements();return n.top+(i?.scrollTop||0)-e}return n.top+window.scrollY-e}executeScroll(n,e){n<0||n>t.MAX_SCROLL_POSITION||(this.bodyOsInstance?this.executeOverlayScroll(n,e):this.executeNativeScroll(n,e))}executeOverlayScroll(n,e){let{viewport:i}=this.bodyOsInstance.elements();i&&typeof i.scrollTo=="function"?i.scrollTo({top:n,behavior:e}):this.executeNativeScroll(n,e)}executeNativeScroll(n,e){window.scrollTo({top:n,behavior:e})}executeOverlayScrollTop(){let{viewport:n}=this.bodyOsInstance.elements();n&&typeof n.scrollTo=="function"?n.scrollTo(0,0):this.executeNativeScrollTop()}executeNativeScrollTop(){window.scrollTo(0,0)}emergencyScrollToTop(){window.scrollTo({top:0,behavior:"instant"})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var b1=["searchFormContent"];function _1(t,n){if(t&1&&(v(0,"sbb-option",17),j(1),y()),t&2){let e=n.$implicit;C("value",e.value),f(),Bt(" ",e.label," ")}}var Qu=class t{constructor(n,e,i,r){this.fb=n;this.formationService=e;this.scrollService=i;this.appComponent=r}static MAX_FORECAST_DAYS=3;static DEFAULT_TRAIN_NUMBER="2167";static DEFAULT_OPERATOR="SBBP";static DATE_FORMAT="yyyy-MM-dd";static LOCALE="en-US";static EVU_OPTIONS=[{value:"BLSP",label:"BLS"},{value:"SBBP",label:"SBB"},{value:"MBC",label:"MBC"},{value:"OeBB",label:"OeBB"},{value:"RhB",label:"RhB"},{value:"SOB",label:"SOB"},{value:"THURBO",label:"THURBO"},{value:"TPF",label:"TPF"},{value:"TRN",label:"TRN"},{value:"VDBB",label:"VDBB"},{value:"ZB",label:"ZB"}];searchFormContent;evuOptions=t.EVU_OPTIONS;minDate=new Date;maxDate=this.calculateMaxDate();searchForm;loading=!1;subscriptions=[];trainFormationReady=!1;hasError=!1;ngOnInit(){this.initializeForm(),this.subscribeToServiceUpdates()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}onSearch(){if(!this.searchForm.valid)return;let n=this.searchForm.value,e=this.createSearchParams(n);this.executeSearch(e)}calculateMaxDate(){let n=new Date;return n.setDate(n.getDate()+t.MAX_FORECAST_DAYS),n}initializeForm(){let n=Yn(this.minDate,t.DATE_FORMAT,t.LOCALE),e=new URLSearchParams(window.location.search),i=e.get("number"),r=i??t.DEFAULT_TRAIN_NUMBER,o=(()=>{let s=e.get("operator");if(s===null)return t.DEFAULT_OPERATOR;let a={};return t.EVU_OPTIONS.forEach(l=>{a[l.label.toLowerCase()]=l.value,a[l.value.toLowerCase()]=l.value}),s=s.toLowerCase(),s in a?a[s]:t.DEFAULT_OPERATOR})();this.searchForm=this.fb.group({evu:[o,ri.required],operationDate:[n,ri.required],trainNumber:[r,[ri.required,ri.pattern("[0-9]*")]]}),i&&this.onSearch()}subscribeToServiceUpdates(){this.subscriptions.push(this.formationService.loading$.subscribe(n=>{this.loading=n,this.handleLoadingComplete(n)})),this.subscriptions.push(this.formationService.currentFormation$.subscribe(n=>{this.trainFormationReady=n!==null})),this.subscriptions.push(this.formationService.currentError$.subscribe(n=>{this.hasError=n!==null}))}handleLoadingComplete(n){!n&&this.trainFormationReady&&!this.hasError&&(this.scrollToTrainFormation(),this.trainFormationReady=!1)}createSearchParams(n){return{evu:n.evu,operationDate:Yn(n.operationDate,t.DATE_FORMAT,t.LOCALE),trainNumber:n.trainNumber,includeOperationalStops:!1}}executeSearch(n){this.loading=!0,this.formationService.getFormation(n).pipe(tn(()=>{this.loading=!1})).subscribe({next:()=>{this.hasError=!1,this.trainFormationReady=!0},error:()=>{this.hasError=!0,this.trainFormationReady=!1}})}scrollToTrainFormation(){this.appComponent.getSpacingReadyState().subscribe(n=>{if(!n)return;let e=document.querySelector("app-train-formation");e&&this.scrollService.scrollToAnchor(e)})}static \u0275fac=function(e){return new(e||t)(X(XC),X(Si),X(_s),X(vs))};static \u0275cmp=ce({type:t,selectors:[["app-search-form"]],viewQuery:function(e,i){if(e&1&&Ye(b1,5),e&2){let r;Ae(r=ke())&&(i.searchFormContent=r.first)}},decls:20,vars:6,consts:[[1,"search-form-container"],[1,"sbb-headline2"],[3,"ngSubmit","formGroup"],[1,"form-layout"],[1,"form-row"],[1,"form-fields"],["label","EVU (Railway Undertaking)"],["formControlName","evu"],[3,"value",4,"ngFor","ngForOf"],["label","Operation Date"],["sbbDateInput","","sbbInput","","formControlName","operationDate",3,"min","max"],[1,"input-icon-container"],["svgIcon","circle-information-small","sbbTooltip","Only data for today and 3 days ahead is available","sbbTooltipPosition","above",1,"info-icon"],["label","Train Number"],["sbbInput","","formControlName","trainNumber","placeholder","e.g. 2167"],[1,"button-container"],["sbb-button","","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"h2",1),j(2,"Search for a train"),y(),v(3,"form",2),se("ngSubmit",function(){return i.onSearch()}),v(4,"div",3)(5,"div",4)(6,"div",5)(7,"sbb-form-field",6)(8,"sbb-select",7),H(9,_1,2,2,"sbb-option",8),y()(),v(10,"sbb-form-field",9)(11,"sbb-datepicker"),$(12,"input",10),y(),v(13,"div",11),$(14,"sbb-icon",12),y()(),v(15,"sbb-form-field",13),$(16,"input",14),y()(),v(17,"div",15)(18,"button",16),j(19),y()()()()()()),e&2&&(f(3),C("formGroup",i.searchForm),f(6),C("ngForOf",i.evuOptions),f(3),C("min",i.minDate)("max",i.maxDate),f(6),C("disabled",i.searchForm.invalid||i.loading),f(),Bt(" ",i.loading?"Loading...":"Search"," "))},dependencies:[On,Ji,ZC,qC,Wu,UC,$C,io,_m,Kd,Yo,yl,JC,nw,tw,rw,od,Cm,dw,Yu,qu,$e,at,qo,hr],styles:[`.search-form-container{padding:24px 24px 11px;background-color:var(--sbb-color-milk);border-radius:16px}.search-form-container h2.sbb-headline2{margin-top:0;margin-bottom:18px}@media (max-width: 370px){.search-form-container h2.sbb-headline2{font-size:22px}}@media (max-width: 320px){.search-form-container h2.sbb-headline2{font-size:21px}}.form-layout{display:flex;flex-direction:column;gap:6px}.form-row{display:flex;align-items:flex-start;gap:6px;flex-wrap:wrap}.form-fields{display:flex;flex-wrap:wrap;gap:6px;flex:1;min-width:0}.button-container{display:flex;align-items:flex-start;margin-top:19px;padding-bottom:6px}sbb-form-field{flex:1;min-width:277px;position:relative}sbb-form-field .sbb-form-field-wrapper{margin-bottom:0}sbb-form-field .sbb-form-field-label{margin-bottom:1px}sbb-form-field .sbb-form-field-content{padding-bottom:0;margin-bottom:0}.input-icon-container{position:absolute;right:-2px;top:61%;transform:translateY(-50%);pointer-events:auto;width:30px;height:30px;display:flex;align-items:center;justify-content:center;overflow:visible}.input-icon-container .info-icon{width:30px!important;height:30px!important}.input-icon-container .info-icon svg{width:18px!important;height:18px!important}.sbb-tooltip,.cdk-overlay-container .sbb-tooltip,.cdk-overlay-pane .sbb-tooltip{font-size:12px!important;line-height:1.2!important;color:var(--sbb-form-label-color)!important}.sbb-tooltip-content{font-size:12px!important;line-height:1.2!important}.search-form-container [sbbTooltip]{cursor:help}.button-container button{min-width:120px!important;height:36px}.button-container button.sbb-button{background-color:var(--sbb-color-call-to-action)!important;white-space:nowrap;min-width:120px!important}.button-container button.sbb-button:not(:disabled):not(.sbb-disabled):is(:hover,:focus){background-color:var(--sbb-color-call-to-action-hover)!important}@media (max-width: 1200px){.button-container{width:100%;margin-top:6px}.form-fields{width:100%}.form-row{padding-bottom:6px}}@media (max-width: 992px){sbb-form-field:nth-child(3){width:100%}}@media (max-width: 768px){sbb-form-field:nth-child(1),sbb-form-field:nth-child(2){width:100%}}@media (max-width: 657px){.button-container button{width:100%!important}}@media (max-width: 370px){.search-form-container{padding:20px 20px 11px}sbb-form-field{min-width:0;width:100%;flex:none}.form-fields,.form-row{gap:6px;flex-direction:column}.button-container{width:100%;margin-top:6px}.button-container button{width:100%!important}}
`],encapsulation:2})};var v1=["tiny","small","medium","big","fullbox","inline"],hw=(()=>{class t{get mode(){return this._mode}set mode(e){if(!v1.includes(e)){this._mode="medium";return}this._mode=e}_mode="medium";static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-loading-indicator"]],hostAttrs:["role","progressbar",1,"sbb-loading-indicator"],hostVars:13,hostBindings:function(i,r){i&2&&(ue("aria-busy",!0),ye("sbb-loading-indicator-tiny",r.mode==="tiny")("sbb-loading-indicator-small",r.mode==="small")("sbb-loading-indicator-medium",r.mode==="medium")("sbb-loading-indicator-big",r.mode==="big")("sbb-loading-indicator-fullbox",r.mode==="fullbox")("sbb-loading-indicator-inline",r.mode==="inline"))},inputs:{mode:"mode"},decls:8,vars:0,template:function(i,r){i&1&&(v(0,"div")(1,"div")(2,"div"),$(3,"div")(4,"div")(5,"div")(6,"div")(7,"div"),y()()())},styles:[".sbb-loading-indicator{display:flex}.sbb-loading-indicator>div{margin:0 auto;transform-origin:center;transform:translate3d(-3em, 0, 0);backface-visibility:hidden;transform-style:preserve-3d}.sbb-loading-indicator>div>div{position:relative;transform:rotateY(50deg) translateZ(1em);transform-origin:right;backface-visibility:hidden}.sbb-loading-indicator>div>div>div{position:relative;display:flex}.sbb-loading-indicator>div>div>div>div{background:var(--sbb-color-red);backface-visibility:hidden;outline:1px solid rgba(0,0,0,0)}.sbb-loading-indicator>div>div>div>div:nth-child(1){animation:loading_rectangle1 .23s linear infinite}.sbb-loading-indicator>div>div>div>div:nth-child(2){animation:loading_rectangle2 .23s linear infinite}.sbb-loading-indicator>div>div>div>div:nth-child(3){animation:loading_rectangle3 .23s linear infinite}.sbb-loading-indicator>div>div>div>div:nth-child(4){animation:loading_rectangle4 .23s linear infinite}.sbb-loading-indicator>div>div>div>div:nth-child(5){animation:loading_rectangle5 .23s linear infinite}.sbb-loading-indicator>div>div>div>div:last-child{margin-right:0}.sbb-loading-indicator-tiny{height:1.66665em;padding-top:.66666em}.sbb-loading-indicator-tiny>div{width:3.46665em;height:.33333em;perspective:6em}.sbb-loading-indicator-tiny>div>div>div{animation:loading_container_tiny .23s linear infinite}.sbb-loading-indicator-tiny>div>div>div>div{width:.53333em;height:.33333em;margin-right:.2em;transform:translate3d(-0.1em, 0, 0)}.sbb-loading-indicator-small{height:3em;padding-top:1.2em}.sbb-loading-indicator-small>div{width:5.8em;height:.6em;perspective:8em}.sbb-loading-indicator-small>div>div>div{animation:loading_container_small .23s linear infinite}.sbb-loading-indicator-small>div>div>div>div{width:1em;height:.6em;margin-right:.2em}.sbb-loading-indicator-medium{height:6em;padding-top:2.4em}.sbb-loading-indicator-medium>div{width:11.2em;height:1.2em;perspective:12em}.sbb-loading-indicator-medium>div>div>div{animation:loading_container_medium .23s linear infinite}.sbb-loading-indicator-medium>div>div>div>div{width:2em;height:1.2em;margin-right:.3em}.sbb-loading-indicator-big{height:9em;padding-top:3.6em}.sbb-loading-indicator-big>div{width:16.86664em;height:1.8em;perspective:16.66666em}.sbb-loading-indicator-big>div>div>div{animation:loading_container_big .23s linear infinite}.sbb-loading-indicator-big>div>div>div>div{width:3em;height:1.8em;margin-right:.46666em}.sbb-loading-indicator-fullbox{height:6em;padding-top:2.4em}.sbb-loading-indicator-fullbox>div{width:11.33332em;height:1.2em;perspective:11.33333em}.sbb-loading-indicator-fullbox>div>div>div{animation:loading_container_fullbox .23s linear infinite}.sbb-loading-indicator-fullbox>div>div>div>div{width:2em;height:1.2em;margin-right:.33333em}.sbb-loading-indicator-inline{height:1.66665em;padding-top:.66666em}.sbb-loading-indicator-inline>div{width:3.46665em;height:.33333em;perspective:6em}.sbb-loading-indicator-inline>div>div>div{animation:loading_container_inline .23s linear infinite}.sbb-loading-indicator-inline>div>div>div>div{width:.53333em;height:.33333em;margin-right:.2em}.sbb-loading-indicator-inline{display:inline-flex;height:auto;padding-top:0;vertical-align:middle}.sbb-loading-indicator-inline>div{transform:translate3d(-1.8em, 0, 0)}.sbb-loading-indicator-fullbox{top:0;left:0;height:100%;width:100%;background-color:hsla(0,0%,100%,.6);z-index:1000}.sbb-loading-indicator-fullbox>div{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.sbb-loading-indicator-fullbox{position:absolute}@keyframes loading_container_tiny{0%{transform:translateX(0.73333em)}100%{transform:translateX(0)}}@keyframes loading_container_small{0%{transform:translateX(1.2em)}100%{transform:translateX(0)}}@keyframes loading_container_medium{0%{transform:translateX(2.3em)}100%{transform:translateX(0)}}@keyframes loading_container_big{0%{transform:translateX(3.46666em)}100%{transform:translateX(0)}}@keyframes loading_container_fullbox{0%{transform:translateX(2.33333em)}100%{transform:translateX(0)}}@keyframes loading_container_inline{0%{transform:translateX(0.73333em)}100%{transform:translateX(0)}}@keyframes loading_rectangle1{0%{opacity:.5}100%{opacity:0}}@keyframes loading_rectangle2{0%{opacity:1}100%{opacity:.5}}@keyframes loading_rectangle3{0%{opacity:.5}100%{opacity:1}}@keyframes loading_rectangle4{0%{opacity:.25}100%{opacity:.5}}@keyframes loading_rectangle5{0%{opacity:0}100%{opacity:.25}}"],encapsulation:2,changeDetection:0})}return t})(),pw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Et]})}return t})();var S1=["*"];function C1(t,n){t&1&&$(0,"sbb-icon",3)}var w1=["outlet"],D1=["standard"],E1=["routerLink"],x1=["externalLink"],A1=[[["sbb-alert"]]],k1=["sbb-alert"];function T1(t,n){}function R1(t,n){if(t&1){let e=pt();v(0,"sbb-alert",5,4),se("dismissed",function(){let r=Le(e).connector;return Ne(r._handleDismissed())}),j(2),y()}if(t&2){let e=n.connector;C("svgIcon",e.svgIcon),f(2),Se(e.message)}}function I1(t,n){if(t&1){let e=pt();v(0,"a",6,4),se("dismissed",function(){let r=Le(e).connector;return Ne(r._handleDismissed())}),j(2),y()}if(t&2){let e=n.connector;C("svgIcon",e.svgIcon)("routerLink",e.routerLink.routerLink)("queryParams",e.routerLink.queryParams)("fragment",e.routerLink.fragment)("queryParamsHandling",e.routerLink.queryParamsHandling)("preserveFragment",e.routerLink.preserveFragment)("skipLocationChange",e.routerLink.skipLocationChange)("replaceUrl",e.routerLink.replaceUrl)("state",e.routerLink.state)("relativeTo",e.routerLink.relativeTo),f(2),Se(e.message)}}function O1(t,n){if(t&1){let e=pt();v(0,"a",7,4),se("dismissed",function(){let r=Le(e).connector;return Ne(r._handleDismissed())}),j(2),y()}if(t&2){let e=n.connector;C("href",e.link,Je)("svgIcon",e.svgIcon),f(2),Se(e.message)}}var M1={showDismiss:Qi("showDismiss",[vn("void, dismissed",on({height:0,paddingTop:0,paddingBottom:0,borderTopWidth:0,borderBottomWidth:0})),vn("visible",on({height:"*",paddingTop:"*",paddingBottom:"*",borderTopWidth:"*",borderBottomWidth:"*"})),li("void => visible",ai("0.25s cubic-bezier(0.4,0.0,0.2,1)")),li("visible => dismissed",ai("0.25s cubic-bezier(0.4,0.0,0.2,1)"))])},Ju=(()=>{class t{_changeDetector=u(qe);_labelClose=$localize`:Hidden button label to close the alert@@sbbAlertCloseAlert:Close message`;id=u(gt).getId("sbb-alert-");_animationState="visible";_closed=!1;_isNativeLink=!1;dismissed=new Q;svgIcon="info";constructor(){u(he).nativeElement.nodeName.toLowerCase()==="a"&&(this._isNativeLink=!0)}dismiss(){this._animationState="dismissed"}_handleDismiss(e){e.preventDefault(),e.stopPropagation(),this.dismiss()}_handleAnimation(e){let{phaseName:i,toState:r}=e;i==="done"&&r==="dismissed"&&(this._closed=!0,this._changeDetector.markForCheck(),this.dismissed.next({alert:this}))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-alert"],["a","sbbAlert",""]],hostAttrs:[1,"sbb-alert"],hostVars:7,hostBindings:function(i,r){i&1&&Xl("@showDismiss.done",function(s){return r._handleAnimation(s)}),i&2&&(_n("id",r.id),Kl("@showDismiss",r._animationState),ue("hidden",r._closed?!0:null)("aria-hidden",r._closed?!0:null)("role",r._closed?null:"alert"),ye("sbb-alert-link",r._isNativeLink))},inputs:{id:"id",svgIcon:"svgIcon"},outputs:{dismissed:"dismissed"},ngContentSelectors:S1,decls:10,vars:3,consts:[[1,"sbb-alert-icon","sbb-icon-scaled"],[3,"svgIcon"],[1,"sbb-alert-content"],["svgIcon","arrow-long-right-small",1,"sbb-alert-content-link-icon","sbb-icon-scaled"],[1,"sbb-alert-close"],["type","button",1,"sbb-alert-close-button","sbb-button-reset-frameless","sbb-icon-scaled",3,"click"],["svgIcon","cross-small",1,"sbb-alert-close-button-icon"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(et(),v(0,"div",0),$(1,"sbb-icon",1),y(),v(2,"div",2),Fe(3),H(4,C1,1,0,"sbb-icon",3),y(),v(5,"div",4)(6,"button",5),se("click",function(s){return r._handleDismiss(s)}),$(7,"sbb-icon",6),v(8,"span",7),j(9),y()()()),i&2&&(f(),C("svgIcon",r.svgIcon||"info"),f(3),Ve(r._isNativeLink?4:-1),f(5),Se(r._labelClose))},dependencies:[$e,at],styles:[".sbb-alert{display:flex;background-color:var(--sbb-color-iron);color:var(--sbb-color-white);justify-content:center;align-items:flex-start;font-size:var(--sbb-font-size);line-height:var(--sbb-line-height);outline:none;overflow-y:hidden;padding:1.0666666667rem}@media all and (min-width: 40.1875em){.sbb-alert{padding:2.4rem 1.6rem 2.4rem 3.2rem}}@media all and (min-width: 64.0625em){.sbb-alert{padding:calc(2.6666666667rem*var(--sbb-scaling-factor)) calc(3.7333333333rem*var(--sbb-scaling-factor))}}.sbb-alert :is(a,a:is(:hover,:focus)){color:var(--sbb-color-white)}.sbb-alert-link{text-decoration:none;transition:background-color var(--sbb-transition-duration-default) var(--sbb-transition-timing-default)}.sbb-alert-link:is(:hover,:focus,:focus-within,:active){background-color:var(--sbb-color-black);color:var(--sbb-color-white)}:is(.sbb-alert-icon,.sbb-alert-close){flex:0 0 var(--sbb-icon-size-default);line-height:0}@media all and (min-width: 160.0625em){:where(html:not(.sbb-lean)) :is(.sbb-alert-icon,.sbb-alert-close){flex-shrink:1;flex-grow:1;text-align:right}}.sbb-alert-content{flex:1 1 auto;margin:calc(-0.1333333333rem*var(--sbb-scaling-factor)) .8rem 0rem}@media all and (min-width: 40.1875em){:where(html:not(.sbb-lean)) .sbb-alert-content{margin-left:calc(1.6rem*var(--sbb-scaling-factor));margin-right:calc(1.6rem*var(--sbb-scaling-factor))}}@media all and (min-width: 160.0625em){:where(html:not(.sbb-lean)) .sbb-alert-content{flex:0 0 50%}}:where(html.sbb-lean) .sbb-alert-content{margin-top:0}.sbb-alert-content-link-icon{vertical-align:middle;margin-left:calc(0.2rem*var(--sbb-scaling-factor))}.sbb-alert-close-button{cursor:pointer;color:var(--sbb-color-white)}@media all and (min-width: 64.0625em){.sbb-alert-close-button{align-self:center}}.sbb-alert-close-button-icon{padding:calc(0.2rem*var(--sbb-scaling-factor));border:var(--sbb-color-white) solid var(--sbb-border-width-thin);border-radius:50%}.sbb-alert-outlet{display:block}"],encapsulation:2,data:{animation:[M1.showDismiss]},changeDetection:0})}return t})(),Am=class{message;svgIcon;routerLink;link;afterDismissed=new te;constructor(n,e){this.message=n,this.svgIcon=e.svgIcon,this.routerLink=typeof e.routerLink=="string"||Array.isArray(e.routerLink)?{routerLink:e.routerLink}:e.routerLink,this.link=e.link}_handleDismissed(){this.afterDismissed.closed||(this.afterDismissed.next(),this.afterDismissed.complete())}},km=class{instanceOutlet;_connector;instance;constructor(n,e){this.instanceOutlet=n,this._connector=e,this.afterDismissed().subscribe(()=>this.instance.destroy())}dismiss(){this._connector.afterDismissed.closed||(this.instance.destroy(),this._connector._handleDismissed())}afterDismissed(){return this._connector.afterDismissed}},F1=(()=>{class t{outletReady;_outletReady=new Pe(!1);_outletInstance;constructor(){this.outletReady=this._outletReady.pipe(Me(e=>!!e),Ht(1),so(void 0))}add(e,i){if(this._assertOutlet(),typeof e=="string")return this._outletInstance.createAlert(e,i||{});{let r=e,{message:o}=r,s=sh(r,["message"]);return this._outletInstance.createAlert(o,s||{})}}dismissAll(){this._assertOutlet(),this._outletInstance.dismissAll()}_register(e){if(this._outletInstance)throw new Error("Only one <sbb-alert-outlet> can be used at a time!");this._outletInstance=e,this._outletReady.next(!0)}_unregister(e){if(this._outletInstance){if(this._outletInstance!==e)throw new Error("Trying to remove an unregistered <sbb-alert-outlet>!")}else throw new Error("Trying to remove a <sbb-alert-outlet> that has not been registered previously!");this._outletInstance=void 0,this._outletReady.next(!1)}_assertOutlet(){if(!this._outletInstance)throw new Error("No <sbb-alert-outlet> has been registered! Have you added a <sbb-alert-outlet> element in your DOM?")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P1=(()=>{class t{_alertService=u(F1);_changeDetectorRef=u(qe);id=u(gt).getId("sbb-alert-outlet-");_outletRef;_templateStandard;_templateRouterLink;_templateExternalLink;constructor(){this._alertService._register(this)}ngOnDestroy(){this._alertService._unregister(this)}createAlert(e,i){let r=this._selectTemplate(i),o=new Am(e,i),s=new km(this,o);return s.instance=this._outletRef.createEmbeddedView(r,{connector:o}),this._changeDetectorRef.markForCheck(),s}dismissAll(){this._outletRef.clear()}_selectTemplate(e){return e.link?this._templateExternalLink:e.routerLink?this._templateRouterLink:this._templateStandard}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ce({type:t,selectors:[["sbb-alert-outlet"]],viewQuery:function(i,r){if(i&1&&(Ye(w1,7,Nt),Ye(D1,7),Ye(E1,7),Ye(x1,7)),i&2){let o;Ae(o=ke())&&(r._outletRef=o.first),Ae(o=ke())&&(r._templateStandard=o.first),Ae(o=ke())&&(r._templateRouterLink=o.first),Ae(o=ke())&&(r._templateExternalLink=o.first)}},hostAttrs:["role","region","aria-live","assertive","aria-relevant","all","tabindex","-1",1,"sbb-alert-outlet"],hostVars:1,hostBindings:function(i,r){i&2&&_n("id",r.id)},inputs:{id:"id"},ngContentSelectors:k1,decls:9,vars:0,consts:[["outlet",""],["standard",""],["routerLink",""],["externalLink",""],["alert",""],[3,"dismissed","svgIcon"],["sbbAlert","",3,"dismissed","svgIcon","routerLink","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","relativeTo"],["sbbAlert","",3,"dismissed","href","svgIcon"]],template:function(i,r){i&1&&(et(A1),Fe(0),H(1,T1,0,0,"ng-template",null,0,Hn)(3,R1,3,2,"ng-template",null,1,Hn)(5,I1,3,11,"ng-template",null,2,Hn)(7,O1,3,3,"ng-template",null,3,Hn))},dependencies:[Ju,Bd],encapsulation:2,changeDetection:0})}return t})(),fw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=fe({type:t});static \u0275inj=pe({imports:[Pf,Et,$e,Ju,P1]})}return t})();var yr=class t{static THEMES=["light","dark"];static WAGON_TYPES=["locomotive","wagon-regular","wagon-left-slope","wagon-right-slope","wagon-both-slope","wagon-regular-closed","wagon-left-slope-closed","wagon-right-slope-closed","wagon-both-slope-closed"];static ICON_TYPES=["no-passage","low-floor-entry","entry-with-steps","low-occupancy","middle-occupancy","high-occupancy"];static SECTORS=["a","b","c","d","e","f","g","h","i","j","k","l","m"];static PICTOGRAMS=["wheelchair.svg","bike-hooks.svg","bike-hooks-reservation.svg","business.svg","family-zone.svg","luggage.svg","restaurant.svg","sleep.svg","couchette.svg","stroller.svg"];static ASSET_PATHS={WAGONS:"assets/wagons",ICONS:"assets/icons",PICTOS:"assets/pictos"};preloadedImages=new Set;preloadPromises=new Map;constructor(){}preloadAllSvgs(){let e=this.getAllSvgPaths().map(i=>this.preloadSvg(i));return Promise.all(e)}isPreloaded(n){return this.preloadedImages.has(n)}getPreloadStatus(){let n=this.getAllSvgPaths().length,e=this.preloadedImages.size,i=n>0?Math.round(e/n*100):0;return{total:n,loaded:e,percentage:i}}preloadSvg(n){if(this.preloadPromises.has(n))return this.preloadPromises.get(n);if(this.preloadedImages.has(n))return Promise.resolve();let e=this.createPreloadPromise(n);return this.preloadPromises.set(n,e),e}createPreloadPromise(n){return new Promise(e=>{let i=new Image;i.onload=()=>{this.handleSuccessfulLoad(n),e()},i.onerror=()=>{this.handleLoadError(n),e()},i.src=n})}handleSuccessfulLoad(n){this.preloadedImages.add(n),this.preloadPromises.delete(n)}handleLoadError(n){this.preloadPromises.delete(n),console.warn(`Failed to preload SVG: ${n}`)}getAllSvgPaths(){return[...this.getWagonSvgPaths(),...this.getIconSvgPaths(),...this.getSectorSvgPaths(),...this.getPictogramSvgPaths()]}getWagonSvgPaths(){let n=[];return t.THEMES.forEach(e=>{t.WAGON_TYPES.forEach(i=>{n.push(`${t.ASSET_PATHS.WAGONS}/${i}-${e}.svg`)})}),n}getIconSvgPaths(){let n=[];return t.THEMES.forEach(e=>{t.ICON_TYPES.forEach(i=>{n.push(`${t.ASSET_PATHS.ICONS}/${i}-${e}.svg`)})}),n}getSectorSvgPaths(){return t.SECTORS.map(n=>`${t.ASSET_PATHS.PICTOS}/sector-${n}.svg`)}getPictogramSvgPaths(){return t.PICTOGRAMS.map(n=>`${t.ASSET_PATHS.PICTOS}/${n}`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};function N1(t,n){if(t&1&&(v(0,"div",8)(1,"div",9),$(2,"sbb-icon",10),y(),j(3),y()),t&2){let e=x(2);f(3),Bt(" ",e.trainFormation.trainNumber," ")}}function V1(t,n){t&1&&(v(0,"div",15),$(1,"sbb-loading-indicator"),y())}function B1(t,n){if(t&1){let e=pt();v(0,"div",16)(1,"sbb-alert",17),se("dismissed",function(){Le(e);let r=x(3);return Ne(r.dismissError())}),j(2),y()()}if(t&2){let e=x(3);f(2),Bt(" ",e.apiError.message," ")}}function j1(t,n){t&1&&(v(0,"div",18)(1,"sbb-alert",19),j(2," No train formation data available. Please check your search parameters. "),y()())}function U1(t,n){if(t&1&&(v(0,"div",11),H(1,V1,2,0,"div",12)(2,B1,3,1,"div",13)(3,j1,3,0,"div",14),y()),t&2){let e=x(2);f(),C("ngIf",e.loading),f(),C("ngIf",e.apiError),f(),C("ngIf",!e.trainFormation&&!e.loading&&!e.apiError)}}function $1(t,n){if(t&1&&(v(0,"div",37),j(1),y()),t&2){let e=x(3);f(),Zl(" ",e.getFirstValidStopName()," \u2192 ",e.getLastValidStopName()," ")}}function H1(t,n){if(t&1){let e=pt();v(0,"div",44),se("click",function(){Le(e);let r=x().index,o=x(4);return Ne(o.selectStop(r))})("keydown.enter",function(){Le(e);let r=x().index,o=x(4);return Ne(o.selectStop(r))})("keydown.space",function(){Le(e);let r=x().index,o=x(4);return Ne(o.selectStop(r))}),j(1),y()}if(t&2){let e=x(),i=e.$implicit,r=e.index,o=x(4);ye("active",r===o.selectedStopIndex),ue("aria-label","Select stop "+i.name),f(),Bt(" ",i.name," ")}}function z1(t,n){if(t&1&&(Tt(0),H(1,H1,2,4,"div",43),Rt()),t&2){let e=n.$implicit;f(),C("ngIf",e.name!==null)}}function W1(t,n){if(t&1&&(v(0,"span"),$(1,"sbb-icon",49),v(2,"strong"),j(3,"Track:"),y(),j(4),y()),t&2){let e=x(5);f(4),Bt(" ",e.trainFormation.stops[e.selectedStopIndex].track," ")}}function G1(t,n){if(t&1&&(v(0,"span",50),$(1,"sbb-icon",51),v(2,"strong"),j(3,"Travel Direction"),y()()),t&2){let e=x(5);f(),C("svgIcon","arrow-"+e.trainFormation.stops[e.selectedStopIndex].travelDirection+"-extra-small")}}function Y1(t,n){if(t&1&&(v(0,"span",52),$(1,"sbb-icon",53),v(2,"strong"),j(3,"Arrival:"),y(),j(4),wt(5,"date"),y()),t&2){let e=x(5);ye("hide-on-small-screen",e.trainFormation.stops[e.selectedStopIndex].departureTime!==null),f(4),Bt(" ",vh(5,3,e.trainFormation.stops[e.selectedStopIndex].arrivalTime,"HH:mm")," ")}}function q1(t,n){if(t&1&&(v(0,"span",54),$(1,"sbb-icon",53),v(2,"strong"),j(3,"Departure:"),y(),j(4),wt(5,"date"),y()),t&2){let e=x(5);f(4),Bt(" ",vh(5,1,e.trainFormation.stops[e.selectedStopIndex].departureTime,"HH:mm")," ")}}function K1(t,n){if(t&1&&(v(0,"div",45),H(1,W1,5,1,"span",32)(2,G1,4,1,"span",46)(3,Y1,6,6,"span",47)(4,q1,6,4,"span",48),y()),t&2){let e=x(4);f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].track),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].travelDirection!=="unknown"),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].arrivalTime),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].departureTime)}}function X1(t,n){if(t&1&&(v(0,"div",38)(1,"div",39)(2,"div",40),H(3,z1,2,1,"ng-container",41),y()(),H(4,K1,5,4,"div",42),y()),t&2){let e=x(3);f(),C("options",e.stopTabsScrollOptions)("defer",!0),f(2),C("ngForOf",e.trainFormation.stops)("ngForTrackBy",e.trackStopByIndex),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex])}}function Z1(t,n){if(t&1&&(Tt(0),$(1,"div",56),Rt()),t&2){let e=n.$implicit,i=x(4);f(),Vt("width",i.getSectorWidth(e),"px"),C("ngClass",i.getSectorClasses(e))}}function Q1(t,n){if(t&1&&(Tt(0),v(1,"div",57),$(2,"img",58),y(),Rt()),t&2){let e=n.$implicit,i=n.index,r=x(4);f(),Vt("left",r.getSectorMidpoint(i),"px"),f(),db("alt","Sector ",e.sector,""),C("src",r.getSectorSvgPath(e.sector),Je)}}function J1(t,n){t&1&&$(0,"div",60),t&2&&Vt("left",1,"px")}function eF(t,n){if(t&1&&$(0,"div",60),t&2){let e=x().index,i=x(4);Vt("left",i.getExactSectorBoundaryPosition(e),"px")}}function tF(t,n){if(t&1&&$(0,"div",60),t&2){let e=x(5);Vt("left",e.getTotalTrainWidth()-1,"px")}}function nF(t,n){if(t&1&&(Tt(0),H(1,J1,1,2,"div",59)(2,eF,1,2,"div",59)(3,tF,1,2,"div",59),Rt()),t&2){let e=n.index,i=n.last;f(),C("ngIf",e===0),f(),C("ngIf",e>0),f(),C("ngIf",i)}}function iF(t,n){if(t&1&&(Tt(0),H(1,Z1,2,3,"ng-container",35)(2,Q1,3,5,"ng-container",35)(3,nF,4,3,"ng-container",35),$(4,"div",55),Rt()),t&2){let e=x(3);f(),C("ngForOf",e.trainFormation.sections),f(),C("ngForOf",e.trainFormation.sections),f(),C("ngForOf",e.trainFormation.sections),f(),Vt("width",e.getTotalTrainWidth(),"px")}}function rF(t,n){if(t&1&&(v(0,"div",66),$(1,"img",67),v(2,"div",68)(3,"span",69),j(4),y()()()),t&2){let e=x().$implicit,i=x(3);f(),C("src",i.getLocomotiveSvgPath(),Je),f(3),Se(e.number)}}function oF(t,n){t&1&&(Tt(0),v(1,"span",75),j(2,"1/2"),y(),Rt())}function sF(t,n){if(t&1&&(Tt(0),v(1,"span",75),j(2),y(),Rt()),t&2){let e=n.$implicit;f(2),Se(e)}}function aF(t,n){if(t&1&&(Tt(0),H(1,sF,3,1,"ng-container",35),Rt()),t&2){let e=x(3).$implicit;f(),C("ngForOf",e.classes)}}function lF(t,n){if(t&1&&(Tt(0),H(1,oF,3,0,"ng-container",32)(2,aF,2,1,"ng-container",32),Rt()),t&2){let e=x(2).$implicit;f(),C("ngIf",e.classes.includes("1")&&e.classes.includes("2")),f(),C("ngIf",!(e.classes.includes("1")&&e.classes.includes("2")))}}function cF(t,n){if(t&1&&$(0,"img",78),t&2){let e=x(3).$implicit,i=x(3);C("src",i.getOccupancyIconPath(e.firstClassOccupancy.icon),Je)("alt","First class occupancy: "+e.firstClassOccupancy.label)}}function dF(t,n){if(t&1&&$(0,"img",78),t&2){let e=x(3).$implicit,i=x(3);C("src",i.getOccupancyIconPath(e.firstClassOccupancy.icon),Je)("alt","First class occupancy: "+e.firstClassOccupancy.label)}}function uF(t,n){if(t&1&&$(0,"img",78),t&2){let e=x(3).$implicit,i=x(3);C("src",i.getOccupancyIconPath(e.secondClassOccupancy.icon),Je)("alt","Second class occupancy: "+e.secondClassOccupancy.label)}}function hF(t,n){if(t&1&&(v(0,"div",76),H(1,cF,1,2,"img",77)(2,dF,1,2,"img",77)(3,uF,1,2,"img",77),y()),t&2){let e=x(2).$implicit;f(),C("ngIf",e.firstClassOccupancy&&e.classes.includes("1")&&e.classes.includes("2")),f(),C("ngIf",e.firstClassOccupancy&&e.classes.includes("1")&&!e.classes.includes("2")),f(),C("ngIf",e.secondClassOccupancy&&e.classes.includes("2")&&!e.classes.includes("1"))}}function pF(t,n){if(t&1&&$(0,"img",79),t&2){let e=x(2).$implicit,i=x(3);C("src",i.getEntryIconPath(e),Je)("alt",i.hasLowFloorEntry(e)?"Low floor entry available":"Entry with steps")}}function fF(t,n){if(t&1&&(v(0,"div",70),$(1,"img",71),v(2,"div",72)(3,"span",69),j(4),y(),H(5,lF,3,2,"ng-container",32),y(),H(6,hF,4,3,"div",73)(7,pF,1,2,"img",74),y()),t&2){let e=x(),i=e.$implicit,r=e.index,o=x(3);ye("mixed-class",i.classes.includes("1")&&i.classes.includes("2")),f(),C("src",o.getWagonSvgPath(i,r),Je),f(3),Se(i.number),f(),C("ngIf",!(i.statusCodes&&i.statusCodes.includes("Closed"))),f(),C("ngIf",i.type!=="locomotive"&&!(i.statusCodes&&i.statusCodes.includes("Closed"))),f(),C("ngIf",i.type!=="locomotive"&&!(i.statusCodes&&i.statusCodes.includes("Closed")))}}function gF(t,n){if(t&1&&(Tt(0),$(1,"img",81),Rt()),t&2){let e=n.$implicit,i=x(5);f(),C("src",i.getAttributePictogramPath(e),Je)("alt",e)}}function mF(t,n){if(t&1&&(v(0,"div",80),H(1,gF,2,2,"ng-container",35),y()),t&2){let e=x().$implicit,i=x(3);f(),C("ngForOf",i.getWagonPictogramAttributes(e))}}function bF(t,n){t&1&&(Tt(0),v(1,"h4"),j(2,"Locomotive"),y(),Rt())}function _F(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Car Number:"),y(),j(3),y()),t&2){let e=x(3).$implicit;f(3),Bt(" ",e.number," ")}}function vF(t,n){if(t&1&&(v(0,"span"),j(1),y()),t&2){let e=n.$implicit,i=n.last;f(),Zl(" ",e,"",i?"":"/"," ")}}function yF(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Class:"),y(),H(3,vF,2,2,"span",35),j(4," class "),y()),t&2){let e=x(3).$implicit;f(3),C("ngForOf",e.classes)}}function SF(t,n){if(t&1&&(Tt(0),j(1),Rt()),t&2){let e=x(),i=e.$implicit,r=e.last;f(),Zl(" ",i,"",r?"":", "," ")}}function CF(t,n){if(t&1&&(v(0,"span"),H(1,SF,2,2,"ng-container",32),y()),t&2){let e=n.$implicit;f(),C("ngIf",e!=="Open but unserviced")}}function wF(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Status:"),y(),H(3,CF,2,1,"span",35),y()),t&2){let e=x(3).$implicit;f(3),C("ngForOf",e.statusCodes)}}function DF(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Accessibility:"),y(),v(3,"ul")(4,"li"),$(5,"img",84),v(6,"span"),j(7),y()()()()),t&2){let e=x(3).$implicit,i=x(3);f(5),C("src",i.getEntryIconPath(e),Je)("alt",i.hasLowFloorEntry(e)?"Low Floor Entry":"Entry with Steps"),f(2),Se(i.hasLowFloorEntry(e)?"Low Floor Entry":"Entry with Steps")}}function EF(t,n){if(t&1&&(v(0,"li"),$(1,"img",85),v(2,"span"),j(3),y()()),t&2){let e=x(4).$implicit,i=x(3);f(),C("src",i.getOccupancyIconPath(e.firstClassOccupancy.icon),Je)("alt",e.firstClassOccupancy.label),f(2),Se(e.firstClassOccupancy.label)}}function xF(t,n){if(t&1&&(v(0,"li"),$(1,"img",85),v(2,"span"),j(3),y()()),t&2){let e=x(4).$implicit,i=x(3);f(),C("src",i.getOccupancyIconPath(e.firstClassOccupancy.icon),Je)("alt",e.firstClassOccupancy.label),f(2),Se(e.firstClassOccupancy.label)}}function AF(t,n){if(t&1&&(v(0,"li"),$(1,"img",85),v(2,"span"),j(3),y()()),t&2){let e=x(4).$implicit,i=x(3);f(),C("src",i.getOccupancyIconPath(e.secondClassOccupancy.icon),Je)("alt",e.secondClassOccupancy.label),f(2),Se(e.secondClassOccupancy.label)}}function kF(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Occupancy:"),y(),v(3,"ul"),H(4,EF,4,3,"li",32)(5,xF,4,3,"li",32)(6,AF,4,3,"li",32),y()()),t&2){let e=x(3).$implicit;f(4),C("ngIf",e.firstClassOccupancy&&e.classes.includes("1")&&e.classes.includes("2")),f(),C("ngIf",e.firstClassOccupancy&&e.classes.includes("1")&&!e.classes.includes("2")),f(),C("ngIf",e.secondClassOccupancy&&e.classes.includes("2")&&!e.classes.includes("1"))}}function TF(t,n){if(t&1&&(v(0,"li"),$(1,"img",85),v(2,"span"),j(3),y()()),t&2){let e=n.$implicit,i=x(4).$implicit,r=x(3);f(),C("src",r.getAttributePictogramPath(e),Je)("alt",r.getAttributeLabelByCode(i,e)),f(2),Se(r.getAttributeLabelByCode(i,e))}}function RF(t,n){if(t&1&&(v(0,"div")(1,"strong"),j(2,"Facilities:"),y(),v(3,"ul"),H(4,TF,4,3,"li",35),y()()),t&2){let e=x(3).$implicit,i=x(3);f(4),C("ngForOf",i.getWagonPictogramAttributes(e))}}function IF(t,n){if(t&1&&(v(0,"div",86)(1,"span"),j(2),y()()),t&2){let e=x(3).$implicit;f(2),Se(e.noAccessMessage)}}function OF(t,n){if(t&1&&(v(0,"div",86)(1,"span"),j(2),y()()),t&2){let e=x(3).$implicit;f(2),Se(e.noAccessMessage)}}function MF(t,n){if(t&1&&(Tt(0),v(1,"h4"),j(2),y(),H(3,_F,4,1,"div",32)(4,yF,5,1,"div",32)(5,wF,4,1,"div",32)(6,DF,8,3,"div",32)(7,kF,7,3,"div",32)(8,RF,5,1,"div",32)(9,IF,3,1,"div",83)(10,OF,3,1,"div",83),Rt()),t&2){let e=x(2),i=e.$implicit,r=e.index,o=x(3);f(2),Se(i.statusCodes&&i.statusCodes.includes("Closed")?"Closed Coach":i.typeLabel),f(),C("ngIf",i.number),f(),C("ngIf",i.classes.length>0&&!(i.statusCodes&&i.statusCodes.includes("Closed"))),f(),C("ngIf",i.statusCodes&&i.statusCodes.length>0&&!(i.statusCodes.length===1&&i.statusCodes.includes("Open but unserviced"))),f(),C("ngIf",!(i.statusCodes&&i.statusCodes.includes("Closed"))),f(),C("ngIf",(i.firstClassOccupancy||i.secondClassOccupancy)&&!(i.statusCodes&&i.statusCodes.includes("Closed"))),f(),C("ngIf",o.getWagonPictogramAttributes(i).length>0),f(),C("ngIf",i.noAccessToPrevious&&r>0),f(),C("ngIf",i.noAccessToNext&&r<o.getAllWagons().length-1)}}function FF(t,n){if(t&1&&(v(0,"div",82),H(1,bF,3,0,"ng-container",32)(2,MF,11,9,"ng-container",32),y()),t&2){let e=x().$implicit;f(),C("ngIf",e.type==="locomotive"),f(),C("ngIf",e.type!=="locomotive")}}function PF(t,n){if(t&1&&$(0,"img",89),t&2){let e=x(5);C("src",e.getNoPassageSvgPath(),Je)}}function LF(t,n){if(t&1&&(v(0,"div",87),H(1,PF,1,1,"img",88),y()),t&2){let e=x(),i=e.$implicit,r=e.index,o=x(3);C("ngClass",o.getWagonConnectionClass(i,o.getNextWagon(r))),f(),C("ngIf",i.noAccessToNext||o.getNextWagon(r)&&o.getNextWagon(r).noAccessToPrevious)}}function NF(t,n){if(t&1&&(Tt(0),v(1,"div",61),H(2,rF,5,2,"div",62)(3,fF,8,7,"div",63)(4,mF,2,1,"div",64)(5,FF,3,2,"ng-template",null,0,Hn),y(),H(7,LF,2,2,"div",65),Rt()),t&2){let e=n.$implicit,i=n.index,r=n.last,o=si(6),s=x(3);f(),C("ngClass",s.getWagonClasses(e,i))("sbbTooltip",o),f(),C("ngIf",e.type==="locomotive"),f(),C("ngIf",e.type!=="locomotive"),f(),C("ngIf",s.hasWagonPictograms(e)&&e.type!=="locomotive"),f(3),C("ngIf",!r)}}function VF(t,n){if(t&1&&(Tt(0),$(1,"div",91),Rt()),t&2){let e=n.$implicit,i=x(4);f(),Vt("width",i.getSectorWidth(e),"px")("left",i.getSectorPosition(e),"px"),C("ngClass",i.getSectorClasses(e))}}function BF(t,n){if(t&1&&$(0,"div",93),t&2){let e=x().index,i=x(4);Vt("left",i.getExactSectorBoundaryPosition(e),"px")}}function jF(t,n){if(t&1&&(Tt(0),H(1,BF,1,2,"div",92),Rt()),t&2){let e=n.index;f(),C("ngIf",e>0)}}function UF(t,n){if(t&1&&(v(0,"div",90),H(1,VF,2,5,"ng-container",35)(2,jF,2,1,"ng-container",35),y()),t&2){let e=x(3);f(),C("ngForOf",e.trainFormation.sections),f(),C("ngForOf",e.trainFormation.sections)}}function $F(t,n){if(t&1&&(v(0,"div",20)(1,"div",21)(2,"div",22),H(3,$1,2,2,"div",23),v(4,"div",24),$(5,"sbb-icon",25),v(6,"span"),j(7),y()()(),$(8,"div",26),y(),H(9,X1,5,5,"div",27),v(10,"div",28)(11,"div",29)(12,"div",30)(13,"div",31),H(14,iF,5,5,"ng-container",32),y()(),v(15,"div",33)(16,"div",34),H(17,NF,8,6,"ng-container",35),y()(),H(18,UF,3,2,"div",36),y()()()),t&2){let e=x(2);f(3),C("ngIf",e.trainFormation.stops&&e.trainFormation.stops.length>0),f(4),Se(e.formatDate(e.trainFormation.operationDate)),f(2),C("ngIf",e.trainFormation.stops&&e.trainFormation.stops.length>0),f(),C("options",e.wagonScrollOptions)("defer",!0),f(2),ye("hidden",!e.trainFormation.stops[e.selectedStopIndex].hasSectors),f(),Vt("width",e.getTotalTrainWidth(),"px"),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].hasSectors),f(3),C("ngForOf",e.getAllWagons()),f(),C("ngIf",e.trainFormation.stops[e.selectedStopIndex].hasSectors)}}function HF(t,n){if(t&1&&(v(0,"div",2)(1,"div",3)(2,"h2",4),j(3,"Train Formation"),y(),H(4,N1,4,1,"div",5),y(),H(5,U1,4,3,"div",6)(6,$F,19,12,"div",7),y()),t&2){let e=x();f(4),C("ngIf",e.trainFormation&&!e.loading),f(),C("ngIf",e.loading||e.apiError||!e.trainFormation&&!e.loading&&!e.apiError),f(),C("ngIf",e.trainFormation&&!e.loading)}}var wl=100,Bn=10,eh=class t{constructor(n,e,i){this.formationService=n;this.themeService=e;this.svgPreloaderService=i}trainFormation=null;selectedStopIndex=0;loading=!1;apiError=null;hasSearched=!1;subscriptions=[];stopTabsScrollOptions={overflow:{x:"scroll",y:"hidden"},scrollbars:{theme:"os-theme-ski-tabs",autoHide:"move",autoHideDelay:1e3}};wagonScrollOptions={overflow:{x:"scroll",y:"hidden"},scrollbars:{theme:"os-theme-ski-wagons",autoHide:"move",autoHideDelay:1e3}};ngOnInit(){this.subscriptions.push(this.formationService.currentFormation$.subscribe(n=>{this.trainFormation=n,n===null?this.hasSearched&&(this.hasSearched=!0):this.hasSearched=!0})),this.subscriptions.push(this.formationService.currentStopIndex$.subscribe(n=>{this.selectedStopIndex=n})),this.subscriptions.push(this.formationService.currentError$.subscribe(n=>{this.apiError=n,n&&(this.hasSearched=!0)})),this.subscriptions.push(this.formationService.loading$.subscribe(n=>{this.loading=n})),this.subscriptions.push(this.themeService.darkMode$.subscribe(()=>{}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}selectStop(n){this.formationService.updateSelectedStop(n)}dismissError(){this.formationService.clearError(),this.apiError=null,this.hasSearched=!1}getAlertType(n){return n>=500?"error":n===404?"warning":"info"}getDirectionIcon(){return""}getWagonClasses(n,e){let i=["train-wagon"];return n.type==="locomotive"&&i.push("locomotive"),(n.noAccessToPrevious||n.noAccessToNext)&&i.push("no-access"),n.type!=="locomotive"&&(this.needsSlopedLeftEdge(n,e)&&i.push("left-slope"),this.needsSlopedRightEdge(n,e)&&i.push("right-slope")),n.statusCodes&&n.statusCodes.length>0&&(n.statusCodes.includes("Closed")&&i.push("wagon-closed"),n.statusCodes.includes("Reserved for transit")&&i.push("wagon-reserved"),n.statusCodes.includes("Open but unserviced")&&i.push("wagon-unserviced")),i}getSectorClasses(n){return`sector-${n.sector.toLowerCase()}`}formatDate(n){return n?Yn(n,"dd.MM.yyyy","en-US"):""}getAttributeGroups(n){let e=n.filter(a=>["BHP","NF","KW"].includes(a.code)),i=n.filter(a=>["BZ","FZ"].includes(a.code)),r=n.filter(a=>["VH","VR"].includes(a.code)),o=n.filter(a=>!["BHP","NF","KW","BZ","FZ","VH","VR"].includes(a.code)),s=[];return e.length>0&&s.push(e),i.length>0&&s.push(i),r.length>0&&s.push(r),o.length>0&&s.push(o),s}getSectorWidth(n){let e=n.wagons.length;if(e===0)return 0;let i=e*wl,r=0;for(let a=0;a<n.wagons.length-1;a++)(n.wagons[a].type==="locomotive"||n.wagons[a+1].type==="locomotive")&&r++;let s=(e-1-r)*Bn+r*Bn;return i+s}getWagonConnectionClass(n,e){return e&&(n.noAccessToNext||e.noAccessToPrevious)?"no-access":""}getWagonConnectionStyle(){return{height:"50px",width:`${Bn}px`}}getSectorLabelStyle(n){if(n.wagons.length===0)return{visibility:"hidden"};let i=this.getSectorPosition(n),r=this.getSectorWidth(n);return{left:`${i+r/2}px`,transform:"translateX(-50%)","z-index":"5"}}getSectorPosition(n){let e=this.trainFormation.sections,i=e.indexOf(n);if(i===0)return 1;let r=0,o=0;for(let c=0;c<i;c++){r+=e[c].wagons.length;for(let d=0;d<e[c].wagons.length-1;d++)(e[c].wagons[d].type==="locomotive"||d+1<e[c].wagons.length&&e[c].wagons[d+1].type==="locomotive")&&o++}let l=(Math.max(0,r-1)-o)*Bn+o*Bn;return r*wl+l+1}getAllWagons(){return this.trainFormation?this.trainFormation.sections.reduce((n,e)=>n.concat(e.wagons),[]):[]}getPreviousWagon(n){return this.getAllWagons()[n-1]}getNextWagon(n){return this.getAllWagons()[n+1]}getSectorBoundaryClass(n,e){let i=this.trainFormation.sections,r=i.indexOf(n);return e?r===0?"boundary-start":"boundary-middle":r===i.length-1?"boundary-end":"boundary-middle"}getSectorBoundaryPosition(n){let e=this.trainFormation.sections,i=0;if(n===0)return 0;for(let r=0;r<n;r++){let s=e[r].wagons.length;i+=s*wl,i+=(s-1)*Bn}return i+=Bn/2,i}getExactSectorBoundaryPosition(n){if(n<=0)return 1;let e=this.trainFormation.sections,i=0,r=0;for(let c=0;c<n;c++){i+=e[c].wagons.length;for(let d=0;d<e[c].wagons.length-1;d++)(e[c].wagons[d].type==="locomotive"||d+1<e[c].wagons.length&&e[c].wagons[d+1].type==="locomotive")&&r++}let o=i*wl,l=(i-1-r)*Bn+r*Bn;return o+l+Bn/2+1}getTotalTrainWidth(){if(!this.trainFormation)return 0;let n=this.getAllWagons().length;if(n===0)return 0;let e=0,i=this.getAllWagons();for(let a=0;a<i.length-1;a++)(i[a].type==="locomotive"||i[a+1].type==="locomotive")&&e++;let s=(n-1-e)*Bn+e*Bn;return n*wl+s+2}getSectorMidpoint(n){let e=this.trainFormation.sections;if(n===0)return(1+this.getExactSectorBoundaryPosition(1))/2;if(n===e.length-1){let o=this.getExactSectorBoundaryPosition(n),s=this.getTotalTrainWidth()-1;return(o+s)/2}let i=this.getExactSectorBoundaryPosition(n),r=this.getExactSectorBoundaryPosition(n+1);return(i+r)/2}isFirstWagon(n){return n===0}isLastWagon(n){let e=this.getAllWagons();return n===e.length-1}needsSlopedLeftEdge(n,e){return!!(this.isFirstWagon(e)&&n.type!=="locomotive"||!this.isFirstWagon(e)&&n.noAccessToPrevious&&n.type!=="locomotive")}needsSlopedRightEdge(n,e){return!!(this.isLastWagon(e)&&n.type!=="locomotive"||!this.isLastWagon(e)&&n.noAccessToNext&&n.type!=="locomotive")}getSectorSvgPath(n){return!n||n==="N/A"?"":`assets/pictos/sector-${n.toLowerCase()}.svg`}getNoPassageSvgPath(){return`assets/icons/no-passage-${this.themeService.isDarkMode()?"dark":"light"}.svg`}getLowFloorEntryPath(){return`assets/icons/low-floor-entry-${this.themeService.isDarkMode()?"dark":"light"}.svg`}getEntryWithStepsPath(){return`assets/icons/entry-with-steps-${this.themeService.isDarkMode()?"dark":"light"}.svg`}getPictogramPath(n){return`assets/pictos/${n}`}getIconPath(n){let e=this.themeService.isDarkMode()?"dark":"light";return`assets/icons/${n}-${e}.svg`}getOccupancyIconPath(n){return this.getIconPath(n)}getEntryIconPath(n){return this.hasLowFloorEntry(n)?this.getLowFloorEntryPath():this.getEntryWithStepsPath()}getLocomotiveSvgPath(){return`assets/wagons/locomotive-${this.themeService.isDarkMode()?"dark":"light"}.svg`}getWagonSvgPath(n,e){let i=this.themeService.isDarkMode()?"dark":"light",o=n.statusCodes&&n.statusCodes.includes("Closed")?"-closed":"",s=this.needsSlopedLeftEdge(n,e),a=this.needsSlopedRightEdge(n,e),l="regular";return s&&a?l="both-slope":s?l="left-slope":a&&(l="right-slope"),`assets/wagons/wagon-${l}${o}-${i}.svg`}getAttributePictogramPath(n){let i={BHP:"wheelchair.svg",VH:"bike-hooks.svg",VR:"bike-hooks-reservation.svg",BZ:"business.svg",FZ:"family-zone.svg",FA:"family-zone.svg",LA:"luggage.svg",WR:"restaurant.svg",CC:"couchette.svg",WL:"sleep.svg",KW:"stroller.svg"}[n]||"";return i?this.getPictogramPath(i):""}getFirstValidStopName(){if(!this.trainFormation?.stops||this.trainFormation.stops.length===0)return"";for(let n of this.trainFormation.stops)if(n.name!==null)return n.name;return""}getLastValidStopName(){if(!this.trainFormation?.stops||this.trainFormation.stops.length===0)return"";for(let n=this.trainFormation.stops.length-1;n>=0;n--)if(this.trainFormation.stops[n].name!==null)return this.trainFormation.stops[n].name;return""}hasLowFloorEntry(n){let e=n.attributes.some(r=>r.code==="NF"),i=n.attributes.some(r=>r.code==="VH")&&(n.attributes.some(r=>r.code==="NF")||n.number.includes("#VH;NF")||n.number.includes("#NF;VH"));return e||i}getWagonPictogramAttributes(n){let e=["BHP","VH","VR","BZ","FZ","FA","LA","WR","WL","CC","KW"],i=e;return n.statusCodes&&(n.statusCodes.includes("Open but unserviced")||n.statusCodes.includes("Closed"))&&(i=e.filter(r=>r!=="WR")),n.attributes.filter(r=>i.includes(r.code)).map(r=>r.code)}hasWagonPictograms(n){return this.getWagonPictogramAttributes(n).length>0}getAttributeLabelByCode(n,e){let i=n.attributes.find(r=>r.code===e);return i?i.label:""}trackStopByIndex(n){return n}onStopSelect(n){let e=document.querySelector("app-train-formation"),i=78;if(!e)return;let r=window.scrollY,s=e.getBoundingClientRect().top+r;this.selectStop(n),requestAnimationFrame(()=>{e.getBoundingClientRect().top<i&&window.scrollTo({top:s-i,behavior:"smooth"})})}static \u0275fac=function(e){return new(e||t)(X(Si),X(mr),X(yr))};static \u0275cmp=ce({type:t,selectors:[["app-train-formation"]],decls:1,vars:1,consts:[["wagonTooltip",""],["class","train-formation-container",4,"ngIf"],[1,"train-formation-container"],[1,"title-container"],[1,"sbb-headline2"],["class","train-number-badge",4,"ngIf"],["class","status-container",4,"ngIf"],["class","train-visualization",4,"ngIf"],[1,"train-number-badge"],[1,"icon-container"],["svgIcon","train-extra-small"],[1,"status-container"],["class","loading-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],["class","no-data-message",4,"ngIf"],[1,"loading-indicator"],[1,"error-message"],["type","warning",3,"dismissed"],[1,"no-data-message"],["type","info"],[1,"train-visualization"],[1,"train-header"],[1,"train-info"],["class","train-route",4,"ngIf"],[1,"train-date"],["svgIcon","calendar-small",1,"date-icon"],[1,"train-meta"],["class","stop-selector",4,"ngIf"],["overlay-scrollbars","",1,"formation-display",3,"options","defer"],[1,"visualization-container"],[1,"sector-line-container"],[1,"sector-line"],[4,"ngIf"],[1,"train-wagons-container"],[1,"train-wagons"],[4,"ngFor","ngForOf"],["class","sector-highlights-container",4,"ngIf"],[1,"train-route"],[1,"stop-selector"],["overlay-scrollbars","",1,"stop-selector-tabs-wrapper",3,"options","defer"],[1,"stop-selector-tabs"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","stop-details",4,"ngIf"],["class","stop-tab","tabindex","0","role","button",3,"active","click","keydown.enter","keydown.space",4,"ngIf"],["tabindex","0","role","button",1,"stop-tab",3,"click","keydown.enter","keydown.space"],[1,"stop-details"],["class","hide-on-small-screen",4,"ngIf"],["class","arrival-time",3,"hide-on-small-screen",4,"ngIf"],["class","departure-time",4,"ngIf"],["svgIcon","platform-small"],[1,"hide-on-small-screen"],[3,"svgIcon"],[1,"arrival-time"],["svgIcon","clock-extra-small"],[1,"departure-time"],[1,"sector-horizontal-line"],[1,"sector-marker",3,"ngClass"],[1,"sector-label"],[1,"sector-icon",3,"src","alt"],["class","sector-boundary boundary-line",3,"left",4,"ngIf"],[1,"sector-boundary","boundary-line"],["sbbTooltipDelay","500","sbbTooltipTouchGestures","auto",1,"wagon-container",3,"ngClass","sbbTooltip"],["class","locomotive-container",4,"ngIf"],["class","wagon-container-inner",3,"mixed-class",4,"ngIf"],["class","wagon-attributes-badge",4,"ngIf"],["class","wagon-connector",3,"ngClass",4,"ngIf"],[1,"locomotive-container"],["alt","Locomotive","loading","eager","decoding","sync","preserveAspectRatio","none",1,"locomotive-svg",3,"src"],[1,"locomotive-text"],[1,"wagon-number"],[1,"wagon-container-inner"],["alt","Wagon","loading","eager","decoding","sync","preserveAspectRatio","none",1,"wagon-svg",3,"src"],[1,"wagon-text"],["class","wagon-icons",4,"ngIf"],["loading","eager","class","entry-icon",3,"src","alt",4,"ngIf"],[1,"wagon-class"],[1,"wagon-icons"],["loading","eager","class","occupancy-icon",3,"src","alt",4,"ngIf"],["loading","eager",1,"occupancy-icon",3,"src","alt"],["loading","eager",1,"entry-icon",3,"src","alt"],[1,"wagon-attributes-badge"],[1,"wagon-attribute-pictogram",3,"src","alt"],[1,"wagon-tooltip"],["class","warning",4,"ngIf"],[1,"tooltip-icon","accessibility-icon",3,"src","alt"],[1,"tooltip-icon",3,"src","alt"],[1,"warning"],[1,"wagon-connector",3,"ngClass"],["alt","No passage","loading","eager","class","no-passage-icon",3,"src",4,"ngIf"],["alt","No passage","loading","eager",1,"no-passage-icon",3,"src"],[1,"sector-highlights-container"],[1,"sector-highlight",3,"ngClass"],["class","sector-divider",3,"left",4,"ngIf"],[1,"sector-divider"]],template:function(e,i){e&1&&H(0,HF,7,3,"div",1),e&2&&C("ngIf",i.hasSearched)},dependencies:[On,ki,Ji,xr,$s,$e,at,pw,hw,fw,Ju,qo,hr,ld,oy],styles:[`.cdk-overlay-container .cdk-overlay-connected-position-bounding-box[style*="top:"] .sbb-tooltip-panel-below{transform:translateY(20px)!important}@media (max-width: 576px){.cdk-overlay-container .cdk-overlay-connected-position-bounding-box[style*="top:"] .sbb-tooltip-panel-above{transform:translateY(-32px)!important}}.wagon-container{touch-action:pan-x pan-y;cursor:pointer}.train-formation-container{padding:24px 24px 3px;background-color:var(--sbb-color-milk);border-radius:16px}@media (max-width: 768px){.train-formation-container{padding:24px 24px 1px}}@media (max-width: 370px){.train-formation-container{padding:20px 20px 1px}}@media (max-width: 320px){.train-formation-container{padding:16px 16px 1px}}.title-container{display:flex;align-items:center;margin-bottom:0}.train-number-badge{margin-left:16px;padding:4px 9px 4px 8px;background-color:var(--sbb-color-white);box-shadow:0 1px 3px #0000000d;font-size:20px;font-weight:700;color:var(--sbb-color-blue);border-radius:18px;display:inline-flex;align-items:center;line-height:1;position:relative;top:-7px;border:1px solid transparent}@media (prefers-color-scheme: dark){.train-number-badge{border-color:var(--sbb-color-cloud)}}@media (max-width: 380px){.train-number-badge{font-size:18px;padding:4px 9px 4px 8px;margin-left:12px;border-radius:16px}}@media (max-width: 320px){.train-number-badge{font-size:16px;padding:4px 8px 4px 7px;margin-left:10px;border-radius:15px}}.icon-container{display:flex;align-items:center;justify-content:center;background-color:var(--sbb-color-blue);color:#fff;border-radius:50%;width:24px;height:24px;margin-right:6px}@media (max-width: 380px){.icon-container{width:22px;height:22px;margin-right:6px}}@media (max-width: 320px){.icon-container{width:20px;height:20px;margin-right:5px}}.icon-container sbb-icon{font-size:16px;height:20px;width:20px;display:flex;align-items:center;justify-content:center}@media (max-width: 430px){.icon-container sbb-icon{font-size:16px;height:18px;width:18px}}@media (max-width: 380px){.icon-container sbb-icon{font-size:14px;height:16px;width:16px}}@media (max-width: 320px){.icon-container sbb-icon{font-size:12px;height:14px;width:14px}}.status-container{min-height:120px;margin-bottom:24px;position:relative;display:flex;align-items:center;justify-content:center;background-color:var(--sbb-color-milk);border-radius:4px}.no-data-message{padding:24px;text-align:center;color:var(--sbb-color-metal);font-style:italic;width:100%}.loading-indicator{padding:24px;text-align:center;color:var(--sbb-color-blue);font-weight:600;display:flex;justify-content:center;width:100%}.train-visualization{margin-top:0}.train-header{display:flex;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:16px}@media (max-width: 576px){.train-header{flex-direction:column}}.train-info{flex:1;min-width:200px}.train-route{font-size:16px;color:var(--sbb-color-black)}.train-date{font-size:16px;color:var(--sbb-color-metal);display:flex;align-items:center;gap:2px;margin-left:-2.5px;margin-bottom:-2px}.date-icon{color:var(--sbb-color-blue);font-size:16px}.train-meta{text-align:right;color:var(--sbb-color-metal)}@media (max-width: 576px){.train-meta{text-align:left}}.stop-selector{margin-top:-17px}@media (max-width: 576px){.stop-selector{margin-top:-33px}}.stop-selector-tabs-wrapper{border-bottom:1px solid var(--sbb-color-cloud);margin-bottom:0;max-width:100%;width:fit-content;padding-top:3px;padding-bottom:0}.stop-selector-tabs{display:flex;flex-wrap:nowrap;min-width:max-content}.stop-tab{padding:8px 16px 4px;margin-bottom:4px;cursor:pointer;font-weight:500;border-bottom:3px solid transparent;white-space:nowrap;transition:all .2s ease}.stop-tab.active{border-bottom-color:var(--sbb-color-blue);color:var(--sbb-color-blue)}.stop-tab:hover:not(.active){border-bottom-color:var(--sbb-color-smoke)}.stop-details{padding:12px 8px;margin-top:-6px;display:flex;gap:8px;color:var(--sbb-color-metal);font-size:14px;flex-wrap:wrap;min-height:48px}.stop-details span{display:flex;align-items:center;gap:4px;margin-right:8px;height:24px}.stop-details sbb-icon{color:var(--sbb-color-blue);width:20px;height:20px;display:flex;align-items:center;justify-content:center}@media (max-width: 576px){.stop-details{padding:12px 8px;row-gap:4px}}@media (max-width: 345px){.stop-details{gap:6px}.stop-details span{margin-right:6px;gap:3px}.stop-details sbb-icon{width:18px;height:18px}}@media (max-width: 325px){.stop-details{gap:4px}.stop-details span{margin-right:4px;gap:2px}.stop-details sbb-icon{width:16px;height:16px}}*{box-sizing:border-box}.formation-display{margin-top:-20px;overflow-x:visible;overflow-y:visible;position:relative;transform:translateZ(0);-webkit-font-smoothing:antialiased;padding:0;font-size:0;width:calc(100% - .5px)}@media (max-width: 768px){.formation-display{margin-top:-20px}.train-header{margin-bottom:24px}.title-container{margin-bottom:0}}.sector-line{position:relative;height:40px;margin-bottom:16px;display:flex;width:fit-content}.sector-marker{position:relative;display:flex;flex-direction:column;justify-content:flex-end;height:100%;flex-shrink:0}.sector-label{position:absolute;bottom:-13px;z-index:15;pointer-events:none;transform:translate(-50%);background-color:var(--sbb-color-white);border-radius:16px;padding:4px 8px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 3px #0000000d;height:28px;border:1px solid transparent}@media (prefers-color-scheme: dark){.sector-label{border-color:var(--sbb-color-cloud)}}.sector-label .sector-icon{width:20px;height:20px;display:block}.sector-boundary{position:absolute;bottom:-7px;width:2px;height:16px;background-color:var(--sbb-color-blue);z-index:5;transform:translate(-50%);pointer-events:none}.sector-n\\/a{background-color:transparent}.train-wagons{display:flex;padding:0;min-width:max-content;margin-left:1px;font-size:0;line-height:0;letter-spacing:0;white-space:nowrap;flex-flow:row nowrap;-webkit-font-smoothing:antialiased;transform:translateZ(0);position:relative;overflow-y:visible}.wagon-container{display:block;margin:0;padding:16px 0 0;position:relative;width:100px;height:50px;flex:0 0 100px;font-size:0;letter-spacing:0;word-spacing:0;transform:translateZ(0);-webkit-font-smoothing:antialiased;touch-action:pan-x pan-y!important;cursor:pointer}.wagon-connector{width:10px;height:50px;display:block;position:relative;margin:16px 0 0;padding:0;flex:0 0 10px}.wagon-connector .no-passage-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:10px;height:10px;z-index:10}.direction-indicator{position:absolute;top:4px;right:4px;font-size:14px;color:var(--sbb-color-granite)}.wagon-attributes{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;margin-top:4px;min-height:24px}.attribute-group{display:flex;gap:4px}.attribute{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.attribute sbb-icon{font-size:16px;color:var(--sbb-color-black)}.wagon-tooltip{max-width:300px}.wagon-tooltip h4{margin-top:0;margin-bottom:8px;font-size:16px;color:var(--sbb-color-blue)}.wagon-tooltip ul{margin:4px 0;padding-left:8px;list-style:none}.wagon-tooltip ul li{display:flex;align-items:center;gap:6px;margin-bottom:4px}.wagon-tooltip .tooltip-icon{width:20px;height:20px;display:block;shape-rendering:geometricPrecision;flex-shrink:0;min-width:28px;object-fit:contain;object-position:left center}.wagon-tooltip .tooltip-icon.accessibility-icon{width:28px;height:28px}.wagon-tooltip .tooltip-icon[src*=occupancy]{min-width:20px;width:20px;height:20px}.wagon-tooltip .warning{margin-top:8px;display:flex;align-items:center;gap:4px;color:var(--sbb-color-red)}.wagon-tooltip .warning sbb-icon{color:var(--sbb-color-red)}.visualization-container{position:relative;width:fit-content;min-width:100%;padding-left:0;overflow-y:visible;margin-left:0}.sector-line-container{position:relative;width:100%;height:50px;z-index:10;margin-bottom:12px;padding-top:8px;padding-left:0}.sector-line-container.hidden{height:0;margin-bottom:0;padding-top:0;overflow:hidden}.sector-horizontal-line{position:absolute;bottom:0;left:0;width:100%;height:2px;background-color:var(--sbb-color-metal);z-index:4}.train-wagons-container{position:relative;width:100%;margin-top:20px;z-index:20;max-width:100%;padding-left:0;padding-bottom:53px;margin-left:0;touch-action:pan-x pan-y!important;transform:translateZ(0);-webkit-font-smoothing:antialiased}.sector-highlights-container{position:absolute;top:54px;left:0;width:100%;height:calc(100% - 54px);z-index:5;pointer-events:none}.sector-divider{position:absolute;top:15%;height:70%;width:1px;background:linear-gradient(to bottom,transparent,rgba(var(--sbb-color-blue-rgb),.15),transparent);z-index:6;transform:translate(-50%);pointer-events:none}.boundary-line{position:absolute;bottom:-7px;width:2px;height:16px;background-color:var(--sbb-color-blue);border-radius:1px;z-index:5;transform:translate(-50%);pointer-events:none}.wagon-number{font-size:12px;color:var(--sbb-color-metal);font-family:sans-serif}.wagon-class{font-size:16px;font-weight:700;color:var(--sbb-color-blue);font-family:sans-serif}.locomotive-svg,.wagon-svg{width:100px;height:50px;display:block;shape-rendering:geometricPrecision}.locomotive-container,.wagon-container-inner{position:relative;width:100px;height:50px;display:block}.locomotive-text,.wagon-text{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.locomotive-text .wagon-number,.wagon-text .wagon-number{font-size:12px;color:var(--sbb-color-metal);font-family:sans-serif;position:absolute;top:-9px;left:50%;transform:translate(-50%);text-align:center}.locomotive-text .wagon-class,.wagon-text .wagon-class{font-size:16px;font-weight:700;color:var(--sbb-color-blue);font-family:sans-serif;position:absolute;top:25px;left:19.5px;transform:translate(-50%);text-align:center}.wagon-icons{position:absolute;top:14px;left:36px;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.wagon-container-inner.mixed-class .wagon-icons{left:38.5px}.wagon-container.left-slope .wagon-container-inner.mixed-class .wagon-text .wagon-class{left:22px}.wagon-container.left-slope .wagon-container-inner.mixed-class .wagon-icons{left:41px}.wagon-container.left-slope .wagon-container-inner.mixed-class .entry-icon{right:6.5px}.occupancy-icon{width:20px;height:20px;display:block;shape-rendering:geometricPrecision}.entry-icon{position:absolute;top:14px;right:9px;width:30px;height:30px;display:block;shape-rendering:geometricPrecision;z-index:2}.train-visualization image,.wagon-attribute-pictogram,.sector-icon,.no-passage-icon{shape-rendering:geometricPrecision;image-rendering:optimizeQuality}.error-message{width:100%}.error-message .technical-details{margin-top:4px;color:var(--sbb-color-granite);font-style:italic}.train-formation-container sbb-alert .sbb-alert,.train-formation-container .sbb-alert,.train-formation-container .error-message .sbb-alert{border-radius:4px!important;background-color:var(--sbb-color-milk)!important;color:var(--sbb-color-black)!important}.train-formation-container sbb-alert .sbb-alert .sbb-alert-content,.train-formation-container .sbb-alert .sbb-alert-content,.train-formation-container .error-message .sbb-alert .sbb-alert-content{color:var(--sbb-color-black)!important}.train-formation-container sbb-alert .sbb-alert .sbb-alert-close-button,.train-formation-container .sbb-alert .sbb-alert-close-button,.train-formation-container .error-message .sbb-alert .sbb-alert-close-button{color:var(--sbb-color-black)!important}.train-formation-container sbb-alert .sbb-alert .sbb-alert-close-button .sbb-alert-close-button-icon,.train-formation-container .sbb-alert .sbb-alert-close-button .sbb-alert-close-button-icon,.train-formation-container .error-message .sbb-alert .sbb-alert-close-button .sbb-alert-close-button-icon{border-color:var(--sbb-color-black)!important}.train-formation-container sbb-alert .sbb-alert :is(a,a:is(:hover,:focus)),.train-formation-container .sbb-alert :is(a,a:is(:hover,:focus)),.train-formation-container .error-message .sbb-alert :is(a,a:is(:hover,:focus)){color:var(--sbb-color-black)!important}.wagon-attributes-badge{position:absolute;left:50%;transform:translate(-50%);bottom:-53px;background-color:var(--sbb-color-white);border-radius:16px;padding:4px 8px;display:flex;align-items:center;justify-content:center;gap:4px;z-index:25;box-shadow:0 1px 3px #0000000d;height:28px;border:1px solid transparent}@media (prefers-color-scheme: dark){.wagon-attributes-badge{border-color:var(--sbb-color-cloud)}}.wagon-attribute-pictogram{width:20px;height:20px;display:block}@media screen and (max-width: 610px){.hide-on-small-screen{display:none!important}.stop-details span{display:flex;align-items:center}.stop-details .arrival-time.hide-on-small-screen{display:none!important}.stop-details .arrival-time:not(.hide-on-small-screen){display:flex!important}}.train-formation-container .os-scrollbar-horizontal{width:20%!important;left:40%!important;right:40%!important;background-color:#fff!important;border-radius:8px!important}.train-formation-container .stop-selector-tabs-wrapper .os-scrollbar-horizontal{bottom:auto!important}.train-formation-container .os-scrollbar-horizontal .os-scrollbar-handle{min-width:30px!important;max-width:60px!important;background-color:var(--sbb-color-blue)!important;border-radius:6px!important}.train-formation-container .os-scrollbar-horizontal .os-scrollbar-handle:hover,.train-formation-container .os-scrollbar-horizontal .os-scrollbar-handle:active{background-color:var(--sbb-color-blue)!important}.os-theme-ski-wagons.os-scrollbar-horizontal{bottom:3px!important}.train-formation-container img,.train-formation-container .wagon-icons,.train-formation-container .wagon-attributes,.train-formation-container .attribute,.train-formation-container .tooltip-icon{-webkit-touch-callout:none;-webkit-user-select:none;-webkit-user-drag:none;user-select:none}.train-formation-container .occupancy-icon,.train-formation-container .entry-icon,.train-formation-container .wagon-attribute-pictogram,.train-formation-container .locomotive-svg,.train-formation-container .wagon-svg,.train-formation-container .sector-icon,.train-formation-container .no-passage-icon,.train-formation-container .tooltip-icon{pointer-events:none}
`],encapsulation:2})};function zF(t,n){if(t&1&&$(0,"img",11),t&2){let e=x().$implicit;Dr("alt",e.label),C("src",e.svgPath,Je)}}function WF(t,n){if(t&1&&(v(0,"div",8),H(1,zF,1,2,"img",9),v(2,"span",10),j(3),y()()),t&2){let e=n.$implicit;f(),C("ngIf",e.svgPath),f(2),Se(e.label)}}function GF(t,n){if(t&1&&(v(0,"div",4)(1,"h3",5),j(2,"Accessibility"),y(),v(3,"div",6),H(4,WF,4,2,"div",7),y()()),t&2){let e=x();f(4),C("ngForOf",e.legendAccessibility)}}function YF(t,n){if(t&1&&(v(0,"div",15),$(1,"img",16),y()),t&2){let e=x(3);f(),C("src",e.getLocomotiveSvgPath(),Je)}}function qF(t,n){if(t&1&&(v(0,"div",17),$(1,"img",18),v(2,"div",19)(3,"span",20),j(4,"1/2"),y()()()),t&2){let e=x(3);f(),C("src",e.getWagonSvgPath(!1),Je)}}function KF(t,n){if(t&1&&(v(0,"div",17),$(1,"img",21),y()),t&2){let e=x(3);f(),C("src",e.getWagonSvgPath(!0),Je)}}function XF(t,n){if(t&1&&(v(0,"div",22),$(1,"img",11),y()),t&2){let e=x().$implicit;f(),Dr("alt",e.label),C("src",e.svgPath,Je)}}function ZF(t,n){if(t&1&&(v(0,"div",8),H(1,YF,2,1,"div",12)(2,qF,5,1,"div",13)(3,KF,2,1,"div",13)(4,XF,2,2,"div",14),v(5,"span",10),j(6),y()()),t&2){let e=n.$implicit;f(),C("ngIf",e.style==="locomotive"),f(),C("ngIf",e.style==="mixed"),f(),C("ngIf",e.style==="closed"),f(),C("ngIf",e.svgPath&&!e.isRange),f(2),Se(e.label)}}function QF(t,n){if(t&1&&(v(0,"div",4)(1,"h3",5),j(2,"Wagons and Classes"),y(),v(3,"div",6),H(4,ZF,7,5,"div",7),y()()),t&2){let e=x();f(4),C("ngForOf",e.legendWagonTypes)}}function JF(t,n){if(t&1&&$(0,"img",11),t&2){let e=x().$implicit;Dr("alt",e.label),C("src",e.svgPath,Je)}}function eP(t,n){if(t&1&&(v(0,"div",8)(1,"div",22),H(2,JF,1,2,"img",9),y(),v(3,"span",10),j(4),y()()),t&2){let e=n.$implicit;f(2),C("ngIf",e.svgPath),f(2),Se(e.label)}}function tP(t,n){if(t&1&&(v(0,"div",4)(1,"h3",5),j(2,"Occupancy"),y(),v(3,"div",6),H(4,eP,5,2,"div",7),y()()),t&2){let e=x();f(4),C("ngForOf",e.legendOccupancy)}}function nP(t,n){if(t&1&&$(0,"img",28),t&2){let e=x(2).$implicit;C("src",e.svgPath,Je)}}function iP(t,n){if(t&1&&$(0,"img",29),t&2){let e=x(2).$implicit;C("src",e.endSvgPath,Je)}}function rP(t,n){if(t&1&&(Tt(0),v(1,"div",24),H(2,nP,1,1,"img",25),v(3,"span",26),j(4,"-"),y(),H(5,iP,1,1,"img",27),y(),Rt()),t&2){let e=x().$implicit;f(2),C("ngIf",e.svgPath),f(3),C("ngIf",e.endSvgPath)}}function oP(t,n){if(t&1&&(v(0,"div",22),$(1,"img",11),y()),t&2){let e=x().$implicit;f(),Dr("alt",e.label),C("src",e.svgPath,Je)}}function sP(t,n){if(t&1&&(v(0,"div",8),H(1,rP,6,2,"ng-container",23)(2,oP,2,2,"div",14),v(3,"span",10),j(4),y()()),t&2){let e=n.$implicit;f(),C("ngIf",e.isRange),f(),C("ngIf",e.svgPath&&!e.isRange),f(2),Se(e.label)}}function aP(t,n){if(t&1&&(v(0,"div",4)(1,"h3",5),j(2),y(),v(3,"div",6),H(4,sP,5,3,"div",7),y()()),t&2){let e=x();f(2),Se(e.getFacilitiesTitle()),f(2),C("ngForOf",e.legendFacilities)}}var th=class t{constructor(n,e,i){this.formationService=n;this.themeService=e;this.svgPreloaderService=i}trainFormation=null;legendWagonTypes=[];legendAccessibility=[];legendFacilities=[];legendOccupancy=[];currentStopIndex=0;subscriptions=[];isDarkMode=!1;ngOnInit(){this.subscriptions.push(this.formationService.currentFormation$.subscribe(n=>{this.trainFormation=n,this.updateLegend()})),this.subscriptions.push(this.formationService.currentStopIndex$.subscribe(n=>{this.currentStopIndex=n,this.updateLegend()})),this.subscriptions.push(this.themeService.darkMode$.subscribe(n=>{this.isDarkMode=n,this.updateLegend()}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}updateLegend(){if(!this.trainFormation){this.legendWagonTypes=[],this.legendAccessibility=[],this.legendFacilities=[],this.legendOccupancy=[];return}let n=this.getAllWagons();this.updateWagonTypes(n),this.updateAccessibility(n),this.updateFacilities(n),this.updateOccupancy(n)}getLocomotiveSvgPath(){return`assets/wagons/locomotive-${this.isDarkMode?"dark":"light"}.svg`}getWagonSvgPath(n=!1){let e=this.isDarkMode?"dark":"light";return`assets/wagons/${n?"wagon-regular-closed":"wagon-regular"}-${e}.svg`}getNoPassageSvgPath(){return`assets/icons/no-passage-${this.isDarkMode?"dark":"light"}.svg`}getLowFloorEntryPath(){return`assets/icons/low-floor-entry-${this.isDarkMode?"dark":"light"}.svg`}getEntryWithStepsPath(){return`assets/icons/entry-with-steps-${this.isDarkMode?"dark":"light"}.svg`}getSectorSvgPath(n){return!n||n==="N/A"?"":`assets/pictos/sector-${n.toLowerCase()}.svg`}getAllWagons(){return this.trainFormation?this.trainFormation.sections.reduce((n,e)=>n.concat(e.wagons),[]):[]}updateWagonTypes(n){this.legendWagonTypes=[],n.some(e=>e.type==="locomotive")&&this.legendWagonTypes.push({label:"Locomotive",style:"locomotive"}),n.some(e=>e.classes&&e.classes.length>0)&&this.legendWagonTypes.push({label:"1st/2nd Class Coach",style:"mixed"}),n.some(e=>e.statusCodes&&e.statusCodes.includes("Closed"))&&this.legendWagonTypes.push({label:"Closed Coach",style:"closed"}),n.some(e=>(e.noAccessToPrevious||e.noAccessToNext)&&e.type!=="locomotive")&&this.legendWagonTypes.push({label:"No passage between cars",svgPath:this.getNoPassageSvgPath()})}updateAccessibility(n){this.legendAccessibility=[],n.some(e=>e.attributes.some(i=>["NF","KW"].includes(i.code)))&&this.legendAccessibility.push({label:"Low Floor Entry",svgPath:this.getLowFloorEntryPath()}),n.some(e=>e.type!=="locomotive"&&!e.attributes.some(i=>["NF","KW"].includes(i.code)))&&this.legendAccessibility.push({label:"Entry with Steps",svgPath:this.getEntryWithStepsPath()})}updateFacilities(n){this.legendFacilities=[],this.addPlatformSectorsToFacilities();let e={BHP:{label:"Wheelchair Spaces",path:"assets/pictos/wheelchair.svg"},VH:{label:"Bike Hooks",path:"assets/pictos/bike-hooks.svg"},VR:{label:"Bike Hooks Reservation Required",path:"assets/pictos/bike-hooks-reservation.svg"},BZ:{label:"Business Zone",path:"assets/pictos/business.svg"},FZ:{label:"Family Zone",path:"assets/pictos/family-zone.svg"},FA:{label:"Family Zone",path:"assets/pictos/family-zone.svg"},LA:{label:"Luggage",path:"assets/pictos/luggage.svg"},WR:{label:"Restaurant",path:"assets/pictos/restaurant.svg"},WL:{label:"Sleeping Compartments",path:"assets/pictos/sleep.svg"},CC:{label:"Couchette Compartments",path:"assets/pictos/couchette.svg"},KW:{label:"Stroller Platform",path:"assets/pictos/stroller.svg"}},i=new Set;n.forEach(r=>{r.attributes.forEach(o=>{if(e[o.code]){if(o.code==="WR"&&r.statusCodes&&r.statusCodes.includes("Open but unserviced"))return;i.add(o.code)}})}),Array.from(i).forEach(r=>{let o=e[r];this.legendFacilities.push({label:o.label,svgPath:o.path})})}addPlatformSectorsToFacilities(){if(!this.trainFormation||!this.trainFormation.stops||this.trainFormation.stops.length===0||!this.trainFormation.stops[this.currentStopIndex].hasSectors)return;let n=this.trainFormation.sections.map(r=>r.sector).filter(r=>r&&r!=="N/A");if(n.length===0)return;n.sort();let e=n[0],i=n[n.length-1];e&&i&&(e===i?this.legendFacilities.push({label:"Platform sector",svgPath:this.getSectorSvgPath(e),isRange:!1}):this.legendFacilities.push({label:"Platform sectors",svgPath:this.getSectorSvgPath(e),endSvgPath:this.getSectorSvgPath(i),isRange:!0}))}updateOccupancy(n){this.legendOccupancy=[];let e=new Set;n.forEach(i=>{i.firstClassOccupancy&&e.add(i.firstClassOccupancy.icon),i.secondClassOccupancy&&e.add(i.secondClassOccupancy.icon)}),e.size!==0&&Object.values(Ku).forEach(i=>{if(e.has(i.icon)){let r=this.isDarkMode?"dark":"light";this.legendOccupancy.push({label:i.label,svgPath:`assets/icons/${i.icon}-${r}.svg`})}})}hasSectors(){return!this.trainFormation||!this.trainFormation.stops||this.trainFormation.stops.length===0?!1:this.trainFormation.stops[this.currentStopIndex].hasSectors}getFacilitiesTitle(){return this.hasSectors()?"Sectors and Facilities":"Facilities"}static \u0275fac=function(e){return new(e||t)(X(Si),X(mr),X(yr))};static \u0275cmp=ce({type:t,selectors:[["app-train-legend"]],decls:8,vars:4,consts:[[1,"formation-legend"],[1,"title-container"],[1,"sbb-headline2"],["class","legend-section",4,"ngIf"],[1,"legend-section"],[1,"sbb-headline3"],[1,"legend-grid"],["class","legend-item",4,"ngFor","ngForOf"],[1,"legend-item"],["class","legend-svg-icon","loading","eager",3,"src","alt",4,"ngIf"],[1,"legend-label"],["loading","eager",1,"legend-svg-icon",3,"src","alt"],["class","locomotive-container",4,"ngIf"],["class","wagon-container-inner",4,"ngIf"],["class","pictogram-box",4,"ngIf"],[1,"locomotive-container"],["alt","Locomotive","loading","eager",1,"legend-locomotive-svg",3,"src"],[1,"wagon-container-inner"],["alt","Regular wagon","loading","eager",1,"legend-wagon-svg",3,"src"],[1,"wagon-text"],[1,"wagon-class"],["alt","Closed wagon","loading","eager",1,"legend-wagon-svg",3,"src"],[1,"pictogram-box"],[4,"ngIf"],[1,"sector-range"],["alt","Start Sector","class","legend-svg-icon","loading","eager",3,"src",4,"ngIf"],[1,"range-separator"],["alt","End Sector","class","legend-svg-icon","loading","eager",3,"src",4,"ngIf"],["alt","Start Sector","loading","eager",1,"legend-svg-icon",3,"src"],["alt","End Sector","loading","eager",1,"legend-svg-icon",3,"src"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"div",1)(2,"h2",2),j(3,"Legend"),y()(),H(4,GF,5,1,"div",3)(5,QF,5,1,"div",3)(6,tP,5,1,"div",3)(7,aP,5,2,"div",3),y()),e&2&&(f(4),C("ngIf",i.legendAccessibility.length>0),f(),C("ngIf",i.legendWagonTypes.length>0),f(),C("ngIf",i.legendOccupancy.length>0),f(),C("ngIf",i.legendFacilities.length>0))},dependencies:[On,Ji,xr,$e],styles:['.formation-legend[_ngcontent-%COMP%]{padding:24px 24px 8px;background-color:var(--sbb-color-milk);border-radius:16px}@media (max-width: 370px){.formation-legend[_ngcontent-%COMP%]{padding:20px 20px 8px}}@media (max-width: 320px){.formation-legend[_ngcontent-%COMP%]{padding:16px 16px 8px}}.formation-legend[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1px}.formation-legend[_ngcontent-%COMP%]   .legend-section[_ngcontent-%COMP%]{margin-bottom:10px}.formation-legend[_ngcontent-%COMP%]   .legend-section[_ngcontent-%COMP%] + .legend-section[_ngcontent-%COMP%]{margin-top:10px}.formation-legend[_ngcontent-%COMP%]   .legend-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:4px 16px}@media (max-width: 591px){.formation-legend[_ngcontent-%COMP%]   .legend-grid[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]:has(img[alt="Low Floor Entry"]) + .legend-item[_ngcontent-%COMP%]:has(img[alt="Entry with Steps"]){margin-top:-6px}}.formation-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;min-width:0;margin-bottom:0;padding:2px 6px}@media (min-width: 668px){.formation-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{width:240px;flex-grow:0;flex-shrink:0}}@media (max-width: 667px){.formation-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{min-width:100%}}.sbb-headline3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px;font-size:18px;font-weight:400;color:var(--sbb-color-metal)}.legend-locomotive-svg[_ngcontent-%COMP%], .legend-wagon-svg[_ngcontent-%COMP%]{width:50px;height:25px;shape-rendering:geometricPrecision}.locomotive-container[_ngcontent-%COMP%]{width:50px;height:28px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.wagon-container-inner[_ngcontent-%COMP%]{position:relative;width:50px;height:28px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.wagon-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;width:50px;height:25px;transform:translateY(-50%);pointer-events:none}.wagon-text[_ngcontent-%COMP%]   .wagon-class[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:var(--sbb-color-blue);font-family:sans-serif;position:absolute;top:4.5px;left:15.5px;text-align:center}.legend-label[_ngcontent-%COMP%]{color:var(--sbb-color-charcoal);white-space:nowrap;overflow:visible;line-height:1.2}.legend-svg-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:block;shape-rendering:geometricPrecision}.pictogram-box[_ngcontent-%COMP%]{background-color:var(--sbb-color-white);border-radius:16px;padding:4px 8px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 3px #0000000d;height:28px;border:1px solid transparent}@media (prefers-color-scheme: dark){.pictogram-box[_ngcontent-%COMP%]{border-color:var(--sbb-color-cloud)}}.pictogram-box[_ngcontent-%COMP%]   .legend-svg-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:block}.legend-section[_ngcontent-%COMP%]:last-child   .legend-item[_ngcontent-%COMP%]   img.legend-svg-icon[_ngcontent-%COMP%]:not(.sector-range img){background-color:transparent;border-radius:0;padding:0;box-shadow:none;height:20px;width:20px}.legend-section[_ngcontent-%COMP%]:last-child   .legend-item[_ngcontent-%COMP%]   .sector-range[_ngcontent-%COMP%]{background-color:var(--sbb-color-white);border-radius:16px;padding:4px 8px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 3px #0000000d;height:28px;margin:0;gap:4px;border:1px solid transparent}@media (prefers-color-scheme: dark){.legend-section[_ngcontent-%COMP%]:last-child   .legend-item[_ngcontent-%COMP%]   .sector-range[_ngcontent-%COMP%]{border-color:var(--sbb-color-cloud)}}.legend-section[_ngcontent-%COMP%]:last-child   .legend-item[_ngcontent-%COMP%]   .sector-range[_ngcontent-%COMP%]   img.legend-svg-icon[_ngcontent-%COMP%]{background:none;box-shadow:none;padding:0;height:20px;width:20px}.range-separator[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:var(--sbb-color-charcoal);margin:0}.legend-item[_ngcontent-%COMP%]   img[alt="Low Floor Entry"][_ngcontent-%COMP%], .legend-item[_ngcontent-%COMP%]   img[alt="Entry with Steps"][_ngcontent-%COMP%], .legend-item[_ngcontent-%COMP%]   img[alt="No passage between wagons"][_ngcontent-%COMP%]{background-color:transparent!important;border-radius:0!important;padding:0!important;box-shadow:none!important}.legend-item[_ngcontent-%COMP%]   img[alt="Low Floor Entry"][_ngcontent-%COMP%], .legend-item[_ngcontent-%COMP%]   img[alt="Entry with Steps"][_ngcontent-%COMP%]{width:30px!important;height:30px!important;object-fit:contain}.pictogram-box[_ngcontent-%COMP%]   img[alt="No passage between wagons"][_ngcontent-%COMP%]{width:18px!important;height:18px!important}.legend-section[_ngcontent-%COMP%]:has(.locomotive-container,.wagon-container-inner)   .legend-grid[_ngcontent-%COMP%]{gap:2px 16px}@media (max-width: 400px){.legend-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.legend-label[_ngcontent-%COMP%]{white-space:normal;line-height:1.2}}']})};function lP(t,n){t&1&&$(0,"app-train-legend")}var vs=class t{constructor(n,e,i,r){this.formationService=n;this.scrollService=e;this.svgPreloaderService=i;this.ngZone=r}static ANCHOR_POINT=78;static MIN_SPACING=40;static SPACING_CALCULATION_DELAY=100;static SCROLLBAR_THEME="os-theme-ski-body";static SCROLLBAR_AUTO_HIDE_DELAY=1e3;title="Train Formation Visualization";showLegend=!1;bottomSpacingHeight="0px";spacingReadySubject=new Pe(!1);subscriptions=[];bodyOsInstance=null;ngAfterViewInit(){this.initializeBodyOverlayScrollbars(),this.setInitialScrollPosition()}ngOnInit(){this.startSvgPreloading(),this.subscribeToFormationUpdates(),this.subscribeToErrorUpdates()}getSpacingReadyState(){return this.spacingReadySubject.asObservable()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe()),this.spacingReadySubject.complete(),this.destroyOverlayScrollbars()}initializeBodyOverlayScrollbars(){this.ngZone.runOutsideAngular(()=>{this.bodyOsInstance=Qt({target:document.body,cancel:{body:!1}},{scrollbars:{theme:t.SCROLLBAR_THEME,autoHide:"scroll",autoHideDelay:t.SCROLLBAR_AUTO_HIDE_DELAY}}),this.scrollService.setBodyOverlayScrollbarsInstance(this.bodyOsInstance)})}setInitialScrollPosition(){let n=document.querySelector("app-search-form");n&&(this.scrollService.scrollToTop(),this.scrollService.scrollToAnchor(n,"instant"))}startSvgPreloading(){this.svgPreloaderService.preloadAllSvgs().then(()=>{}).catch(n=>{console.warn("SVG preloading failed:",n)})}subscribeToFormationUpdates(){this.subscriptions.push(this.formationService.currentFormation$.subscribe(n=>{this.handleFormationUpdate(n)}))}subscribeToErrorUpdates(){this.subscriptions.push(this.formationService.currentError$.subscribe(n=>{this.handleErrorUpdate(n)}))}handleFormationUpdate(n){this.showLegend=!!n,n?this.scheduleSpacingCalculation():this.resetSpacing()}handleErrorUpdate(n){n&&(this.showLegend=!1,this.resetSpacing())}scheduleSpacingCalculation(){this.spacingReadySubject.next(!1),requestAnimationFrame(()=>{this.calculateDynamicSpacing(),setTimeout(()=>{this.calculateDynamicSpacing(),requestAnimationFrame(()=>{this.calculateDynamicSpacing(),this.spacingReadySubject.next(!0)})},t.SPACING_CALCULATION_DELAY)})}resetSpacing(){this.bottomSpacingHeight="0px",this.spacingReadySubject.next(!1)}calculateDynamicSpacing(){let n=this.getDomElements();if(!n.trainFormation||!n.footer)return;let e=this.getViewportHeight(),i=this.calculateComponentHeights({trainFormation:n.trainFormation,trainLegend:n.trainLegend,footer:n.footer}),r=this.calculateRequiredSpacing(e,i);this.applySpacing(r),this.ensureProperScrollPosition(n.trainFormation)}getDomElements(){return{trainFormation:document.querySelector("app-train-formation"),trainLegend:document.querySelector("app-train-legend"),footer:document.querySelector(".footer")}}getViewportHeight(){if(this.bodyOsInstance){let{viewport:n}=this.bodyOsInstance.elements();return n.clientHeight}return window.innerHeight}calculateComponentHeights(n){return{formation:n.trainFormation.getBoundingClientRect().height,legend:n.trainLegend?.getBoundingClientRect().height||0,footer:n.footer.getBoundingClientRect().height}}calculateRequiredSpacing(n,e){let i=t.ANCHOR_POINT+e.formation+e.legend+e.footer+t.MIN_SPACING,r=Math.max(n-i+t.ANCHOR_POINT,t.MIN_SPACING);if(n>i){let o=n-i;r=Math.max(r,o+t.MIN_SPACING)}return r}applySpacing(n){this.bottomSpacingHeight=`${n}px`,this.spacingReadySubject.next(!0)}ensureProperScrollPosition(n){n.getBoundingClientRect().top!==t.ANCHOR_POINT&&this.scrollService.scrollToAnchor(n)}destroyOverlayScrollbars(){this.bodyOsInstance&&(this.bodyOsInstance.destroy(),this.bodyOsInstance=null)}static \u0275fac=function(e){return new(e||t)(X(Si),X(_s),X(yr),X(me))};static \u0275cmp=ce({type:t,selectors:[["app-root"]],decls:24,vars:5,consts:[[1,"page-container"],[1,"content"],[1,"train-view-container"],[1,"visualization-section"],[4,"ngIf"],[1,"footer"],["href","https://api-manager.opentransportdata.swiss/portal/catalogue-products/tedp_formation_service_api-1","target","_blank"],["href","https://www.oev-info.ch/de/organisation/ueber-ski","target","_blank"],["href","https://opentransportdata.swiss/en/cookbook/realtime-prediction-cookbook/formationsdaten/","target","_blank"],["href","https://github.com/openTdataCH/train-formation-view","target","_blank"],[1,"dynamic-spacing"]],template:function(e,i){e&1&&($(0,"app-header"),v(1,"div",0)(2,"div",1)(3,"div",2),$(4,"app-search-form"),v(5,"div",3),$(6,"app-train-formation"),H(7,lP,1,0,"app-train-legend",4),y()()(),v(8,"div",5)(9,"p"),j(10,"This showcase uses the "),v(11,"a",6),j(12,"train formation service API"),y(),j(13," published by "),v(14,"a",7),j(15,"SKI+"),y(),j(16,". Visit the cookbook "),v(17,"a",8),j(18,"here"),y(),j(19," or explore the GitHub "),v(20,"a",9),j(21,"repository"),y(),j(22,"."),y()(),$(23,"div",10),y()),e&2&&(f(),ye("has-formation",i.showLegend),f(6),C("ngIf",i.showLegend),f(16),Vt("height",i.bottomSpacingHeight))},dependencies:[On,xr,Ou,Qu,eh,th],styles:[`body{background-color:var(--sbb-color-white);margin:0;min-height:100vh}.page-container{min-height:100vh;display:flex;flex-direction:column}.page-container:not(.has-formation){justify-content:space-between}.page-container:not(.has-formation) .content{flex:0 0 auto}.page-container:not(.has-formation) .dynamic-spacing{display:none}.page-container.has-formation{justify-content:flex-start}.page-container.has-formation .content{flex:1 0 auto}.content{display:flex;flex-direction:column}.train-view-container{padding:24px;padding-top:calc(var(--sbb-header-lean-height) + 24px);max-width:1198px;margin:0 auto;width:100%;box-sizing:border-box}@media (max-width: 370px){.train-view-container{padding:20px;padding-top:calc(var(--sbb-header-lean-height) + 20px)}}@media (max-width: 320px){.train-view-container{padding:16px;padding-top:calc(var(--sbb-header-lean-height) + 16px)}}.visualization-section{display:flex;flex-direction:column;margin-top:24px;gap:24px}@media (min-width: 992px){.visualization-section app-train-formation{flex:1}}@media (max-width: 370px){.visualization-section{margin-top:20px;gap:20px}}@media (max-width: 320px){.visualization-section{margin-top:16px;gap:16px}}.dynamic-spacing{width:100%;transition:height .3s ease-out;pointer-events:none}.footer{flex-shrink:0;text-align:center;padding:24px;margin-top:0}.footer p{margin:0;color:var(--sbb-form-label-color);font-family:var(--sbb-font-standard);font-size:14px;line-height:1.5}.footer a{color:var(--sbb-color-blue);text-decoration:none;vertical-align:baseline}.footer a:hover{text-decoration:underline}@media (max-width: 370px){.footer{padding:20px}}@media (max-width: 320px){.footer{padding:16px}.footer p{font-size:13px}}
`],encapsulation:2})};Qt.plugin(dv);$h(vs,ay).catch(t=>console.error(t));window.__spreadValues=(t,n)=>{for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t};var Dl=window;Dl.j||(Dl.j=Dl.__spreadValues);Dl.__assign||(Dl.__assign=Object.assign||function(t,...n){for(let e of n)for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t});
